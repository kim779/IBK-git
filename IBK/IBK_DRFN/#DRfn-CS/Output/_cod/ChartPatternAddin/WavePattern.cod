; Listing generated by Microsoft (R) Optimizing Compiler Version 19.29.30145.0 

	TITLE	D:\git\src\IBK\IBK_DRFN\#DRfn-CS\_Obj\ChartPatternAddin\WavePattern.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??1CObject@@UAE@XZ				; CObject::~CObject
PUBLIC	??3CObject@@SGXPAX@Z				; CObject::operator delete
PUBLIC	?Serialize@CObject@@UAEXAAVCArchive@@@Z		; CObject::Serialize
PUBLIC	?AssertValid@CObject@@UBEXXZ			; CObject::AssertValid
PUBLIC	?Dump@CObject@@UBEXAAVCDumpContext@@@Z		; CObject::Dump
PUBLIC	??0CWavePattern@@QAE@XZ				; CWavePattern::CWavePattern
PUBLIC	??1CWavePattern@@UAE@XZ				; CWavePattern::~CWavePattern
PUBLIC	?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z ; CWavePattern::Get_RegistNSupportLine
PUBLIC	?Find_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_HeaderNShoulders
PUBLIC	?Find_R_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_R_HeaderNShoulders
PUBLIC	?Find_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_DoubleTop
PUBLIC	?Find_R_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_R_DoubleTop
PUBLIC	?Find_Bull_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_IsoTriangles
PUBLIC	?Find_Bear_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_IsoTriangles
PUBLIC	?Find_Bull_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Triangles
PUBLIC	?Find_Bear_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Triangles
PUBLIC	?Find_Bullish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bullish_WideTriangles
PUBLIC	?Find_Bearish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bearish_WideTriangles
PUBLIC	?Find_Bull_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Wedge
PUBLIC	?Find_Bear_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Wedge
PUBLIC	?Find_Bull_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_SquareFlag
PUBLIC	?Find_Bear_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_SquareFlag
PUBLIC	?Find_Bull_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_TriangleFlag
PUBLIC	?Find_Bear_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_TriangleFlag
PUBLIC	?Find_Bull_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Rectangle
PUBLIC	?Find_Bear_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Rectangle
PUBLIC	?Find_V_Top@CWavePattern@@QAEHPAVCObject@@0@Z	; CWavePattern::Find_V_Top
PUBLIC	?Find_V_Bottom@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_V_Bottom
PUBLIC	?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
PUBLIC	?Find_All_WavePattern@CWavePattern@@QAEXPAVCObject@@0@Z ; CWavePattern::Find_All_WavePattern
PUBLIC	?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z ; CWavePattern::GetPatternName
PUBLIC	?GetPatternTrend@CWavePattern@@QAEHH@Z		; CWavePattern::GetPatternTrend
PUBLIC	?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z ; CWavePattern::GetPatternTrendName
PUBLIC	?GetGradient@CWavePattern@@QAENNNNN@Z		; CWavePattern::GetGradient
PUBLIC	?GetModifyGradient@CWavePattern@@QAENNNNN@Z	; CWavePattern::GetModifyGradient
PUBLIC	??_GCWavePattern@@UAEPAXI@Z			; CWavePattern::`scalar deleting destructor'
PUBLIC	?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z ; IMetaTable::LoadResourceDLL
PUBLIC	??1CMultiLanguageResourceSetter@@QAE@XZ		; CMultiLanguageResourceSetter::~CMultiLanguageResourceSetter
PUBLIC	?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize
PUBLIC	?SetAtGrow@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHPAVCRegistNSupportData@@@Z ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetAtGrow
PUBLIC	?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z ; CArray<CWavePatternData *,CWavePatternData *>::SetSize
PUBLIC	?SetAtGrow@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHPAVCWavePatternData@@@Z ; CArray<CWavePatternData *,CWavePatternData *>::SetAtGrow
PUBLIC	??_C@_00CNPNBAHC@@				; `string'
PUBLIC	??_R0?AVCObject@@@8				; CObject `RTTI Type Descriptor'
PUBLIC	??_R3CObject@@8					; CObject::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CObject@@8					; CObject::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CObject@@8			; CObject::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_7CWavePattern@@6B@				; CWavePattern::`vftable'
PUBLIC	??_C@_0BA@ENJOCHIO@LoadResourceDLL@		; `string'
PUBLIC	??_R4CWavePattern@@6B@				; CWavePattern::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCWavePattern@@@8			; CWavePattern `RTTI Type Descriptor'
PUBLIC	??_R3CWavePattern@@8				; CWavePattern::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CWavePattern@@8				; CWavePattern::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CWavePattern@@8			; CWavePattern::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	__real@3fb999999999999a
PUBLIC	__real@3fd3333333333333
PUBLIC	__real@3fe3333333333333
PUBLIC	__real@4059000000000000
PUBLIC	__real@bfd3333333333333
PUBLIC	__real@bfe3333333333333
PUBLIC	__xmm@7fffffffffffffff7fffffffffffffff
EXTRN	??2@YAPAXI@Z:PROC				; operator new
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
EXTRN	?__global_delete@@YAXPAXI@Z:PROC		; __global_delete
EXTRN	??_U@YAPAXI@Z:PROC				; operator new[]
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	___std_terminate:PROC
EXTRN	__imp___invalid_parameter_noinfo:PROC
EXTRN	__imp___errno:PROC
EXTRN	__imp__GetProcAddress@8:PROC
EXTRN	?AfxThrowMemoryException@@YGXXZ:PROC		; AfxThrowMemoryException
EXTRN	?AfxThrowInvalidArgException@@YGXXZ:PROC	; AfxThrowInvalidArgException
EXTRN	?GetRuntimeClass@CObject@@UBEPAUCRuntimeClass@@XZ:PROC ; CObject::GetRuntimeClass
EXTRN	__imp_??0?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ:PROC
EXTRN	__imp_??1?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ:PROC
EXTRN	__imp_??4?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEAAV01@PBD@Z:PROC
EXTRN	__imp_?LoadStringA@?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEHI@Z:PROC
EXTRN	?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ:PROC ; AfxGetModuleState
EXTRN	?AfxGetStaticModuleState@@YGPAVAFX_MODULE_STATE@@XZ:PROC ; AfxGetStaticModuleState
EXTRN	??_ECWavePattern@@UAEPAXI@Z:PROC		; CWavePattern::`vector deleting destructor'
EXTRN	??0CRegistNSupportData@@QAE@XZ:PROC		; CRegistNSupportData::CRegistNSupportData
EXTRN	??0CWavePatternData@@QAE@XZ:PROC		; CWavePatternData::CWavePatternData
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?g_iMetaTable@@3VIMetaTable@@A:BYTE		; g_iMetaTable
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT __xmm@7fffffffffffffff7fffffffffffffff
CONST	SEGMENT
__xmm@7fffffffffffffff7fffffffffffffff DB 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH
	DB	0ffH, 07fH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 07fH
CONST	ENDS
;	COMDAT __real@bfe3333333333333
CONST	SEGMENT
__real@bfe3333333333333 DQ 0bfe3333333333333r	; -0.6
CONST	ENDS
;	COMDAT __real@bfd3333333333333
CONST	SEGMENT
__real@bfd3333333333333 DQ 0bfd3333333333333r	; -0.3
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@3fe3333333333333
CONST	SEGMENT
__real@3fe3333333333333 DQ 03fe3333333333333r	; 0.6
CONST	ENDS
;	COMDAT __real@3fd3333333333333
CONST	SEGMENT
__real@3fd3333333333333 DQ 03fd3333333333333r	; 0.3
CONST	ENDS
;	COMDAT __real@3fb999999999999a
CONST	SEGMENT
__real@3fb999999999999a DQ 03fb999999999999ar	; 0.1
CONST	ENDS
;	COMDAT ??_R1A@?0A@EA@CWavePattern@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CWavePattern@@8 DD FLAT:??_R0?AVCWavePattern@@@8 ; CWavePattern::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CWavePattern@@8
rdata$r	ENDS
;	COMDAT ??_R2CWavePattern@@8
rdata$r	SEGMENT
??_R2CWavePattern@@8 DD FLAT:??_R1A@?0A@EA@CWavePattern@@8 ; CWavePattern::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@CObject@@8
rdata$r	ENDS
;	COMDAT ??_R3CWavePattern@@8
rdata$r	SEGMENT
??_R3CWavePattern@@8 DD 00H				; CWavePattern::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2CWavePattern@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCWavePattern@@@8
data$rs	SEGMENT
??_R0?AVCWavePattern@@@8 DD FLAT:??_7type_info@@6B@	; CWavePattern `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCWavePattern@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CWavePattern@@6B@
rdata$r	SEGMENT
??_R4CWavePattern@@6B@ DD 00H				; CWavePattern::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCWavePattern@@@8
	DD	FLAT:??_R3CWavePattern@@8
rdata$r	ENDS
;	COMDAT ??_C@_0BA@ENJOCHIO@LoadResourceDLL@
CONST	SEGMENT
??_C@_0BA@ENJOCHIO@LoadResourceDLL@ DB 'LoadResourceDLL', 00H ; `string'
CONST	ENDS
;	COMDAT ??_7CWavePattern@@6B@
CONST	SEGMENT
??_7CWavePattern@@6B@ DD FLAT:??_R4CWavePattern@@6B@	; CWavePattern::`vftable'
	DD	FLAT:?GetRuntimeClass@CObject@@UBEPAUCRuntimeClass@@XZ
	DD	FLAT:??_ECWavePattern@@UAEPAXI@Z
	DD	FLAT:?Serialize@CObject@@UAEXAAVCArchive@@@Z
	DD	FLAT:?AssertValid@CObject@@UBEXXZ
	DD	FLAT:?Dump@CObject@@UBEXAAVCDumpContext@@@Z
CONST	ENDS
;	COMDAT ??_R1A@?0A@EA@CObject@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CObject@@8 DD FLAT:??_R0?AVCObject@@@8	; CObject::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CObject@@8
rdata$r	ENDS
;	COMDAT ??_R2CObject@@8
rdata$r	SEGMENT
??_R2CObject@@8 DD FLAT:??_R1A@?0A@EA@CObject@@8	; CObject::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CObject@@8
rdata$r	SEGMENT
??_R3CObject@@8 DD 00H					; CObject::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CObject@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCObject@@@8
data$rs	SEGMENT
??_R0?AVCObject@@@8 DD FLAT:??_7type_info@@6B@		; CObject `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCObject@@', 00H
data$rs	ENDS
;	COMDAT ??_C@_00CNPNBAHC@@
CONST	SEGMENT
??_C@_00CNPNBAHC@@ DB 00H				; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??1CMultiLanguageResourceSetter@@QAE@XZ DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$1
	DD	00H
	DD	FLAT:__unwindfunclet$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$0
	DD	00H
	DD	FLAT:___std_terminate
__ehfuncinfo$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z DD 019930522H
	DD	03H
	DD	FLAT:__unwindtable$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$1
	DD	00H
	DD	FLAT:__unwindfunclet$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$0
	DD	00H
	DD	FLAT:___std_terminate
__ehfuncinfo$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z DD 019930522H
	DD	03H
	DD	FLAT:__unwindtable$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z$0
__ehfuncinfo$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z$0
	DD	0ffffffffH
	DD	FLAT:__unwindfunclet$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z$1
__ehfuncinfo$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
;	COMDAT ?SetAtGrow@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHPAVCWavePatternData@@@Z
_TEXT	SEGMENT
_nIndex$ = 8						; size = 4
_newElement$ = 12					; size = 4
?SetAtGrow@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHPAVCWavePatternData@@@Z PROC ; CArray<CWavePatternData *,CWavePatternData *>::SetAtGrow, COMDAT
; _this$ = ecx

; 534  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 535  : 	ASSERT_VALID(this);
; 536  : 	ASSERT(nIndex >= 0);
; 537  : 
; 538  : 	if(nIndex < 0)

  00004	8b 75 08	 mov	 esi, DWORD PTR _nIndex$[ebp]
  00007	57		 push	 edi
  00008	8b f9		 mov	 edi, ecx
  0000a	85 f6		 test	 esi, esi
  0000c	78 1f		 js	 SHORT $LN7@SetAtGrow

; 540  : 
; 541  : 	if (nIndex >= m_nSize)

  0000e	3b 77 08	 cmp	 esi, DWORD PTR [edi+8]
  00011	7c 0b		 jl	 SHORT $LN3@SetAtGrow

; 542  : 		SetSize(nIndex+1, -1);

  00013	6a ff		 push	 -1
  00015	8d 46 01	 lea	 eax, DWORD PTR [esi+1]
  00018	50		 push	 eax
  00019	e8 00 00 00 00	 call	 ?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z ; CArray<CWavePatternData *,CWavePatternData *>::SetSize
$LN3@SetAtGrow:

; 543  : 	m_pData[nIndex] = newElement;

  0001e	8b 4f 04	 mov	 ecx, DWORD PTR [edi+4]
  00021	8b 45 0c	 mov	 eax, DWORD PTR _newElement$[ebp]
  00024	5f		 pop	 edi
  00025	89 04 b1	 mov	 DWORD PTR [ecx+esi*4], eax
  00028	5e		 pop	 esi

; 544  : }

  00029	5d		 pop	 ebp
  0002a	c2 08 00	 ret	 8
$LN7@SetAtGrow:

; 539  : 		AfxThrowInvalidArgException();

  0002d	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN5@SetAtGrow:
  00032	cc		 int	 3
?SetAtGrow@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHPAVCWavePatternData@@@Z ENDP ; CArray<CWavePatternData *,CWavePatternData *>::SetAtGrow
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
;	COMDAT ?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z
_TEXT	SEGMENT
__N$1$ = -8						; size = 4
__S1max$1$ = -4						; size = 4
__S2$1$ = 8						; size = 4
_nNewSize$ = 8						; size = 4
_pNewData$1$ = 12					; size = 4
_nGrowBy$ = 12						; size = 4
?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z PROC ; CArray<CWavePatternData *,CWavePatternData *>::SetSize, COMDAT
; _this$ = ecx

; 368  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx
  00007	56		 push	 esi

; 369  : 	ASSERT_VALID(this);
; 370  : 	ASSERT(nNewSize >= 0);
; 371  : 
; 372  : 	if(nNewSize < 0 )

  00008	8b 75 08	 mov	 esi, DWORD PTR _nNewSize$[ebp]
  0000b	8b d9		 mov	 ebx, ecx
  0000d	57		 push	 edi
  0000e	85 f6		 test	 esi, esi
  00010	0f 88 9a 01 00
	00		 js	 $LN56@SetSize

; 373  : 		AfxThrowInvalidArgException();
; 374  : 
; 375  : 	if (nGrowBy >= 0)

  00016	8b 45 0c	 mov	 eax, DWORD PTR _nGrowBy$[ebp]
  00019	85 c0		 test	 eax, eax
  0001b	78 03		 js	 SHORT $LN82@SetSize

; 376  : 		m_nGrowBy = nGrowBy;  // set new size

  0001d	89 43 10	 mov	 DWORD PTR [ebx+16], eax
$LN82@SetSize:

; 377  : 
; 378  : 	if (nNewSize == 0)

  00020	8b 4b 04	 mov	 ecx, DWORD PTR [ebx+4]
  00023	85 f6		 test	 esi, esi
  00025	75 27		 jne	 SHORT $LN19@SetSize

; 379  : 	{
; 380  : 		// shrink to nothing
; 381  : 		if (m_pData != NULL)

  00027	85 c9		 test	 ecx, ecx
  00029	74 0c		 je	 SHORT $LN21@SetSize

; 382  : 		{
; 383  : 			for( int i = 0; i < m_nSize; i++ )
; 384  : 				(m_pData + i)->~TYPE();
; 385  : 			delete[] (BYTE*)m_pData;

  0002b	51		 push	 ecx
  0002c	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00031	83 c4 04	 add	 esp, 4

; 386  : 			m_pData = NULL;

  00034	89 73 04	 mov	 DWORD PTR [ebx+4], esi
$LN21@SetSize:

; 475  : }

  00037	5f		 pop	 edi
  00038	5e		 pop	 esi
  00039	c7 43 0c 00 00
	00 00		 mov	 DWORD PTR [ebx+12], 0
  00040	c7 43 08 00 00
	00 00		 mov	 DWORD PTR [ebx+8], 0
  00047	5b		 pop	 ebx
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c2 08 00	 ret	 8
$LN19@SetSize:

; 387  : 		}
; 388  : 		m_nSize = m_nMaxSize = 0;
; 389  : 	}
; 390  : 	else if (m_pData == NULL)

  0004e	85 c9		 test	 ecx, ecx
  00050	75 36		 jne	 SHORT $LN22@SetSize

; 391  : 	{
; 392  : 		// create buffer big enough to hold number of requested elements or
; 393  : 		// m_nGrowBy elements, whichever is larger.
; 394  : #ifdef SIZE_T_MAX
; 395  : 		ASSERT(nNewSize <= SIZE_T_MAX/sizeof(TYPE));    // no overflow
; 396  : #endif
; 397  : 		size_t nAllocSize = __max(nNewSize, m_nGrowBy);

  00052	8b 7b 10	 mov	 edi, DWORD PTR [ebx+16]
  00055	3b f7		 cmp	 esi, edi
  00057	0f 4f fe	 cmovg	 edi, esi

; 398  : 		m_pData = (TYPE*) new BYTE[(size_t)nAllocSize * sizeof(TYPE)];

  0005a	8d 34 bd 00 00
	00 00		 lea	 esi, DWORD PTR [edi*4]
  00061	56		 push	 esi
  00062	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]

; 399  : 		memset((void*)m_pData, 0, (size_t)nAllocSize * sizeof(TYPE));

  00067	56		 push	 esi
  00068	6a 00		 push	 0
  0006a	50		 push	 eax
  0006b	89 43 04	 mov	 DWORD PTR [ebx+4], eax
  0006e	e8 00 00 00 00	 call	 _memset

; 400  : 		for( int i = 0; i < nNewSize; i++ )
; 401  : #pragma push_macro("new")
; 402  : #undef new
; 403  : 			::new( (void*)( m_pData + i ) ) TYPE;
; 404  : #pragma pop_macro("new")
; 405  : 		m_nSize = nNewSize;

  00073	8b 45 08	 mov	 eax, DWORD PTR _nNewSize$[ebp]
  00076	83 c4 10	 add	 esp, 16			; 00000010H

; 475  : }

  00079	89 7b 0c	 mov	 DWORD PTR [ebx+12], edi
  0007c	89 43 08	 mov	 DWORD PTR [ebx+8], eax
  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
$LN22@SetSize:

; 406  : 		m_nMaxSize = nAllocSize;
; 407  : 	}
; 408  : 	else if (nNewSize <= m_nMaxSize)

  00088	8b 7b 0c	 mov	 edi, DWORD PTR [ebx+12]
  0008b	3b f7		 cmp	 esi, edi
  0008d	7f 29		 jg	 SHORT $LN24@SetSize

; 409  : 	{
; 410  : 		// it fits
; 411  : 		if (nNewSize > m_nSize)

  0008f	8b 53 08	 mov	 edx, DWORD PTR [ebx+8]
  00092	3b f2		 cmp	 esi, edx
  00094	7e 16		 jle	 SHORT $LN26@SetSize

; 412  : 		{
; 413  : 			// initialize the new elements
; 414  : 			memset((void*)(m_pData + m_nSize), 0, (size_t)(nNewSize-m_nSize) * sizeof(TYPE));

  00096	8b c6		 mov	 eax, esi
  00098	2b c2		 sub	 eax, edx
  0009a	c1 e0 02	 shl	 eax, 2
  0009d	50		 push	 eax
  0009e	8d 04 91	 lea	 eax, DWORD PTR [ecx+edx*4]
  000a1	6a 00		 push	 0
  000a3	50		 push	 eax
  000a4	e8 00 00 00 00	 call	 _memset
  000a9	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN26@SetSize:

; 415  : 			for( int i = 0; i < nNewSize-m_nSize; i++ )
; 416  : #pragma push_macro("new")
; 417  : #undef new
; 418  : 				::new( (void*)( m_pData + m_nSize + i ) ) TYPE;
; 419  : #pragma pop_macro("new")
; 420  : 		}
; 421  : 		else if (m_nSize > nNewSize)
; 422  : 		{
; 423  : 			// destroy the old elements
; 424  : 			for( int i = 0; i < m_nSize-nNewSize; i++ )
; 425  : 				(m_pData + nNewSize + i)->~TYPE();
; 426  : 		}
; 427  : 		m_nSize = nNewSize;

  000ac	5f		 pop	 edi
  000ad	89 73 08	 mov	 DWORD PTR [ebx+8], esi

; 475  : }

  000b0	5e		 pop	 esi
  000b1	5b		 pop	 ebx
  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c2 08 00	 ret	 8
$LN24@SetSize:

; 428  : 	}
; 429  : 	else
; 430  : 	{
; 431  : 		// otherwise, grow array
; 432  : 		nGrowBy = m_nGrowBy;

  000b8	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]

; 433  : 		if (nGrowBy == 0)

  000bb	85 c0		 test	 eax, eax
  000bd	75 22		 jne	 SHORT $LN37@SetSize

; 434  : 		{
; 435  : 			// heuristically determine growth when nGrowBy == 0
; 436  : 			//  (this avoids heap fragmentation in many situations)
; 437  : 			nGrowBy = m_nSize / 8;

  000bf	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]
  000c2	99		 cdq
  000c3	83 e2 07	 and	 edx, 7
  000c6	03 c2		 add	 eax, edx
  000c8	c1 f8 03	 sar	 eax, 3

; 438  : 			nGrowBy = (nGrowBy < 4) ? 4 : ((nGrowBy > 1024) ? 1024 : nGrowBy);

  000cb	83 f8 04	 cmp	 eax, 4
  000ce	7d 07		 jge	 SHORT $LN36@SetSize
  000d0	b8 04 00 00 00	 mov	 eax, 4
  000d5	eb 0a		 jmp	 SHORT $LN37@SetSize
$LN36@SetSize:
  000d7	b9 00 04 00 00	 mov	 ecx, 1024		; 00000400H
  000dc	3b c1		 cmp	 eax, ecx
  000de	0f 4f c1	 cmovg	 eax, ecx
$LN37@SetSize:

; 439  : 		}
; 440  : 		INT_PTR nNewMax;
; 441  : 		if (nNewSize < m_nMaxSize + nGrowBy)

  000e1	03 f8		 add	 edi, eax
  000e3	3b f7		 cmp	 esi, edi
  000e5	7d 0b		 jge	 SHORT $LN30@SetSize

; 445  : 
; 446  : 		ASSERT(nNewMax >= m_nMaxSize);  // no wrap around
; 447  : 
; 448  : 		if(nNewMax  < m_nMaxSize)

  000e7	3b 7b 0c	 cmp	 edi, DWORD PTR [ebx+12]
  000ea	0f 8c c0 00 00
	00		 jl	 $LN56@SetSize
  000f0	eb 02		 jmp	 SHORT $LN32@SetSize
$LN30@SetSize:

; 442  : 			nNewMax = m_nMaxSize + nGrowBy;  // granularity
; 443  : 		else
; 444  : 			nNewMax = nNewSize;  // no slush

  000f2	8b fe		 mov	 edi, esi
$LN32@SetSize:

; 449  : 			AfxThrowInvalidArgException();
; 450  : 
; 451  : #ifdef SIZE_T_MAX
; 452  : 		ASSERT(nNewMax <= SIZE_T_MAX/sizeof(TYPE)); // no overflow
; 453  : #endif
; 454  : 		TYPE* pNewData = (TYPE*) new BYTE[(size_t)nNewMax * sizeof(TYPE)];

  000f4	8d 04 bd 00 00
	00 00		 lea	 eax, DWORD PTR [edi*4]
  000fb	50		 push	 eax
  000fc	89 45 fc	 mov	 DWORD PTR __S1max$1$[ebp], eax
  000ff	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]

; 455  : 
; 456  : 		// copy new data from old
; 457  : 		::ATL::Checked::memcpy_s(pNewData, (size_t)nNewMax * sizeof(TYPE),

  00104	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  00107	83 c4 04	 add	 esp, 4
  0010a	8b 53 04	 mov	 edx, DWORD PTR [ebx+4]
  0010d	c1 e1 02	 shl	 ecx, 2
  00110	89 45 0c	 mov	 DWORD PTR _pNewData$1$[ebp], eax
  00113	89 4d f8	 mov	 DWORD PTR __N$1$[ebp], ecx
  00116	89 55 08	 mov	 DWORD PTR __S2$1$[ebp], edx
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h

; 46   :         if (_SourceSize == 0)

  00119	85 c9		 test	 ecx, ecx
  0011b	74 20		 je	 SHORT $LN54@SetSize

; 47   :         {
; 48   :             return 0;
; 49   :         }
; 50   : 
; 51   :         _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_Destination != NULL, EINVAL);

  0011d	85 c0		 test	 eax, eax
  0011f	74 7d		 je	 SHORT $LN84@SetSize

; 52   :         if (_Source == NULL || _DestinationSize < _SourceSize)

  00121	85 d2		 test	 edx, edx
  00123	74 51		 je	 SHORT $LN76@SetSize
  00125	8d 14 bd 00 00
	00 00		 lea	 edx, DWORD PTR [edi*4]
  0012c	3b d1		 cmp	 edx, ecx
  0012e	72 46		 jb	 SHORT $LN76@SetSize

; 58   : 
; 59   :             // Unreachable, but required to suppress /analyze warnings:
; 60   :             return EINVAL;
; 61   :         }
; 62   :         memcpy(_Destination, _Source, _SourceSize);

  00130	51		 push	 ecx
  00131	ff 75 08	 push	 DWORD PTR __S2$1$[ebp]
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 _memcpy
  0013a	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN54@SetSize:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 462  : 		memset((void*)(pNewData + m_nSize), 0, (size_t)(nNewSize-m_nSize) * sizeof(TYPE));

  0013d	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  00140	8b c6		 mov	 eax, esi
  00142	2b c1		 sub	 eax, ecx
  00144	c1 e0 02	 shl	 eax, 2
  00147	50		 push	 eax
  00148	8b 45 0c	 mov	 eax, DWORD PTR _pNewData$1$[ebp]
  0014b	6a 00		 push	 0
  0014d	8d 04 88	 lea	 eax, DWORD PTR [eax+ecx*4]
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 _memset

; 463  : 		for( int i = 0; i < nNewSize-m_nSize; i++ )
; 464  : #pragma push_macro("new")
; 465  : #undef new
; 466  : 			::new( (void*)( pNewData + m_nSize + i ) ) TYPE;
; 467  : #pragma pop_macro("new")
; 468  : 
; 469  : 		// get rid of old stuff (note: no destructors called)
; 470  : 		delete[] (BYTE*)m_pData;

  00156	ff 73 04	 push	 DWORD PTR [ebx+4]
  00159	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]

; 471  : 		m_pData = pNewData;

  0015e	8b 45 0c	 mov	 eax, DWORD PTR _pNewData$1$[ebp]
  00161	83 c4 10	 add	 esp, 16			; 00000010H

; 475  : }

  00164	89 7b 0c	 mov	 DWORD PTR [ebx+12], edi
  00167	89 73 08	 mov	 DWORD PTR [ebx+8], esi
  0016a	89 43 04	 mov	 DWORD PTR [ebx+4], eax
  0016d	5f		 pop	 edi
  0016e	5e		 pop	 esi
  0016f	5b		 pop	 ebx
  00170	8b e5		 mov	 esp, ebp
  00172	5d		 pop	 ebp
  00173	c2 08 00	 ret	 8
$LN76@SetSize:
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h

; 54   :             memset(_Destination, 0, _DestinationSize);

  00176	8b 5d fc	 mov	 ebx, DWORD PTR __S1max$1$[ebp]
  00179	53		 push	 ebx
  0017a	6a 00		 push	 0
  0017c	50		 push	 eax
  0017d	e8 00 00 00 00	 call	 _memset
  00182	83 c4 0c	 add	 esp, 12			; 0000000cH

; 55   : 
; 56   :             _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_Source != NULL,                 EINVAL);

  00185	83 7d 08 00	 cmp	 DWORD PTR __S2$1$[ebp], 0
  00189	74 13		 je	 SHORT $LN84@SetSize

; 57   :             _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_DestinationSize >= _SourceSize, ERANGE);

  0018b	3b 5d f8	 cmp	 ebx, DWORD PTR __N$1$[ebp]
  0018e	73 20		 jae	 SHORT $LN56@SetSize
  00190	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___errno
  00196	c7 00 22 00 00
	00		 mov	 DWORD PTR [eax], 34	; 00000022H
  0019c	eb 0c		 jmp	 SHORT $LN85@SetSize
$LN84@SetSize:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.h

; 517  : 		AfxThrowInvalidArgException();

  0019e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___errno
  001a4	c7 00 16 00 00
	00		 mov	 DWORD PTR [eax], 22	; 00000016H
$LN85@SetSize:
  001aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter_noinfo
$LN56@SetSize:
  001b0	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN83@SetSize:
  001b5	cc		 int	 3
?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z ENDP ; CArray<CWavePatternData *,CWavePatternData *>::SetSize
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
;	COMDAT ?SetAtGrow@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHPAVCRegistNSupportData@@@Z
_TEXT	SEGMENT
_nIndex$ = 8						; size = 4
_newElement$ = 12					; size = 4
?SetAtGrow@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHPAVCRegistNSupportData@@@Z PROC ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetAtGrow, COMDAT
; _this$ = ecx

; 534  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 535  : 	ASSERT_VALID(this);
; 536  : 	ASSERT(nIndex >= 0);
; 537  : 
; 538  : 	if(nIndex < 0)

  00004	8b 75 08	 mov	 esi, DWORD PTR _nIndex$[ebp]
  00007	57		 push	 edi
  00008	8b f9		 mov	 edi, ecx
  0000a	85 f6		 test	 esi, esi
  0000c	78 1f		 js	 SHORT $LN7@SetAtGrow

; 540  : 
; 541  : 	if (nIndex >= m_nSize)

  0000e	3b 77 08	 cmp	 esi, DWORD PTR [edi+8]
  00011	7c 0b		 jl	 SHORT $LN3@SetAtGrow

; 542  : 		SetSize(nIndex+1, -1);

  00013	6a ff		 push	 -1
  00015	8d 46 01	 lea	 eax, DWORD PTR [esi+1]
  00018	50		 push	 eax
  00019	e8 00 00 00 00	 call	 ?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize
$LN3@SetAtGrow:

; 543  : 	m_pData[nIndex] = newElement;

  0001e	8b 4f 04	 mov	 ecx, DWORD PTR [edi+4]
  00021	8b 45 0c	 mov	 eax, DWORD PTR _newElement$[ebp]
  00024	5f		 pop	 edi
  00025	89 04 b1	 mov	 DWORD PTR [ecx+esi*4], eax
  00028	5e		 pop	 esi

; 544  : }

  00029	5d		 pop	 ebp
  0002a	c2 08 00	 ret	 8
$LN7@SetAtGrow:

; 539  : 		AfxThrowInvalidArgException();

  0002d	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN5@SetAtGrow:
  00032	cc		 int	 3
?SetAtGrow@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHPAVCRegistNSupportData@@@Z ENDP ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetAtGrow
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
;	COMDAT ?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z
_TEXT	SEGMENT
__N$1$ = -8						; size = 4
__S1max$1$ = -4						; size = 4
__S2$1$ = 8						; size = 4
_nNewSize$ = 8						; size = 4
_pNewData$1$ = 12					; size = 4
_nGrowBy$ = 12						; size = 4
?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z PROC ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize, COMDAT
; _this$ = ecx

; 368  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx
  00007	56		 push	 esi

; 369  : 	ASSERT_VALID(this);
; 370  : 	ASSERT(nNewSize >= 0);
; 371  : 
; 372  : 	if(nNewSize < 0 )

  00008	8b 75 08	 mov	 esi, DWORD PTR _nNewSize$[ebp]
  0000b	8b d9		 mov	 ebx, ecx
  0000d	57		 push	 edi
  0000e	85 f6		 test	 esi, esi
  00010	0f 88 9a 01 00
	00		 js	 $LN56@SetSize

; 373  : 		AfxThrowInvalidArgException();
; 374  : 
; 375  : 	if (nGrowBy >= 0)

  00016	8b 45 0c	 mov	 eax, DWORD PTR _nGrowBy$[ebp]
  00019	85 c0		 test	 eax, eax
  0001b	78 03		 js	 SHORT $LN82@SetSize

; 376  : 		m_nGrowBy = nGrowBy;  // set new size

  0001d	89 43 10	 mov	 DWORD PTR [ebx+16], eax
$LN82@SetSize:

; 377  : 
; 378  : 	if (nNewSize == 0)

  00020	8b 4b 04	 mov	 ecx, DWORD PTR [ebx+4]
  00023	85 f6		 test	 esi, esi
  00025	75 27		 jne	 SHORT $LN19@SetSize

; 379  : 	{
; 380  : 		// shrink to nothing
; 381  : 		if (m_pData != NULL)

  00027	85 c9		 test	 ecx, ecx
  00029	74 0c		 je	 SHORT $LN21@SetSize

; 382  : 		{
; 383  : 			for( int i = 0; i < m_nSize; i++ )
; 384  : 				(m_pData + i)->~TYPE();
; 385  : 			delete[] (BYTE*)m_pData;

  0002b	51		 push	 ecx
  0002c	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00031	83 c4 04	 add	 esp, 4

; 386  : 			m_pData = NULL;

  00034	89 73 04	 mov	 DWORD PTR [ebx+4], esi
$LN21@SetSize:

; 475  : }

  00037	5f		 pop	 edi
  00038	5e		 pop	 esi
  00039	c7 43 0c 00 00
	00 00		 mov	 DWORD PTR [ebx+12], 0
  00040	c7 43 08 00 00
	00 00		 mov	 DWORD PTR [ebx+8], 0
  00047	5b		 pop	 ebx
  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c2 08 00	 ret	 8
$LN19@SetSize:

; 387  : 		}
; 388  : 		m_nSize = m_nMaxSize = 0;
; 389  : 	}
; 390  : 	else if (m_pData == NULL)

  0004e	85 c9		 test	 ecx, ecx
  00050	75 36		 jne	 SHORT $LN22@SetSize

; 391  : 	{
; 392  : 		// create buffer big enough to hold number of requested elements or
; 393  : 		// m_nGrowBy elements, whichever is larger.
; 394  : #ifdef SIZE_T_MAX
; 395  : 		ASSERT(nNewSize <= SIZE_T_MAX/sizeof(TYPE));    // no overflow
; 396  : #endif
; 397  : 		size_t nAllocSize = __max(nNewSize, m_nGrowBy);

  00052	8b 7b 10	 mov	 edi, DWORD PTR [ebx+16]
  00055	3b f7		 cmp	 esi, edi
  00057	0f 4f fe	 cmovg	 edi, esi

; 398  : 		m_pData = (TYPE*) new BYTE[(size_t)nAllocSize * sizeof(TYPE)];

  0005a	8d 34 bd 00 00
	00 00		 lea	 esi, DWORD PTR [edi*4]
  00061	56		 push	 esi
  00062	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]

; 399  : 		memset((void*)m_pData, 0, (size_t)nAllocSize * sizeof(TYPE));

  00067	56		 push	 esi
  00068	6a 00		 push	 0
  0006a	50		 push	 eax
  0006b	89 43 04	 mov	 DWORD PTR [ebx+4], eax
  0006e	e8 00 00 00 00	 call	 _memset

; 400  : 		for( int i = 0; i < nNewSize; i++ )
; 401  : #pragma push_macro("new")
; 402  : #undef new
; 403  : 			::new( (void*)( m_pData + i ) ) TYPE;
; 404  : #pragma pop_macro("new")
; 405  : 		m_nSize = nNewSize;

  00073	8b 45 08	 mov	 eax, DWORD PTR _nNewSize$[ebp]
  00076	83 c4 10	 add	 esp, 16			; 00000010H

; 475  : }

  00079	89 7b 0c	 mov	 DWORD PTR [ebx+12], edi
  0007c	89 43 08	 mov	 DWORD PTR [ebx+8], eax
  0007f	5f		 pop	 edi
  00080	5e		 pop	 esi
  00081	5b		 pop	 ebx
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 08 00	 ret	 8
$LN22@SetSize:

; 406  : 		m_nMaxSize = nAllocSize;
; 407  : 	}
; 408  : 	else if (nNewSize <= m_nMaxSize)

  00088	8b 7b 0c	 mov	 edi, DWORD PTR [ebx+12]
  0008b	3b f7		 cmp	 esi, edi
  0008d	7f 29		 jg	 SHORT $LN24@SetSize

; 409  : 	{
; 410  : 		// it fits
; 411  : 		if (nNewSize > m_nSize)

  0008f	8b 53 08	 mov	 edx, DWORD PTR [ebx+8]
  00092	3b f2		 cmp	 esi, edx
  00094	7e 16		 jle	 SHORT $LN26@SetSize

; 412  : 		{
; 413  : 			// initialize the new elements
; 414  : 			memset((void*)(m_pData + m_nSize), 0, (size_t)(nNewSize-m_nSize) * sizeof(TYPE));

  00096	8b c6		 mov	 eax, esi
  00098	2b c2		 sub	 eax, edx
  0009a	c1 e0 02	 shl	 eax, 2
  0009d	50		 push	 eax
  0009e	8d 04 91	 lea	 eax, DWORD PTR [ecx+edx*4]
  000a1	6a 00		 push	 0
  000a3	50		 push	 eax
  000a4	e8 00 00 00 00	 call	 _memset
  000a9	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN26@SetSize:

; 415  : 			for( int i = 0; i < nNewSize-m_nSize; i++ )
; 416  : #pragma push_macro("new")
; 417  : #undef new
; 418  : 				::new( (void*)( m_pData + m_nSize + i ) ) TYPE;
; 419  : #pragma pop_macro("new")
; 420  : 		}
; 421  : 		else if (m_nSize > nNewSize)
; 422  : 		{
; 423  : 			// destroy the old elements
; 424  : 			for( int i = 0; i < m_nSize-nNewSize; i++ )
; 425  : 				(m_pData + nNewSize + i)->~TYPE();
; 426  : 		}
; 427  : 		m_nSize = nNewSize;

  000ac	5f		 pop	 edi
  000ad	89 73 08	 mov	 DWORD PTR [ebx+8], esi

; 475  : }

  000b0	5e		 pop	 esi
  000b1	5b		 pop	 ebx
  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c2 08 00	 ret	 8
$LN24@SetSize:

; 428  : 	}
; 429  : 	else
; 430  : 	{
; 431  : 		// otherwise, grow array
; 432  : 		nGrowBy = m_nGrowBy;

  000b8	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]

; 433  : 		if (nGrowBy == 0)

  000bb	85 c0		 test	 eax, eax
  000bd	75 22		 jne	 SHORT $LN37@SetSize

; 434  : 		{
; 435  : 			// heuristically determine growth when nGrowBy == 0
; 436  : 			//  (this avoids heap fragmentation in many situations)
; 437  : 			nGrowBy = m_nSize / 8;

  000bf	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]
  000c2	99		 cdq
  000c3	83 e2 07	 and	 edx, 7
  000c6	03 c2		 add	 eax, edx
  000c8	c1 f8 03	 sar	 eax, 3

; 438  : 			nGrowBy = (nGrowBy < 4) ? 4 : ((nGrowBy > 1024) ? 1024 : nGrowBy);

  000cb	83 f8 04	 cmp	 eax, 4
  000ce	7d 07		 jge	 SHORT $LN36@SetSize
  000d0	b8 04 00 00 00	 mov	 eax, 4
  000d5	eb 0a		 jmp	 SHORT $LN37@SetSize
$LN36@SetSize:
  000d7	b9 00 04 00 00	 mov	 ecx, 1024		; 00000400H
  000dc	3b c1		 cmp	 eax, ecx
  000de	0f 4f c1	 cmovg	 eax, ecx
$LN37@SetSize:

; 439  : 		}
; 440  : 		INT_PTR nNewMax;
; 441  : 		if (nNewSize < m_nMaxSize + nGrowBy)

  000e1	03 f8		 add	 edi, eax
  000e3	3b f7		 cmp	 esi, edi
  000e5	7d 0b		 jge	 SHORT $LN30@SetSize

; 445  : 
; 446  : 		ASSERT(nNewMax >= m_nMaxSize);  // no wrap around
; 447  : 
; 448  : 		if(nNewMax  < m_nMaxSize)

  000e7	3b 7b 0c	 cmp	 edi, DWORD PTR [ebx+12]
  000ea	0f 8c c0 00 00
	00		 jl	 $LN56@SetSize
  000f0	eb 02		 jmp	 SHORT $LN32@SetSize
$LN30@SetSize:

; 442  : 			nNewMax = m_nMaxSize + nGrowBy;  // granularity
; 443  : 		else
; 444  : 			nNewMax = nNewSize;  // no slush

  000f2	8b fe		 mov	 edi, esi
$LN32@SetSize:

; 449  : 			AfxThrowInvalidArgException();
; 450  : 
; 451  : #ifdef SIZE_T_MAX
; 452  : 		ASSERT(nNewMax <= SIZE_T_MAX/sizeof(TYPE)); // no overflow
; 453  : #endif
; 454  : 		TYPE* pNewData = (TYPE*) new BYTE[(size_t)nNewMax * sizeof(TYPE)];

  000f4	8d 04 bd 00 00
	00 00		 lea	 eax, DWORD PTR [edi*4]
  000fb	50		 push	 eax
  000fc	89 45 fc	 mov	 DWORD PTR __S1max$1$[ebp], eax
  000ff	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]

; 455  : 
; 456  : 		// copy new data from old
; 457  : 		::ATL::Checked::memcpy_s(pNewData, (size_t)nNewMax * sizeof(TYPE),

  00104	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  00107	83 c4 04	 add	 esp, 4
  0010a	8b 53 04	 mov	 edx, DWORD PTR [ebx+4]
  0010d	c1 e1 02	 shl	 ecx, 2
  00110	89 45 0c	 mov	 DWORD PTR _pNewData$1$[ebp], eax
  00113	89 4d f8	 mov	 DWORD PTR __N$1$[ebp], ecx
  00116	89 55 08	 mov	 DWORD PTR __S2$1$[ebp], edx
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h

; 46   :         if (_SourceSize == 0)

  00119	85 c9		 test	 ecx, ecx
  0011b	74 20		 je	 SHORT $LN54@SetSize

; 47   :         {
; 48   :             return 0;
; 49   :         }
; 50   : 
; 51   :         _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_Destination != NULL, EINVAL);

  0011d	85 c0		 test	 eax, eax
  0011f	74 7d		 je	 SHORT $LN84@SetSize

; 52   :         if (_Source == NULL || _DestinationSize < _SourceSize)

  00121	85 d2		 test	 edx, edx
  00123	74 51		 je	 SHORT $LN76@SetSize
  00125	8d 14 bd 00 00
	00 00		 lea	 edx, DWORD PTR [edi*4]
  0012c	3b d1		 cmp	 edx, ecx
  0012e	72 46		 jb	 SHORT $LN76@SetSize

; 58   : 
; 59   :             // Unreachable, but required to suppress /analyze warnings:
; 60   :             return EINVAL;
; 61   :         }
; 62   :         memcpy(_Destination, _Source, _SourceSize);

  00130	51		 push	 ecx
  00131	ff 75 08	 push	 DWORD PTR __S2$1$[ebp]
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 _memcpy
  0013a	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN54@SetSize:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 462  : 		memset((void*)(pNewData + m_nSize), 0, (size_t)(nNewSize-m_nSize) * sizeof(TYPE));

  0013d	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  00140	8b c6		 mov	 eax, esi
  00142	2b c1		 sub	 eax, ecx
  00144	c1 e0 02	 shl	 eax, 2
  00147	50		 push	 eax
  00148	8b 45 0c	 mov	 eax, DWORD PTR _pNewData$1$[ebp]
  0014b	6a 00		 push	 0
  0014d	8d 04 88	 lea	 eax, DWORD PTR [eax+ecx*4]
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 _memset

; 463  : 		for( int i = 0; i < nNewSize-m_nSize; i++ )
; 464  : #pragma push_macro("new")
; 465  : #undef new
; 466  : 			::new( (void*)( pNewData + m_nSize + i ) ) TYPE;
; 467  : #pragma pop_macro("new")
; 468  : 
; 469  : 		// get rid of old stuff (note: no destructors called)
; 470  : 		delete[] (BYTE*)m_pData;

  00156	ff 73 04	 push	 DWORD PTR [ebx+4]
  00159	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]

; 471  : 		m_pData = pNewData;

  0015e	8b 45 0c	 mov	 eax, DWORD PTR _pNewData$1$[ebp]
  00161	83 c4 10	 add	 esp, 16			; 00000010H

; 475  : }

  00164	89 7b 0c	 mov	 DWORD PTR [ebx+12], edi
  00167	89 73 08	 mov	 DWORD PTR [ebx+8], esi
  0016a	89 43 04	 mov	 DWORD PTR [ebx+4], eax
  0016d	5f		 pop	 edi
  0016e	5e		 pop	 esi
  0016f	5b		 pop	 ebx
  00170	8b e5		 mov	 esp, ebp
  00172	5d		 pop	 ebp
  00173	c2 08 00	 ret	 8
$LN76@SetSize:
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_memcpy_s.h

; 54   :             memset(_Destination, 0, _DestinationSize);

  00176	8b 5d fc	 mov	 ebx, DWORD PTR __S1max$1$[ebp]
  00179	53		 push	 ebx
  0017a	6a 00		 push	 0
  0017c	50		 push	 eax
  0017d	e8 00 00 00 00	 call	 _memset
  00182	83 c4 0c	 add	 esp, 12			; 0000000cH

; 55   : 
; 56   :             _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_Source != NULL,                 EINVAL);

  00185	83 7d 08 00	 cmp	 DWORD PTR __S2$1$[ebp], 0
  00189	74 13		 je	 SHORT $LN84@SetSize

; 57   :             _CRT_MEMCPY_S_VALIDATE_RETURN_ERRCODE(_DestinationSize >= _SourceSize, ERANGE);

  0018b	3b 5d f8	 cmp	 ebx, DWORD PTR __N$1$[ebp]
  0018e	73 20		 jae	 SHORT $LN56@SetSize
  00190	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___errno
  00196	c7 00 22 00 00
	00		 mov	 DWORD PTR [eax], 34	; 00000022H
  0019c	eb 0c		 jmp	 SHORT $LN85@SetSize
$LN84@SetSize:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.h

; 517  : 		AfxThrowInvalidArgException();

  0019e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___errno
  001a4	c7 00 16 00 00
	00		 mov	 DWORD PTR [eax], 22	; 00000016H
$LN85@SetSize:
  001aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___invalid_parameter_noinfo
$LN56@SetSize:
  001b0	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN83@SetSize:
  001b5	cc		 int	 3
?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z ENDP ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
;	COMDAT ??1CMultiLanguageResourceSetter@@QAE@XZ
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
??1CMultiLanguageResourceSetter@@QAE@XZ PROC		; CMultiLanguageResourceSetter::~CMultiLanguageResourceSetter, COMDAT
; _this$ = ecx

; 1035 : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1CMultiLanguageResourceSetter@@QAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	56		 push	 esi
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00017	33 c5		 xor	 eax, ebp
  00019	50		 push	 eax
  0001a	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 1036 : 		AfxSetResourceHandle( m_hInstance);

  00023	8b 31		 mov	 esi, DWORD PTR [ecx]
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 27   : 	{ ASSERT(hInstResource != NULL); afxCurrentResourceHandle = hInstResource; }

  00025	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  0002a	89 70 0c	 mov	 DWORD PTR [eax+12], esi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h

; 1037 : 	}

  0002d	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00030	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00037	59		 pop	 ecx
  00038	5e		 pop	 esi
  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c3		 ret	 0
  0003d	cc		 int	 3
  0003e	cc		 int	 3
  0003f	cc		 int	 3
  00040	cc		 int	 3
  00041	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??1CMultiLanguageResourceSetter@@QAE@XZ:
  00000	90		 npad	 1
  00001	90		 npad	 1
  00002	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00006	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00009	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  0000c	33 c8		 xor	 ecx, eax
  0000e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00013	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1CMultiLanguageResourceSetter@@QAE@XZ
  00018	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1CMultiLanguageResourceSetter@@QAE@XZ ENDP		; CMultiLanguageResourceSetter::~CMultiLanguageResourceSetter
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
;	COMDAT ?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z
_TEXT	SEGMENT
_p1$ = 8						; size = 4
_p2$ = 12						; size = 4
?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z PROC ; IMetaTable::LoadResourceDLL, COMDAT
; _this$ = ecx

; 935  : 	DECLARE_FUNCTION2(	LoadResourceDLL,				HMODULE, AfxGetStaticModuleState()->m_hCurrentInstanceHandle, HWND, HMODULE);

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00009	85 c0		 test	 eax, eax
  0000b	74 4d		 je	 SHORT $LN4@LoadResour
  0000d	57		 push	 edi
  0000e	bf 80 0d 00 00	 mov	 edi, 3456		; 00000d80H
  00013	66 3b be 94 00
	00 00		 cmp	 di, WORD PTR [esi+148]
  0001a	74 23		 je	 SHORT $LN3@LoadResour
  0001c	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@ENJOCHIO@LoadResourceDLL@
  00021	50		 push	 eax
  00022	c7 86 90 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+144], 0
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetProcAddress@8
  00032	89 86 90 00 00
	00		 mov	 DWORD PTR [esi+144], eax
  00038	66 89 be 94 00
	00 00		 mov	 WORD PTR [esi+148], di
$LN3@LoadResour:
  0003f	8b 86 90 00 00
	00		 mov	 eax, DWORD PTR [esi+144]
  00045	5f		 pop	 edi
  00046	85 c0		 test	 eax, eax
  00048	74 10		 je	 SHORT $LN4@LoadResour
  0004a	ff 75 0c	 push	 DWORD PTR _p2$[ebp]
  0004d	ff 75 08	 push	 DWORD PTR _p1$[ebp]
  00050	ff d0		 call	 eax
  00052	83 c4 08	 add	 esp, 8
  00055	5e		 pop	 esi
  00056	5d		 pop	 ebp
  00057	c2 08 00	 ret	 8
$LN4@LoadResour:
  0005a	e8 00 00 00 00	 call	 ?AfxGetStaticModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetStaticModuleState
  0005f	5e		 pop	 esi
  00060	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00063	5d		 pop	 ebp
  00064	c2 08 00	 ret	 8
?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z ENDP ; IMetaTable::LoadResourceDLL
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ??_GCWavePattern@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCWavePattern@@UAEPAXI@Z PROC			; CWavePattern::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00006	56		 push	 esi
  00007	8b f1		 mov	 esi, ecx
  00009	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CWavePattern@@6B@
  0000f	a8 01		 test	 al, 1
  00011	74 1f		 je	 SHORT $LN9@scalar
  00013	a8 04		 test	 al, 4
  00015	75 10		 jne	 SHORT $LN3@scalar

; 112  : 	{ ::operator delete(p); }

  00017	56		 push	 esi
  00018	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  0001d	83 c4 04	 add	 esp, 4
  00020	8b c6		 mov	 eax, esi
  00022	5e		 pop	 esi
  00023	5d		 pop	 ebp
  00024	c2 04 00	 ret	 4
$LN3@scalar:
  00027	6a 08		 push	 8
  00029	56		 push	 esi
  0002a	e8 00 00 00 00	 call	 ?__global_delete@@YAXPAXI@Z ; __global_delete
  0002f	83 c4 08	 add	 esp, 8
$LN9@scalar:
  00032	8b c6		 mov	 eax, esi
  00034	5e		 pop	 esi
  00035	5d		 pop	 ebp
  00036	c2 04 00	 ret	 4
??_GCWavePattern@@UAEPAXI@Z ENDP			; CWavePattern::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?GetModifyGradient@CWavePattern@@QAENNNNN@Z
_TEXT	SEGMENT
_dGradient$ = -8					; size = 8
_dXPos1$ = 8						; size = 8
_dYPos1$ = 16						; size = 8
_dXPos2$ = 24						; size = 8
_dYPos2$ = 32						; size = 8
?GetModifyGradient@CWavePattern@@QAENNNNN@Z PROC	; CWavePattern::GetModifyGradient, COMDAT
; _this$ = ecx

; 2455 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 2456 : 	double	dGradient=0;
; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00006	f2 0f 10 55 18	 movsd	 xmm2, QWORD PTR _dXPos2$[ebp]
  0000b	0f 57 c0	 xorps	 xmm0, xmm0
  0000e	f2 0f 5c 55 08	 subsd	 xmm2, QWORD PTR _dXPos1$[ebp]
  00013	f2 0f 11 45 f8	 movsd	 QWORD PTR _dGradient$[ebp], xmm0
  00018	66 0f 2e d0	 ucomisd xmm2, xmm0
  0001c	9f		 lahf
  0001d	f6 c4 44	 test	 ah, 68			; 00000044H
  00020	7b 2d		 jnp	 SHORT $LN4@GetModifyG
  00022	f2 0f 10 4d 10	 movsd	 xmm1, QWORD PTR _dYPos1$[ebp]
  00027	66 0f 2e c8	 ucomisd xmm1, xmm0
  0002b	9f		 lahf
  0002c	f6 c4 44	 test	 ah, 68			; 00000044H
  0002f	7b 1e		 jnp	 SHORT $LN4@GetModifyG

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00031	f2 0f 10 45 20	 movsd	 xmm0, QWORD PTR _dYPos2$[ebp]
  00036	f2 0f 5c c1	 subsd	 xmm0, xmm1
  0003a	f2 0f 5e c1	 divsd	 xmm0, xmm1
  0003e	f2 0f 5e c2	 divsd	 xmm0, xmm2
  00042	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4059000000000000
  0004a	f2 0f 11 45 f8	 movsd	 QWORD PTR _dGradient$[ebp], xmm0
$LN4@GetModifyG:

; 2461 : 	}
; 2462 : 
; 2463 : 	return dGradient;
; 2464 : }

  0004f	dd 45 f8	 fld	 QWORD PTR _dGradient$[ebp]
  00052	8b e5		 mov	 esp, ebp
  00054	5d		 pop	 ebp
  00055	c2 20 00	 ret	 32			; 00000020H
?GetModifyGradient@CWavePattern@@QAENNNNN@Z ENDP	; CWavePattern::GetModifyGradient
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?GetGradient@CWavePattern@@QAENNNNN@Z
_TEXT	SEGMENT
_dGradient$ = -8					; size = 8
_dXPos1$ = 8						; size = 8
_dYPos1$ = 16						; size = 8
_dXPos2$ = 24						; size = 8
_dYPos2$ = 32						; size = 8
?GetGradient@CWavePattern@@QAENNNNN@Z PROC		; CWavePattern::GetGradient, COMDAT
; _this$ = ecx

; 2443 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00006	f2 0f 10 4d 18	 movsd	 xmm1, QWORD PTR _dXPos2$[ebp]
  0000b	0f 57 c0	 xorps	 xmm0, xmm0
  0000e	f2 0f 5c 4d 08	 subsd	 xmm1, QWORD PTR _dXPos1$[ebp]
  00013	f2 0f 11 45 f8	 movsd	 QWORD PTR _dGradient$[ebp], xmm0
  00018	66 0f 2e c8	 ucomisd xmm1, xmm0
  0001c	9f		 lahf
  0001d	f6 c4 44	 test	 ah, 68			; 00000044H
  00020	7b 13		 jnp	 SHORT $LN4@GetGradien

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00022	f2 0f 10 45 20	 movsd	 xmm0, QWORD PTR _dYPos2$[ebp]
  00027	f2 0f 5c 45 10	 subsd	 xmm0, QWORD PTR _dYPos1$[ebp]
  0002c	f2 0f 5e c1	 divsd	 xmm0, xmm1
  00030	f2 0f 11 45 f8	 movsd	 QWORD PTR _dGradient$[ebp], xmm0
$LN4@GetGradien:

; 2449 : 	}
; 2450 : 
; 2451 : 	return dGradient;
; 2452 : }

  00035	dd 45 f8	 fld	 QWORD PTR _dGradient$[ebp]
  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c2 20 00	 ret	 32			; 00000020H
?GetGradient@CWavePattern@@QAENNNNN@Z ENDP		; CWavePattern::GetGradient
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
_TEXT	SEGMENT
___mlrs__$ = -20					; size = 4
$T2 = -16						; size = 4
__$EHRec$ = -12						; size = 12
___$ReturnUdt$ = 8					; size = 4
_nPatternType$ = 12					; size = 4
?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z PROC ; CWavePattern::GetPatternTrendName, COMDAT
; _this$ = ecx

; 2624 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 08	 sub	 esp, 8
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00028	8b f1		 mov	 esi, ecx
  0002a	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00031	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR $T2[ebp], 0

; 2625 : 	ML_SET_LANGUAGE_RES();

  00038	e8 00 00 00 00	 call	 ?AfxGetStaticModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetStaticModuleState
  0003d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_iMetaTable@@3VIMetaTable@@A ; g_iMetaTable
  00042	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00045	50		 push	 eax
  00046	ff 76 04	 push	 DWORD PTR [esi+4]
  00049	e8 00 00 00 00	 call	 ?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z ; IMetaTable::LoadResourceDLL
  0004e	8b f8		 mov	 edi, eax
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 25   : 		return afxCurrentResourceHandle; }

  00050	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h

; 1031 : 		m_hInstance = AfxGetResourceHandle();

  00055	8b 70 0c	 mov	 esi, DWORD PTR [eax+12]
  00058	89 75 ec	 mov	 DWORD PTR ___mlrs__$[ebp], esi
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 27   : 	{ ASSERT(hInstResource != NULL); afxCurrentResourceHandle = hInstResource; }

  0005b	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  00060	89 78 0c	 mov	 DWORD PTR [eax+12], edi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2582 : 	switch (nPatternType)

  00063	8b 45 0c	 mov	 eax, DWORD PTR _nPatternType$[ebp]
  00066	33 db		 xor	 ebx, ebx
  00068	05 5f f0 ff ff	 add	 eax, -4001		; fffff05fH

; 2625 : 	ML_SET_LANGUAGE_RES();

  0006d	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 1

; 2582 : 	switch (nPatternType)

  00074	83 f8 13	 cmp	 eax, 19			; 00000013H
  00077	77 28		 ja	 SHORT $LN19@GetPattern
  00079	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN47@GetPattern[eax]
  00080	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN48@GetPattern[eax*4]
$LN21@GetPattern:

; 2583 : 	{
; 2584 : 	case PTN_R_HEADNSHOULDER:		// Reversal Head & Shoulder		()
; 2585 : 	case PTN_R_DOUBLETOP:			// Reversal Double Top			()
; 2586 : 	case PTN_BEARISH_WIDETRIANGLE:	// Bearish Wide Triangles		()
; 2587 : 	case PTN_V_TOP:					// V Top						()
; 2588 : 		nPatternTrend = UPWARD_REVERSE;

  00087	bb b9 0b 00 00	 mov	 ebx, 3001		; 00000bb9H

; 2589 : 		break;

  0008c	eb 13		 jmp	 SHORT $LN19@GetPattern
$LN25@GetPattern:

; 2590 : 
; 2591 : 	case PTN_HEADNSHOULDER:			// Head & Shoulder				()
; 2592 : 	case PTN_DOUBLETOP:				// Double Top					()
; 2593 : 	case PTN_BULLISH_WIDETRIANGLE:	// Bullish Wide Triangles		()
; 2594 : 	case PTN_V_BOTTOM:				// V Bottom						()
; 2595 : 		nPatternTrend = DNWARD_REVERSE;

  0008e	bb ba 0b 00 00	 mov	 ebx, 3002		; 00000bbaH

; 2596 : 		break;

  00093	eb 0c		 jmp	 SHORT $LN19@GetPattern
$LN29@GetPattern:

; 2597 : 
; 2598 : 	case PTN_BULL_ISOTRIANGLE:		// Bull Isosceles Triangles		()
; 2599 : 	case PTN_BULL_TRIANGLE:			// Bull Triangles				()
; 2600 : 	case PTN_BEAR_WEDGE:			// Bear Wedge					()
; 2601 : 	case PTN_BULL_SQUAREFLAG:		// Bull Square Flag				()
; 2602 : 	case PTN_BULL_TRIANGLEFLAG:		// Bull Triangle Flag			()
; 2603 : 	case PTN_BULL_RECTANGLE:		// Bull Rectangle				()
; 2604 : 		nPatternTrend = UPWARD_CONTINUE;

  00095	bb bb 0b 00 00	 mov	 ebx, 3003		; 00000bbbH

; 2605 : 		break;

  0009a	eb 05		 jmp	 SHORT $LN19@GetPattern
$LN35@GetPattern:

; 2606 : 
; 2607 : 	case PTN_BEAR_ISOTRIANGLE:		// Bear Isosceles Triangles		()
; 2608 : 	case PTN_BEAR_TRIANGLE:			// Bear Triangles				()
; 2609 : 	case PTN_BULL_WEDGE:			// Bull Wedge					()
; 2610 : 	case PTN_BEAR_SQUAREFLAG:		// Bear Square Flag				()
; 2611 : 	case PTN_BEAR_TRIANGLEFLAG:		// Bear Triangle Flag			()
; 2612 : 	case PTN_BEAR_RECTANGLE:		// Bear Rectangle				()
; 2613 : 		nPatternTrend = DNWARD_CONTINUE;

  0009c	bb bc 0b 00 00	 mov	 ebx, 3004		; 00000bbcH
$LN19@GetPattern:

; 2626 : 
; 2627 : 	int nPatternTrend = GetPatternTrend( nPatternType);
; 2628 : 
; 2629 : 	CString strRtnName;

  000a1	8b 7d 08	 mov	 edi, DWORD PTR ___$ReturnUdt$[ebp]
  000a4	8b cf		 mov	 ecx, edi
  000a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_??0?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ

; 2657 : 	return strRtnName;

  000ac	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  000b1	8b cf		 mov	 ecx, edi
  000b3	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR $T2[ebp], 1
  000ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_??4?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEAAV01@PBD@Z
  000c0	81 c3 47 f4 ff
	ff		 add	 ebx, -3001		; fffff447H
  000c6	83 fb 03	 cmp	 ebx, 3
  000c9	77 1d		 ja	 SHORT $LN2@GetPattern

; 2630 : 	strRtnName =_T("");
; 2631 : 
; 2632 : // 2008.02.20 by LYH >>
; 2633 : 	// Get Pattern Trend
; 2634 : 	switch (nPatternTrend)

  000cb	ff 24 9d 00 00
	00 00		 jmp	 DWORD PTR $LN49@GetPattern[ebx*4]
$LN4@GetPattern:

; 2635 : 	{
; 2636 : 	case UPWARD_REVERSE:
; 2637 : 		//strRtnName = STR_UPWARD_REVERSE;
; 2638 : 		strRtnName.LoadString(IDS_UPWARD_REVERSE);

  000d2	6a 06		 push	 6

; 2639 : 		break;

  000d4	eb 0a		 jmp	 SHORT $LN51@GetPattern
$LN5@GetPattern:

; 2640 : 
; 2641 : 	case DNWARD_REVERSE:
; 2642 : 		//strRtnName = STR_DNWARD_REVERSE;
; 2643 : 		strRtnName.LoadString(IDS_DOWNWARD_REVERSE);

  000d6	6a 07		 push	 7

; 2644 : 		break;

  000d8	eb 06		 jmp	 SHORT $LN51@GetPattern
$LN6@GetPattern:

; 2645 : 
; 2646 : 	case UPWARD_CONTINUE:
; 2647 : 		//strRtnName = STR_UPWARD_CONTINUE;
; 2648 : 		strRtnName.LoadString(IDS_UPWARD_CONTINUE);

  000da	6a 08		 push	 8

; 2649 : 		break;

  000dc	eb 02		 jmp	 SHORT $LN51@GetPattern
$LN7@GetPattern:

; 2650 : 
; 2651 : 	case DNWARD_CONTINUE:
; 2652 : 		//strRtnName = STR_DNWARD_CONTINUE;
; 2653 : 		strRtnName.LoadString(IDS_DOWNWARD_CONTINUE);

  000de	6a 09		 push	 9
$LN51@GetPattern:
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h

; 1035 : 	{

  000e0	8b cf		 mov	 ecx, edi
  000e2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?LoadStringA@?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEHI@Z
$LN2@GetPattern:
  000e8	c7 45 fc 02 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 2
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 27   : 	{ ASSERT(hInstResource != NULL); afxCurrentResourceHandle = hInstResource; }

  000ef	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  000f4	89 70 0c	 mov	 DWORD PTR [eax+12], esi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2657 : 	return strRtnName;

  000f7	8b c7		 mov	 eax, edi

; 2658 : }

  000f9	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000fc	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00103	59		 pop	 ecx
  00104	5f		 pop	 edi
  00105	5e		 pop	 esi
  00106	5b		 pop	 ebx
  00107	8b e5		 mov	 esp, ebp
  00109	5d		 pop	 ebp
  0010a	c2 08 00	 ret	 8
  0010d	0f 1f 00	 npad	 3
$LN48@GetPattern:
  00110	00 00 00 00	 DD	 $LN25@GetPattern
  00114	00 00 00 00	 DD	 $LN21@GetPattern
  00118	00 00 00 00	 DD	 $LN29@GetPattern
  0011c	00 00 00 00	 DD	 $LN35@GetPattern
$LN47@GetPattern:
  00120	00		 DB	 0
  00121	01		 DB	 1
  00122	00		 DB	 0
  00123	01		 DB	 1
  00124	02		 DB	 2
  00125	03		 DB	 3
  00126	02		 DB	 2
  00127	03		 DB	 3
  00128	00		 DB	 0
  00129	01		 DB	 1
  0012a	03		 DB	 3
  0012b	02		 DB	 2
  0012c	02		 DB	 2
  0012d	03		 DB	 3
  0012e	02		 DB	 2
  0012f	03		 DB	 3
  00130	02		 DB	 2
  00131	03		 DB	 3
  00132	01		 DB	 1
  00133	00		 DB	 0
$LN49@GetPattern:
  00134	00 00 00 00	 DD	 $LN4@GetPattern
  00138	00 00 00 00	 DD	 $LN5@GetPattern
  0013c	00 00 00 00	 DD	 $LN6@GetPattern
  00140	00 00 00 00	 DD	 $LN7@GetPattern
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$0:
  00000	8d 4d ec	 lea	 ecx, DWORD PTR ___mlrs__$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMultiLanguageResourceSetter@@QAE@XZ ; CMultiLanguageResourceSetter::~CMultiLanguageResourceSetter
__unwindfunclet$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$1:
  00008	8b 45 f0	 mov	 eax, DWORD PTR $T2[ebp]
  0000b	83 e0 01	 and	 eax, 1
  0000e	0f 84 0d 00 00
	00		 je	 $LN11@GetPattern
  00014	83 65 f0 fe	 and	 DWORD PTR $T2[ebp], -2	; fffffffeH
  00018	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  0001b	ff 25 00 00 00
	00		 jmp	 DWORD PTR __imp_??1?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ
$LN11@GetPattern:
  00021	c3		 ret	 0
  00022	cc		 int	 3
  00023	cc		 int	 3
  00024	cc		 int	 3
  00025	cc		 int	 3
  00026	cc		 int	 3
__ehhandler$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z:
  00027	90		 npad	 1
  00028	90		 npad	 1
  00029	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0002d	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00030	8b 4a e8	 mov	 ecx, DWORD PTR [edx-24]
  00033	33 c8		 xor	 ecx, eax
  00035	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0003a	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
  0003f	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?GetPatternTrendName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z ENDP ; CWavePattern::GetPatternTrendName
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?GetPatternTrend@CWavePattern@@QAEHH@Z
_TEXT	SEGMENT
_nPatternType$ = 8					; size = 4
?GetPatternTrend@CWavePattern@@QAEHH@Z PROC		; CWavePattern::GetPatternTrend, COMDAT
; _this$ = ecx

; 2578 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 2579 : 	int nPatternTrend = 0;
; 2580 : 
; 2581 : 	// Get Pattern Trend
; 2582 : 	switch (nPatternType)

  00003	8b 45 08	 mov	 eax, DWORD PTR _nPatternType$[ebp]
  00006	33 c9		 xor	 ecx, ecx
  00008	05 5f f0 ff ff	 add	 eax, -4001		; fffff05fH
  0000d	83 f8 13	 cmp	 eax, 19			; 00000013H
  00010	77 34		 ja	 SHORT $LN2@GetPattern
  00012	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN25@GetPattern[eax]
  00019	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN26@GetPattern[eax*4]
$LN4@GetPattern:

; 2583 : 	{
; 2584 : 	case PTN_R_HEADNSHOULDER:		// Reversal Head & Shoulder		()
; 2585 : 	case PTN_R_DOUBLETOP:			// Reversal Double Top			()
; 2586 : 	case PTN_BEARISH_WIDETRIANGLE:	// Bearish Wide Triangles		()
; 2587 : 	case PTN_V_TOP:					// V Top						()
; 2588 : 		nPatternTrend = UPWARD_REVERSE;

  00020	b9 b9 0b 00 00	 mov	 ecx, 3001		; 00000bb9H

; 2614 : 		break;
; 2615 : 	}
; 2616 : 
; 2617 : 	return	nPatternTrend;

  00025	8b c1		 mov	 eax, ecx

; 2618 : }

  00027	5d		 pop	 ebp
  00028	c2 04 00	 ret	 4
$LN8@GetPattern:

; 2589 : 		break;
; 2590 : 
; 2591 : 	case PTN_HEADNSHOULDER:			// Head & Shoulder				()
; 2592 : 	case PTN_DOUBLETOP:				// Double Top					()
; 2593 : 	case PTN_BULLISH_WIDETRIANGLE:	// Bullish Wide Triangles		()
; 2594 : 	case PTN_V_BOTTOM:				// V Bottom						()
; 2595 : 		nPatternTrend = DNWARD_REVERSE;

  0002b	b9 ba 0b 00 00	 mov	 ecx, 3002		; 00000bbaH

; 2614 : 		break;
; 2615 : 	}
; 2616 : 
; 2617 : 	return	nPatternTrend;

  00030	8b c1		 mov	 eax, ecx

; 2618 : }

  00032	5d		 pop	 ebp
  00033	c2 04 00	 ret	 4
$LN12@GetPattern:

; 2596 : 		break;
; 2597 : 
; 2598 : 	case PTN_BULL_ISOTRIANGLE:		// Bull Isosceles Triangles		()
; 2599 : 	case PTN_BULL_TRIANGLE:			// Bull Triangles				()
; 2600 : 	case PTN_BEAR_WEDGE:			// Bear Wedge					()
; 2601 : 	case PTN_BULL_SQUAREFLAG:		// Bull Square Flag				()
; 2602 : 	case PTN_BULL_TRIANGLEFLAG:		// Bull Triangle Flag			()
; 2603 : 	case PTN_BULL_RECTANGLE:		// Bull Rectangle				()
; 2604 : 		nPatternTrend = UPWARD_CONTINUE;

  00036	b9 bb 0b 00 00	 mov	 ecx, 3003		; 00000bbbH

; 2614 : 		break;
; 2615 : 	}
; 2616 : 
; 2617 : 	return	nPatternTrend;

  0003b	8b c1		 mov	 eax, ecx

; 2618 : }

  0003d	5d		 pop	 ebp
  0003e	c2 04 00	 ret	 4
$LN18@GetPattern:

; 2605 : 		break;
; 2606 : 
; 2607 : 	case PTN_BEAR_ISOTRIANGLE:		// Bear Isosceles Triangles		()
; 2608 : 	case PTN_BEAR_TRIANGLE:			// Bear Triangles				()
; 2609 : 	case PTN_BULL_WEDGE:			// Bull Wedge					()
; 2610 : 	case PTN_BEAR_SQUAREFLAG:		// Bear Square Flag				()
; 2611 : 	case PTN_BEAR_TRIANGLEFLAG:		// Bear Triangle Flag			()
; 2612 : 	case PTN_BEAR_RECTANGLE:		// Bear Rectangle				()
; 2613 : 		nPatternTrend = DNWARD_CONTINUE;

  00041	b9 bc 0b 00 00	 mov	 ecx, 3004		; 00000bbcH
$LN2@GetPattern:

; 2614 : 		break;
; 2615 : 	}
; 2616 : 
; 2617 : 	return	nPatternTrend;

  00046	8b c1		 mov	 eax, ecx

; 2618 : }

  00048	5d		 pop	 ebp
  00049	c2 04 00	 ret	 4
$LN26@GetPattern:
  0004c	00 00 00 00	 DD	 $LN8@GetPattern
  00050	00 00 00 00	 DD	 $LN4@GetPattern
  00054	00 00 00 00	 DD	 $LN12@GetPattern
  00058	00 00 00 00	 DD	 $LN18@GetPattern
$LN25@GetPattern:
  0005c	00		 DB	 0
  0005d	01		 DB	 1
  0005e	00		 DB	 0
  0005f	01		 DB	 1
  00060	02		 DB	 2
  00061	03		 DB	 3
  00062	02		 DB	 2
  00063	03		 DB	 3
  00064	00		 DB	 0
  00065	01		 DB	 1
  00066	03		 DB	 3
  00067	02		 DB	 2
  00068	02		 DB	 2
  00069	03		 DB	 3
  0006a	02		 DB	 2
  0006b	03		 DB	 3
  0006c	02		 DB	 2
  0006d	03		 DB	 3
  0006e	01		 DB	 1
  0006f	00		 DB	 0
?GetPatternTrend@CWavePattern@@QAEHH@Z ENDP		; CWavePattern::GetPatternTrend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
_TEXT	SEGMENT
___mlrs__$ = -20					; size = 4
$T2 = -16						; size = 4
__$EHRec$ = -12						; size = 12
___$ReturnUdt$ = 8					; size = 4
_nPatternType$ = 12					; size = 4
?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z PROC ; CWavePattern::GetPatternName, COMDAT
; _this$ = ecx

; 2471 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 08	 sub	 esp, 8
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001b	33 c5		 xor	 eax, ebp
  0001d	50		 push	 eax
  0001e	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00021	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00027	8b f1		 mov	 esi, ecx
  00029	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00030	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR $T2[ebp], 0

; 2472 : 	ML_SET_LANGUAGE_RES();

  00037	e8 00 00 00 00	 call	 ?AfxGetStaticModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetStaticModuleState
  0003c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_iMetaTable@@3VIMetaTable@@A ; g_iMetaTable
  00041	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00044	50		 push	 eax
  00045	ff 76 04	 push	 DWORD PTR [esi+4]
  00048	e8 00 00 00 00	 call	 ?LoadResourceDLL@IMetaTable@@QAEPAUHINSTANCE__@@PAUHWND__@@PAU2@@Z ; IMetaTable::LoadResourceDLL
  0004d	8b f8		 mov	 edi, eax
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 25   : 		return afxCurrentResourceHandle; }

  0004f	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h

; 1031 : 		m_hInstance = AfxGetResourceHandle();

  00054	8b 70 0c	 mov	 esi, DWORD PTR [eax+12]
  00057	89 75 ec	 mov	 DWORD PTR ___mlrs__$[ebp], esi
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 27   : 	{ ASSERT(hInstResource != NULL); afxCurrentResourceHandle = hInstResource; }

  0005a	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  0005f	89 78 0c	 mov	 DWORD PTR [eax+12], edi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2474 : 	CString strPatternName;

  00062	8b 7d 08	 mov	 edi, DWORD PTR ___$ReturnUdt$[ebp]
  00065	8b cf		 mov	 ecx, edi
  00067	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 1
  0006e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_??0?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ

; 2571 : 	return	strPatternName;

  00074	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00079	8b cf		 mov	 ecx, edi
  0007b	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR $T2[ebp], 1
  00082	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_??4?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEAAV01@PBD@Z
  00088	8b 45 0c	 mov	 eax, DWORD PTR _nPatternType$[ebp]
  0008b	05 5f f0 ff ff	 add	 eax, -4001		; fffff05fH
  00090	83 f8 13	 cmp	 eax, 19			; 00000013H
  00093	77 5d		 ja	 SHORT $LN2@GetPattern

; 2475 : 	strPatternName =_T("");
; 2476 : 
; 2477 : // 2008.02.20 by LYH >>
; 2478 : 	// Get Pattern Name
; 2479 : 	switch (nPatternType)

  00095	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN39@GetPattern[eax*4]
$LN4@GetPattern:

; 2480 : 	{
; 2481 : 	case PTN_HEADNSHOULDER:			// Head & Shoulder				()
; 2482 : 		//strPatternName = STR_HEADNSHOULDER;
; 2483 : 		strPatternName.LoadString(IDS_HEADNSHOULDER);

  0009c	6a 0a		 push	 10			; 0000000aH

; 2484 : 		break;

  0009e	eb 4a		 jmp	 SHORT $LN41@GetPattern
$LN5@GetPattern:

; 2485 : 	case PTN_R_HEADNSHOULDER:		// Reversal Head & Shoulder		()
; 2486 : 		//strPatternName = STR_R_HEADNSHOULDER;
; 2487 : 		strPatternName.LoadString(IDS_R_HEADNSHOULDER);

  000a0	6a 0b		 push	 11			; 0000000bH

; 2488 : 		break;

  000a2	eb 46		 jmp	 SHORT $LN41@GetPattern
$LN6@GetPattern:

; 2489 : 	case PTN_DOUBLETOP:				// Double Top					()
; 2490 : 		//strPatternName = STR_DOUBLETOP;
; 2491 : 		strPatternName.LoadString(IDS_DOUBLETOP);

  000a4	6a 0c		 push	 12			; 0000000cH

; 2492 : 		break;

  000a6	eb 42		 jmp	 SHORT $LN41@GetPattern
$LN7@GetPattern:

; 2493 : 	case PTN_R_DOUBLETOP:			// Reversal Double Top			()
; 2494 : 		//strPatternName = STR_R_DOUBLETOP;
; 2495 : 		strPatternName.LoadString(IDS_R_DOUBLETOP);

  000a8	6a 0d		 push	 13			; 0000000dH

; 2496 : 		break;

  000aa	eb 3e		 jmp	 SHORT $LN41@GetPattern
$LN8@GetPattern:

; 2497 : 		
; 2498 : 	case PTN_BULL_ISOTRIANGLE:		// Bull Isosceles Triangles		()
; 2499 : 		//strPatternName = STR_BULL_ISOTRIANGLE;
; 2500 : 		strPatternName.LoadString(IDS_BULL_ISOTRIANGLE);

  000ac	6a 0e		 push	 14			; 0000000eH

; 2501 : 		break;

  000ae	eb 3a		 jmp	 SHORT $LN41@GetPattern
$LN9@GetPattern:

; 2502 : 	case PTN_BEAR_ISOTRIANGLE:		// Bear Isosceles Triangles		()
; 2503 : 		//strPatternName = STR_BEAR_ISOTRIANGLE;
; 2504 : 		strPatternName.LoadString(IDS_BEAR_ISOTRIANGLE);

  000b0	6a 0f		 push	 15			; 0000000fH

; 2505 : 		break;

  000b2	eb 36		 jmp	 SHORT $LN41@GetPattern
$LN10@GetPattern:

; 2506 : 		
; 2507 : 	case PTN_BULL_TRIANGLE:			// Bull Triangles				()
; 2508 : 		//strPatternName = STR_BULL_TRIANGLE;
; 2509 : 		strPatternName.LoadString(IDS_BULL_TRIANGLE);

  000b4	6a 10		 push	 16			; 00000010H

; 2510 : 		break;

  000b6	eb 32		 jmp	 SHORT $LN41@GetPattern
$LN11@GetPattern:

; 2511 : 	case PTN_BEAR_TRIANGLE:			// Bear Triangles				()
; 2512 : 		//strPatternName = STR_BEAR_TRIANGLE;
; 2513 : 		strPatternName.LoadString(IDS_BEAR_TRIANGLE);

  000b8	6a 11		 push	 17			; 00000011H

; 2514 : 		break;

  000ba	eb 2e		 jmp	 SHORT $LN41@GetPattern
$LN12@GetPattern:

; 2515 : 		
; 2516 : 	case PTN_BULLISH_WIDETRIANGLE:	// Bullish Wide Triangles		()
; 2517 : 		//strPatternName = STR_BULLISH_WIDETRIANGLE;
; 2518 : 		strPatternName.LoadString(IDS_BULLISH_WIDETRIANGLE);

  000bc	6a 12		 push	 18			; 00000012H

; 2519 : 		break;

  000be	eb 2a		 jmp	 SHORT $LN41@GetPattern
$LN13@GetPattern:

; 2520 : 	case PTN_BEARISH_WIDETRIANGLE:	// Bearish Wide Triangles		()
; 2521 : 		//strPatternName = STR_BEARISH_WIDETRIANGLE;
; 2522 : 		strPatternName.LoadString(IDS_BEARISH_WIDETRIANGLE);

  000c0	6a 13		 push	 19			; 00000013H

; 2523 : 		break;

  000c2	eb 26		 jmp	 SHORT $LN41@GetPattern
$LN14@GetPattern:

; 2524 : 		
; 2525 : 	case PTN_BULL_WEDGE:			// Bull Wedge					()
; 2526 : 		//strPatternName = STR_BULL_WEDGE;
; 2527 : 		strPatternName.LoadString(IDS_BULL_WEDGE);

  000c4	6a 14		 push	 20			; 00000014H

; 2528 : 		break;

  000c6	eb 22		 jmp	 SHORT $LN41@GetPattern
$LN15@GetPattern:

; 2529 : 	case PTN_BEAR_WEDGE:			// Bear Wedge					()
; 2530 : 		//strPatternName = STR_BEAR_WEDGE;
; 2531 : 		strPatternName.LoadString(IDS_BEAR_WEDGE);

  000c8	6a 15		 push	 21			; 00000015H

; 2532 : 		break;

  000ca	eb 1e		 jmp	 SHORT $LN41@GetPattern
$LN16@GetPattern:

; 2533 : 		
; 2534 : 	case PTN_BULL_SQUAREFLAG:		// Bull Square Flag				()
; 2535 : 		//strPatternName = STR_BULL_SQUAREFLAG;
; 2536 : 		strPatternName.LoadString(IDS_BULL_SQUAREFLAG);

  000cc	6a 16		 push	 22			; 00000016H

; 2537 : 		break;

  000ce	eb 1a		 jmp	 SHORT $LN41@GetPattern
$LN17@GetPattern:

; 2538 : 	case PTN_BEAR_SQUAREFLAG:		// Bear Square Flag				()
; 2539 : 		//strPatternName = STR_BEAR_SQUAREFLAG;
; 2540 : 		strPatternName.LoadString(IDS_BEAR_SQUAREFLAG);

  000d0	6a 17		 push	 23			; 00000017H

; 2541 : 		break;

  000d2	eb 16		 jmp	 SHORT $LN41@GetPattern
$LN18@GetPattern:

; 2542 : 		
; 2543 : 	case PTN_BULL_TRIANGLEFLAG:		// Bull Triangle Flag			()
; 2544 : 		//strPatternName = STR_BULL_TRIANGLEFLAG;
; 2545 : 		strPatternName.LoadString(IDS_BULL_TRIANGLEFLAG);

  000d4	6a 18		 push	 24			; 00000018H

; 2546 : 		break;

  000d6	eb 12		 jmp	 SHORT $LN41@GetPattern
$LN19@GetPattern:

; 2547 : 	case PTN_BEAR_TRIANGLEFLAG:		// Bear Triangle Flag			()
; 2548 : 		//strPatternName = STR_BEAR_TRIANGLEFLAG;
; 2549 : 		strPatternName.LoadString(IDS_BEAR_TRIANGLEFLAG);

  000d8	6a 19		 push	 25			; 00000019H

; 2550 : 		break;

  000da	eb 0e		 jmp	 SHORT $LN41@GetPattern
$LN20@GetPattern:

; 2551 : 		
; 2552 : 	case PTN_BULL_RECTANGLE:		// Bull Rectangle				()
; 2553 : 		//strPatternName = STR_BULL_RECTANGLE;
; 2554 : 		strPatternName.LoadString(IDS_BULL_RECTANGLE);

  000dc	6a 1a		 push	 26			; 0000001aH

; 2555 : 		break;

  000de	eb 0a		 jmp	 SHORT $LN41@GetPattern
$LN21@GetPattern:

; 2556 : 	case PTN_BEAR_RECTANGLE:		// Bear Rectangle				()
; 2557 : 		//strPatternName = STR_BEAR_RECTANGLE;
; 2558 : 		strPatternName.LoadString(IDS_BEAR_RECTANGLE);

  000e0	6a 1b		 push	 27			; 0000001bH

; 2559 : 		break;

  000e2	eb 06		 jmp	 SHORT $LN41@GetPattern
$LN22@GetPattern:

; 2560 : 		
; 2561 : 	case PTN_V_TOP:					// V Top						()
; 2562 : 		//strPatternName = STR_V_TOP;
; 2563 : 		strPatternName.LoadString(IDS_V_TOP);

  000e4	6a 1c		 push	 28			; 0000001cH

; 2564 : 		break;

  000e6	eb 02		 jmp	 SHORT $LN41@GetPattern
$LN23@GetPattern:

; 2565 : 	case PTN_V_BOTTOM:				// V Bottom						()
; 2566 : 		//strPatternName = STR_V_BOTTOM;
; 2567 : 		strPatternName.LoadString(IDS_V_BOTTOM);

  000e8	6a 1d		 push	 29			; 0000001dH
$LN41@GetPattern:
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\Include_Chart\Dll_Load\IMetaTable.h

; 1035 : 	{

  000ea	8b cf		 mov	 ecx, edi
  000ec	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?LoadStringA@?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAEHI@Z
$LN2@GetPattern:
  000f2	c7 45 fc 02 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 2
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxwin1.inl

; 27   : 	{ ASSERT(hInstResource != NULL); afxCurrentResourceHandle = hInstResource; }

  000f9	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  000fe	89 70 0c	 mov	 DWORD PTR [eax+12], esi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2571 : 	return	strPatternName;

  00101	8b c7		 mov	 eax, edi

; 2572 : }

  00103	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00106	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0010d	59		 pop	 ecx
  0010e	5f		 pop	 edi
  0010f	5e		 pop	 esi
  00110	8b e5		 mov	 esp, ebp
  00112	5d		 pop	 ebp
  00113	c2 08 00	 ret	 8
  00116	66 90		 npad	 2
$LN39@GetPattern:
  00118	00 00 00 00	 DD	 $LN4@GetPattern
  0011c	00 00 00 00	 DD	 $LN5@GetPattern
  00120	00 00 00 00	 DD	 $LN6@GetPattern
  00124	00 00 00 00	 DD	 $LN7@GetPattern
  00128	00 00 00 00	 DD	 $LN8@GetPattern
  0012c	00 00 00 00	 DD	 $LN9@GetPattern
  00130	00 00 00 00	 DD	 $LN10@GetPattern
  00134	00 00 00 00	 DD	 $LN11@GetPattern
  00138	00 00 00 00	 DD	 $LN12@GetPattern
  0013c	00 00 00 00	 DD	 $LN13@GetPattern
  00140	00 00 00 00	 DD	 $LN14@GetPattern
  00144	00 00 00 00	 DD	 $LN15@GetPattern
  00148	00 00 00 00	 DD	 $LN16@GetPattern
  0014c	00 00 00 00	 DD	 $LN17@GetPattern
  00150	00 00 00 00	 DD	 $LN18@GetPattern
  00154	00 00 00 00	 DD	 $LN19@GetPattern
  00158	00 00 00 00	 DD	 $LN20@GetPattern
  0015c	00 00 00 00	 DD	 $LN21@GetPattern
  00160	00 00 00 00	 DD	 $LN22@GetPattern
  00164	00 00 00 00	 DD	 $LN23@GetPattern
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$0:
  00000	8d 4d ec	 lea	 ecx, DWORD PTR ___mlrs__$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMultiLanguageResourceSetter@@QAE@XZ ; CMultiLanguageResourceSetter::~CMultiLanguageResourceSetter
__unwindfunclet$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z$1:
  00008	8b 45 f0	 mov	 eax, DWORD PTR $T2[ebp]
  0000b	83 e0 01	 and	 eax, 1
  0000e	0f 84 0d 00 00
	00		 je	 $LN27@GetPattern
  00014	83 65 f0 fe	 and	 DWORD PTR $T2[ebp], -2	; fffffffeH
  00018	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  0001b	ff 25 00 00 00
	00		 jmp	 DWORD PTR __imp_??1?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@QAE@XZ
$LN27@GetPattern:
  00021	c3		 ret	 0
  00022	cc		 int	 3
  00023	cc		 int	 3
  00024	cc		 int	 3
  00025	cc		 int	 3
  00026	cc		 int	 3
__ehhandler$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z:
  00027	90		 npad	 1
  00028	90		 npad	 1
  00029	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0002d	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00030	8b 4a ec	 mov	 ecx, DWORD PTR [edx-20]
  00033	33 c8		 xor	 ecx, eax
  00035	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0003a	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z
  0003f	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?GetPatternName@CWavePattern@@QAE?AV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@H@Z ENDP ; CWavePattern::GetPatternName
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_All_WavePattern@CWavePattern@@QAEXPAVCObject@@0@Z
_TEXT	SEGMENT
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_All_WavePattern@CWavePattern@@QAEXPAVCObject@@0@Z PROC ; CWavePattern::Find_All_WavePattern, COMDAT
; _this$ = ecx

; 2389 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);

  00005	8b 75 08	 mov	 esi, DWORD PTR _pObjHighLowPtData$[ebp]
  00008	8b d9		 mov	 ebx, ecx
  0000a	57		 push	 edi
  0000b	8b 7d 0c	 mov	 edi, DWORD PTR _pObjWavePatternData$[ebp]
  0000e	57		 push	 edi
  0000f	56		 push	 esi
  00010	e8 00 00 00 00	 call	 ?Find_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_HeaderNShoulders

; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);

  00015	57		 push	 edi
  00016	56		 push	 esi
  00017	8b cb		 mov	 ecx, ebx
  00019	e8 00 00 00 00	 call	 ?Find_R_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_R_HeaderNShoulders

; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);

  0001e	57		 push	 edi
  0001f	56		 push	 esi
  00020	8b cb		 mov	 ecx, ebx
  00022	e8 00 00 00 00	 call	 ?Find_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_DoubleTop

; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);

  00027	57		 push	 edi
  00028	56		 push	 esi
  00029	8b cb		 mov	 ecx, ebx
  0002b	e8 00 00 00 00	 call	 ?Find_R_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_R_DoubleTop

; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);

  00030	57		 push	 edi
  00031	56		 push	 esi
  00032	8b cb		 mov	 ecx, ebx
  00034	e8 00 00 00 00	 call	 ?Find_Bull_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_IsoTriangles

; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);

  00039	57		 push	 edi
  0003a	56		 push	 esi
  0003b	8b cb		 mov	 ecx, ebx
  0003d	e8 00 00 00 00	 call	 ?Find_Bear_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_IsoTriangles

; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);

  00042	57		 push	 edi
  00043	56		 push	 esi
  00044	8b cb		 mov	 ecx, ebx
  00046	e8 00 00 00 00	 call	 ?Find_Bull_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Triangles

; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);

  0004b	57		 push	 edi
  0004c	56		 push	 esi
  0004d	8b cb		 mov	 ecx, ebx
  0004f	e8 00 00 00 00	 call	 ?Find_Bear_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Triangles

; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);

  00054	57		 push	 edi
  00055	56		 push	 esi
  00056	8b cb		 mov	 ecx, ebx
  00058	e8 00 00 00 00	 call	 ?Find_Bullish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bullish_WideTriangles

; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);

  0005d	57		 push	 edi
  0005e	56		 push	 esi
  0005f	8b cb		 mov	 ecx, ebx
  00061	e8 00 00 00 00	 call	 ?Find_Bearish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bearish_WideTriangles

; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);

  00066	57		 push	 edi
  00067	56		 push	 esi
  00068	8b cb		 mov	 ecx, ebx
  0006a	e8 00 00 00 00	 call	 ?Find_Bull_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Wedge

; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);

  0006f	57		 push	 edi
  00070	56		 push	 esi
  00071	8b cb		 mov	 ecx, ebx
  00073	e8 00 00 00 00	 call	 ?Find_Bear_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Wedge

; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);

  00078	57		 push	 edi
  00079	56		 push	 esi
  0007a	8b cb		 mov	 ecx, ebx
  0007c	e8 00 00 00 00	 call	 ?Find_Bull_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_SquareFlag

; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);

  00081	57		 push	 edi
  00082	56		 push	 esi
  00083	8b cb		 mov	 ecx, ebx
  00085	e8 00 00 00 00	 call	 ?Find_Bear_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_SquareFlag

; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);

  0008a	57		 push	 edi
  0008b	56		 push	 esi
  0008c	8b cb		 mov	 ecx, ebx
  0008e	e8 00 00 00 00	 call	 ?Find_Bull_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_TriangleFlag

; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);

  00093	57		 push	 edi
  00094	56		 push	 esi
  00095	8b cb		 mov	 ecx, ebx
  00097	e8 00 00 00 00	 call	 ?Find_Bear_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_TriangleFlag

; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);

  0009c	57		 push	 edi
  0009d	56		 push	 esi
  0009e	8b cb		 mov	 ecx, ebx
  000a0	e8 00 00 00 00	 call	 ?Find_Bull_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bull_Rectangle

; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);

  000a5	57		 push	 edi
  000a6	56		 push	 esi
  000a7	8b cb		 mov	 ecx, ebx
  000a9	e8 00 00 00 00	 call	 ?Find_Bear_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_Bear_Rectangle

; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);

  000ae	57		 push	 edi
  000af	56		 push	 esi
  000b0	8b cb		 mov	 ecx, ebx
  000b2	e8 00 00 00 00	 call	 ?Find_V_Top@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_V_Top

; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);

  000b7	57		 push	 edi
  000b8	56		 push	 esi
  000b9	8b cb		 mov	 ecx, ebx
  000bb	e8 00 00 00 00	 call	 ?Find_V_Bottom@CWavePattern@@QAEHPAVCObject@@0@Z ; CWavePattern::Find_V_Bottom
  000c0	5f		 pop	 edi
  000c1	5e		 pop	 esi
  000c2	5b		 pop	 ebx

; 2439 : }

  000c3	5d		 pop	 ebp
  000c4	c2 08 00	 ret	 8
?Find_All_WavePattern@CWavePattern@@QAEXPAVCObject@@0@Z ENDP ; CWavePattern::Find_All_WavePattern
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z
_TEXT	SEGMENT
$T2 = -16						; size = 4
__$EHRec$ = -12						; size = 12
_pObjWavePatternData$ = 8				; size = 4
_nPatternType$ = 12					; size = 4
_nStartSeq$ = 16					; size = 4
_nEndSeq$ = 20						; size = 4
_dDrawSeq1_1$ = 24					; size = 8
_dDrawYPt1_1$ = 32					; size = 8
_dDrawSeq1_2$ = 40					; size = 8
_dDrawYPt1_2$ = 48					; size = 8
_dDrawSeq2_1$ = 56					; size = 8
_dDrawYPt2_1$ = 64					; size = 8
_dDrawSeq2_2$ = 72					; size = 8
_dDrawYPt2_2$ = 80					; size = 8
_dNeckSeq1$ = 88					; size = 8
_dNeckYPt1$ = 96					; size = 8
_dNeckSeq2$ = 104					; size = 8
_dNeckYPt2$ = 112					; size = 8
_dNeckBaseYPt1$ = 120					; size = 8
_dNeckBaseYPt2$ = 128					; size = 8
?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z PROC ; CWavePattern::AddNewWavePatternData, COMDAT
; _this$ = ecx

; 2354 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	53		 push	 ebx
  00013	56		 push	 esi
  00014	57		 push	 edi
  00015	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001a	33 c5		 xor	 eax, ebp
  0001c	50		 push	 eax
  0001d	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00020	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl

; 116  : 	{ return ::operator new(nSize); }

  00026	68 88 00 00 00	 push	 136			; 00000088H
  0002b	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  00030	83 c4 04	 add	 esp, 4
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2358 : 	pWavePatternData = new CWavePatternData;

  00033	89 45 f0	 mov	 DWORD PTR $T2[ebp], eax
  00036	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  0003d	85 c0		 test	 eax, eax
  0003f	74 0b		 je	 SHORT $LN3@AddNewWave
  00041	8b c8		 mov	 ecx, eax
  00043	e8 00 00 00 00	 call	 ??0CWavePatternData@@QAE@XZ ; CWavePatternData::CWavePatternData
  00048	8b f0		 mov	 esi, eax
  0004a	eb 02		 jmp	 SHORT $LN4@AddNewWave
$LN3@AddNewWave:
  0004c	33 f6		 xor	 esi, esi
$LN4@AddNewWave:

; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data

  0004e	f2 0f 10 45 18	 movsd	 xmm0, QWORD PTR _dDrawSeq1_1$[ebp]
  00053	f2 0f 11 46 18	 movsd	 QWORD PTR [esi+24], xmm0

; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;

  00058	f2 0f 10 45 20	 movsd	 xmm0, QWORD PTR _dDrawYPt1_1$[ebp]
  0005d	f2 0f 11 46 20	 movsd	 QWORD PTR [esi+32], xmm0

; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;

  00062	f2 0f 10 45 28	 movsd	 xmm0, QWORD PTR _dDrawSeq1_2$[ebp]
  00067	f2 0f 11 46 28	 movsd	 QWORD PTR [esi+40], xmm0

; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;

  0006c	f2 0f 10 45 30	 movsd	 xmm0, QWORD PTR _dDrawYPt1_2$[ebp]
  00071	f2 0f 11 46 30	 movsd	 QWORD PTR [esi+48], xmm0

; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data

  00076	f2 0f 10 45 38	 movsd	 xmm0, QWORD PTR _dDrawSeq2_1$[ebp]
  0007b	8b 45 0c	 mov	 eax, DWORD PTR _nPatternType$[ebp]
  0007e	f2 0f 11 46 38	 movsd	 QWORD PTR [esi+56], xmm0

; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;

  00083	f2 0f 10 45 40	 movsd	 xmm0, QWORD PTR _dDrawYPt2_1$[ebp]
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  00088	8b 7d 08	 mov	 edi, DWORD PTR _pObjWavePatternData$[ebp]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;

  0008b	f2 0f 11 46 40	 movsd	 QWORD PTR [esi+64], xmm0

; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;

  00090	f2 0f 10 45 48	 movsd	 xmm0, QWORD PTR _dDrawSeq2_2$[ebp]
  00095	f2 0f 11 46 48	 movsd	 QWORD PTR [esi+72], xmm0

; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;

  0009a	f2 0f 10 45 50	 movsd	 xmm0, QWORD PTR _dDrawYPt2_2$[ebp]
  0009f	f2 0f 11 46 50	 movsd	 QWORD PTR [esi+80], xmm0

; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data

  000a4	f2 0f 10 45 58	 movsd	 xmm0, QWORD PTR _dNeckSeq1$[ebp]
  000a9	f2 0f 11 46 58	 movsd	 QWORD PTR [esi+88], xmm0

; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;

  000ae	f2 0f 10 45 60	 movsd	 xmm0, QWORD PTR _dNeckYPt1$[ebp]
  000b3	f2 0f 11 46 60	 movsd	 QWORD PTR [esi+96], xmm0

; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data

  000b8	f2 0f 10 45 68	 movsd	 xmm0, QWORD PTR _dNeckSeq2$[ebp]
  000bd	f2 0f 11 46 68	 movsd	 QWORD PTR [esi+104], xmm0

; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;

  000c2	f2 0f 10 45 70	 movsd	 xmm0, QWORD PTR _dNeckYPt2$[ebp]
  000c7	f2 0f 11 46 70	 movsd	 QWORD PTR [esi+112], xmm0

; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;

  000cc	f2 0f 10 45 78	 movsd	 xmm0, QWORD PTR _dNeckBaseYPt1$[ebp]
  000d1	89 46 04	 mov	 DWORD PTR [esi+4], eax
  000d4	8b 45 10	 mov	 eax, DWORD PTR _nStartSeq$[ebp]
  000d7	f2 0f 11 46 78	 movsd	 QWORD PTR [esi+120], xmm0

; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;

  000dc	f2 0f 10 85 80
	00 00 00	 movsd	 xmm0, QWORD PTR _dNeckBaseYPt2$[ebp]
  000e4	89 46 0c	 mov	 DWORD PTR [esi+12], eax
  000e7	8b 45 14	 mov	 eax, DWORD PTR _nEndSeq$[ebp]
  000ea	89 46 10	 mov	 DWORD PTR [esi+16], eax
  000ed	f2 0f 11 86 80
	00 00 00	 movsd	 QWORD PTR [esi+128], xmm0
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  000f5	8b 5f 08	 mov	 ebx, DWORD PTR [edi+8]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2358 : 	pWavePatternData = new CWavePatternData;

  000f8	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 538  : 	if(nIndex < 0)

  000ff	85 db		 test	 ebx, ebx
  00101	78 27		 js	 SHORT $LN19@AddNewWave

; 540  : 
; 541  : 	if (nIndex >= m_nSize)
; 542  : 		SetSize(nIndex+1, -1);

  00103	6a ff		 push	 -1
  00105	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  00108	8b cf		 mov	 ecx, edi
  0010a	50		 push	 eax
  0010b	e8 00 00 00 00	 call	 ?SetSize@?$CArray@PAVCWavePatternData@@PAV1@@@QAEXHH@Z ; CArray<CWavePatternData *,CWavePatternData *>::SetSize

; 543  : 	m_pData[nIndex] = newElement;

  00110	8b 47 04	 mov	 eax, DWORD PTR [edi+4]
  00113	89 34 98	 mov	 DWORD PTR [eax+ebx*4], esi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2383 : }

  00116	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00119	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00120	59		 pop	 ecx
  00121	5f		 pop	 edi
  00122	5e		 pop	 esi
  00123	5b		 pop	 ebx
  00124	8b e5		 mov	 esp, ebp
  00126	5d		 pop	 ebp
  00127	c2 80 00	 ret	 128			; 00000080H
$LN19@AddNewWave:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 539  : 		AfxThrowInvalidArgException();

  0012a	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN17@AddNewWave:
  0012f	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z$0:
  00000	8b 45 f0	 mov	 eax, DWORD PTR $T2[ebp]
  00003	50		 push	 eax
  00004	e8 00 00 00 00	 call	 ??3CObject@@SGXPAX@Z	; CObject::operator delete
  00009	c3		 ret	 0
  0000a	cc		 int	 3
  0000b	cc		 int	 3
  0000c	cc		 int	 3
  0000d	cc		 int	 3
  0000e	cc		 int	 3
__ehhandler$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z:
  0000f	90		 npad	 1
  00010	90		 npad	 1
  00011	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00015	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00018	8b 4a ec	 mov	 ecx, DWORD PTR [edx-20]
  0001b	33 c8		 xor	 ecx, eax
  0001d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00022	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z
  00027	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ENDP ; CWavePattern::AddNewWavePatternData
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_V_Bottom@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
$T1 = -16						; size = 4
_this$1$ = -12						; size = 4
_pHighLowPtData1$1$ = -8				; size = 4
tv876 = -4						; size = 4
tv866 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_V_Bottom@CWavePattern@@QAEHPAVCObject@@0@Z PROC	; CWavePattern::Find_V_Bottom, COMDAT
; _this$ = ecx

; 2285 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d f4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 05	 sub	 eax, 5
  00012	89 45 f0	 mov	 DWORD PTR $T1[ebp], eax
  00015	0f 88 a9 02 00
	00		 js	 $LN3@Find_V_Bot

; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_V_Bot:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00022	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00025	85 c9		 test	 ecx, ecx
  00027	0f 88 a2 02 00
	00		 js	 $LN15@Find_V_Bot
  0002d	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00030	3b c8		 cmp	 ecx, eax
  00032	0f 8d 97 02 00
	00		 jge	 $LN15@Find_V_Bot

; 289  : 		return m_pData[nIndex];

  00038	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003b	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0003f	89 55 f8	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00042	85 d2		 test	 edx, edx
  00044	0f 84 68 02 00
	00		 je	 $LN2@Find_V_Bot

; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  0004a	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  00051	0f 85 5b 02 00
	00		 jne	 $LN2@Find_V_Bot
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00057	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  0005a	85 d2		 test	 edx, edx
  0005c	0f 88 6d 02 00
	00		 js	 $LN15@Find_V_Bot
  00062	3b d0		 cmp	 edx, eax
  00064	0f 8d 65 02 00
	00		 jge	 $LN15@Find_V_Bot
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  0006a	83 7c b1 fc 00	 cmp	 DWORD PTR [ecx+esi*4-4], 0
  0006f	0f 84 3d 02 00
	00		 je	 $LN2@Find_V_Bot
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00075	85 f6		 test	 esi, esi
  00077	0f 88 52 02 00
	00		 js	 $LN15@Find_V_Bot
  0007d	3b f0		 cmp	 esi, eax
  0007f	0f 8d 4a 02 00
	00		 jge	 $LN15@Find_V_Bot
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00085	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  00088	85 ff		 test	 edi, edi
  0008a	0f 84 22 02 00
	00		 je	 $LN2@Find_V_Bot
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00090	8d 56 01	 lea	 edx, DWORD PTR [esi+1]
  00093	85 d2		 test	 edx, edx
  00095	0f 88 34 02 00
	00		 js	 $LN15@Find_V_Bot
  0009b	3b d0		 cmp	 edx, eax
  0009d	0f 8d 2c 02 00
	00		 jge	 $LN15@Find_V_Bot
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000a3	83 7c b1 04 00	 cmp	 DWORD PTR [ecx+esi*4+4], 0
  000a8	0f 84 04 02 00
	00		 je	 $LN2@Find_V_Bot
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000ae	8d 56 02	 lea	 edx, DWORD PTR [esi+2]
  000b1	89 55 fc	 mov	 DWORD PTR tv866[ebp], edx
  000b4	85 d2		 test	 edx, edx
  000b6	0f 88 13 02 00
	00		 js	 $LN15@Find_V_Bot
  000bc	3b d0		 cmp	 edx, eax
  000be	0f 8d 0b 02 00
	00		 jge	 $LN15@Find_V_Bot
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000c4	83 7c b1 08 00	 cmp	 DWORD PTR [ecx+esi*4+8], 0
  000c9	0f 84 e3 01 00
	00		 je	 $LN2@Find_V_Bot

; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))

  000cf	8b 44 b1 f8	 mov	 eax, DWORD PTR [ecx+esi*4-8]
  000d3	f2 0f 10 6f 28	 movsd	 xmm5, QWORD PTR [edi+40]
  000d8	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  000dd	66 0f 2f c5	 comisd	 xmm0, xmm5
  000e1	0f 86 cb 01 00
	00		 jbe	 $LN2@Find_V_Bot
  000e7	8b 44 b1 08	 mov	 eax, DWORD PTR [ecx+esi*4+8]
  000eb	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  000f0	66 0f 2f c5	 comisd	 xmm0, xmm5
  000f4	0f 86 b8 01 00
	00		 jbe	 $LN2@Find_V_Bot

; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  000fa	8b 44 b1 fc	 mov	 eax, DWORD PTR [ecx+esi*4-4]
  000fe	0f 57 db	 xorps	 xmm3, xmm3
  00101	66 0f 6e 7f 08	 movd	 xmm7, DWORD PTR [edi+8]
  00106	0f 57 d2	 xorps	 xmm2, xmm2
  00109	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  0010d	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00110	89 55 fc	 mov	 DWORD PTR tv876[ebp], edx
  00113	f2 0f 10 60 20	 movsd	 xmm4, QWORD PTR [eax+32]
  00118	66 0f 6e ca	 movd	 xmm1, edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0011c	0f 28 c7	 movaps	 xmm0, xmm7
  0011f	8b 54 b1 04	 mov	 edx, DWORD PTR [ecx+esi*4+4]

; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  00123	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00127	f2 0f 5c c1	 subsd	 xmm0, xmm1
  0012b	66 0f 2e c3	 ucomisd xmm0, xmm3
  0012f	9f		 lahf
  00130	f6 c4 44	 test	 ah, 68			; 00000044H
  00133	7b 21		 jnp	 SHORT $LN31@Find_V_Bot
  00135	66 0f 2e e3	 ucomisd xmm4, xmm3
  00139	9f		 lahf
  0013a	f6 c4 44	 test	 ah, 68			; 00000044H
  0013d	7b 17		 jnp	 SHORT $LN31@Find_V_Bot

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0013f	0f 28 d5	 movaps	 xmm2, xmm5
  00142	f2 0f 5c d4	 subsd	 xmm2, xmm4
  00146	f2 0f 5e d4	 divsd	 xmm2, xmm4
  0014a	f2 0f 5e d0	 divsd	 xmm2, xmm0
  0014e	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
$LN31@Find_V_Bot:
  00156	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]
  0015b	0f 57 c9	 xorps	 xmm1, xmm1

; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0015e	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00162	0f 28 c6	 movaps	 xmm0, xmm6
  00165	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00169	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00171	66 0f 2e c3	 ucomisd xmm0, xmm3
  00175	9f		 lahf
  00176	f6 c4 44	 test	 ah, 68			; 00000044H
  00179	7b 1f		 jnp	 SHORT $LN34@Find_V_Bot
  0017b	66 0f 2e eb	 ucomisd xmm5, xmm3
  0017f	9f		 lahf
  00180	f6 c4 44	 test	 ah, 68			; 00000044H
  00183	7b 15		 jnp	 SHORT $LN34@Find_V_Bot

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00185	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  0018a	f2 0f 5c cd	 subsd	 xmm1, xmm5
  0018e	f2 0f 5e cd	 divsd	 xmm1, xmm5
  00192	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00196	f2 0f 59 cf	 mulsd	 xmm1, xmm7
$LN34@Find_V_Bot:

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0019a	8b 7d fc	 mov	 edi, DWORD PTR tv876[ebp]
  0019d	0f 57 c0	 xorps	 xmm0, xmm0
  001a0	66 0f 6e ef	 movd	 xmm5, edi
  001a4	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  001a8	f2 0f 5c f5	 subsd	 xmm6, xmm5
  001ac	66 0f 2e f3	 ucomisd xmm6, xmm3
  001b0	9f		 lahf
  001b1	f6 c4 44	 test	 ah, 68			; 00000044H
  001b4	7b 1f		 jnp	 SHORT $LN37@Find_V_Bot
  001b6	66 0f 2e e3	 ucomisd xmm4, xmm3
  001ba	9f		 lahf
  001bb	f6 c4 44	 test	 ah, 68			; 00000044H
  001be	7b 15		 jnp	 SHORT $LN37@Find_V_Bot

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001c0	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  001c5	f2 0f 5c c4	 subsd	 xmm0, xmm4
  001c9	f2 0f 5e c4	 divsd	 xmm0, xmm4
  001cd	f2 0f 5e c6	 divsd	 xmm0, xmm6
  001d1	f2 0f 59 c7	 mulsd	 xmm0, xmm7
$LN37@Find_V_Bot:

; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )

  001d5	f2 0f 10 2d 00
	00 00 00	 movsd	 xmm5, QWORD PTR __real@bfe3333333333333
  001dd	66 0f 2f ea	 comisd	 xmm5, xmm2
  001e1	0f 82 cb 00 00
	00		 jb	 $LN2@Find_V_Bot
  001e7	66 0f 2f 0d 00
	00 00 00	 comisd	 xmm1, QWORD PTR __real@3fe3333333333333
  001ef	0f 82 bd 00 00
	00		 jb	 $LN2@Find_V_Bot
  001f5	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  001fc	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fb999999999999a
  00204	66 0f 2f c8	 comisd	 xmm1, xmm0
  00208	0f 82 a4 00 00
	00		 jb	 $LN2@Find_V_Bot

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0020e	66 0f 2e f3	 ucomisd xmm6, xmm3
  00212	0f 57 c9	 xorps	 xmm1, xmm1
  00215	9f		 lahf
  00216	f6 c4 44	 test	 ah, 68			; 00000044H
  00219	7b 0d		 jnp	 SHORT $LN40@Find_V_Bot

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0021b	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  00220	f2 0f 5c cc	 subsd	 xmm1, xmm4
  00224	f2 0f 5e ce	 divsd	 xmm1, xmm6
$LN40@Find_V_Bot:

; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00228	8b 44 b1 08	 mov	 eax, DWORD PTR [ecx+esi*4+8]

; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,

  0022c	83 ec 70	 sub	 esp, 112		; 00000070H
  0022f	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00232	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData1$1$[ebp]
  00235	0f 11 5c 24 60	 movups	 XMMWORD PTR [esp+96], xmm3
  0023a	0f 11 5c 24 50	 movups	 XMMWORD PTR [esp+80], xmm3
  0023f	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00242	8b c1		 mov	 eax, ecx
  00244	2b c7		 sub	 eax, edi
  00246	0f 11 5c 24 40	 movups	 XMMWORD PTR [esp+64], xmm3
  0024b	0f 11 5c 24 30	 movups	 XMMWORD PTR [esp+48], xmm3
  00250	66 0f 6e c0	 movd	 xmm0, eax
  00254	8b c2		 mov	 eax, edx
  00256	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0025a	2b c7		 sub	 eax, edi
  0025c	0f 11 5c 24 20	 movups	 XMMWORD PTR [esp+32], xmm3
  00261	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00265	f2 0f 58 c4	 addsd	 xmm0, xmm4
  00269	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  0026f	66 0f 6e c1	 movd	 xmm0, ecx
  00273	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00277	f2 0f 11 44 24
	10		 movsd	 QWORD PTR [esp+16], xmm0
  0027d	66 0f 6e c0	 movd	 xmm0, eax
  00281	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00285	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00289	f2 0f 58 c4	 addsd	 xmm0, xmm4
  0028d	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00293	66 0f 6e c2	 movd	 xmm0, edx
  00297	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0029b	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  002a0	51		 push	 ecx
  002a1	8b 4d f4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  002a4	52		 push	 edx
  002a5	68 b4 0f 00 00	 push	 4020			; 00000fb4H
  002aa	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  002ad	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
$LN2@Find_V_Bot:

; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  002b2	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  002b5	46		 inc	 esi
  002b6	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  002b9	3b 45 f0	 cmp	 eax, DWORD PTR $T1[ebp]
  002bc	0f 8e 60 fd ff
	ff		 jle	 $LL4@Find_V_Bot
  002c2	5f		 pop	 edi
  002c3	5e		 pop	 esi
$LN3@Find_V_Bot:

; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;

  002c4	b8 01 00 00 00	 mov	 eax, 1

; 2343 : }

  002c9	8b e5		 mov	 esp, ebp
  002cb	5d		 pop	 ebp
  002cc	c2 08 00	 ret	 8
$LN15@Find_V_Bot:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  002cf	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN48@Find_V_Bot:
  002d4	cc		 int	 3
?Find_V_Bottom@CWavePattern@@QAEHPAVCObject@@0@Z ENDP	; CWavePattern::Find_V_Bottom
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_V_Top@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
$T1 = -16						; size = 4
_this$1$ = -12						; size = 4
_pHighLowPtData1$1$ = -8				; size = 4
tv876 = -4						; size = 4
tv866 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_V_Top@CWavePattern@@QAEHPAVCObject@@0@Z PROC	; CWavePattern::Find_V_Top, COMDAT
; _this$ = ecx

; 2220 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d f4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 05	 sub	 eax, 5
  00012	89 45 f0	 mov	 DWORD PTR $T1[ebp], eax
  00015	0f 88 b7 02 00
	00		 js	 $LN3@Find_V_Top

; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	be 02 00 00 00	 mov	 esi, 2
  0002a	66 0f 1f 44 00
	00		 npad	 6
$LL4@Find_V_Top:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 a2 02 00
	00		 js	 $LN15@Find_V_Top
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 97 02 00
	00		 jge	 $LN15@Find_V_Top

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 f8	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 68 02 00
	00		 je	 $LN2@Find_V_Top

; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 5b 02 00
	00		 jne	 $LN2@Find_V_Top
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  00068	85 d2		 test	 edx, edx
  0006a	0f 88 6d 02 00
	00		 js	 $LN15@Find_V_Top
  00070	3b d0		 cmp	 edx, eax
  00072	0f 8d 65 02 00
	00		 jge	 $LN15@Find_V_Top
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	83 7c b1 fc 00	 cmp	 DWORD PTR [ecx+esi*4-4], 0
  0007d	0f 84 3d 02 00
	00		 je	 $LN2@Find_V_Top
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00083	85 f6		 test	 esi, esi
  00085	0f 88 52 02 00
	00		 js	 $LN15@Find_V_Top
  0008b	3b f0		 cmp	 esi, eax
  0008d	0f 8d 4a 02 00
	00		 jge	 $LN15@Find_V_Top
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00093	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  00096	85 ff		 test	 edi, edi
  00098	0f 84 22 02 00
	00		 je	 $LN2@Find_V_Top
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  0009e	8d 56 01	 lea	 edx, DWORD PTR [esi+1]
  000a1	85 d2		 test	 edx, edx
  000a3	0f 88 34 02 00
	00		 js	 $LN15@Find_V_Top
  000a9	3b d0		 cmp	 edx, eax
  000ab	0f 8d 2c 02 00
	00		 jge	 $LN15@Find_V_Top
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b1	83 7c b1 04 00	 cmp	 DWORD PTR [ecx+esi*4+4], 0
  000b6	0f 84 04 02 00
	00		 je	 $LN2@Find_V_Top
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000bc	8d 56 02	 lea	 edx, DWORD PTR [esi+2]
  000bf	89 55 fc	 mov	 DWORD PTR tv866[ebp], edx
  000c2	85 d2		 test	 edx, edx
  000c4	0f 88 13 02 00
	00		 js	 $LN15@Find_V_Top
  000ca	3b d0		 cmp	 edx, eax
  000cc	0f 8d 0b 02 00
	00		 jge	 $LN15@Find_V_Top
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d2	83 7c b1 08 00	 cmp	 DWORD PTR [ecx+esi*4+8], 0
  000d7	0f 84 e3 01 00
	00		 je	 $LN2@Find_V_Top

; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))

  000dd	8b 44 b1 f8	 mov	 eax, DWORD PTR [ecx+esi*4-8]
  000e1	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  000e6	66 0f 2f 40 20	 comisd	 xmm0, QWORD PTR [eax+32]
  000eb	0f 86 cf 01 00
	00		 jbe	 $LN2@Find_V_Top
  000f1	8b 44 b1 08	 mov	 eax, DWORD PTR [ecx+esi*4+8]
  000f5	66 0f 2f 40 20	 comisd	 xmm0, QWORD PTR [eax+32]
  000fa	0f 86 c0 01 00
	00		 jbe	 $LN2@Find_V_Top

; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  00100	8b 44 b1 fc	 mov	 eax, DWORD PTR [ecx+esi*4-4]
  00104	0f 57 db	 xorps	 xmm3, xmm3
  00107	66 0f 6e 7f 08	 movd	 xmm7, DWORD PTR [edi+8]
  0010c	0f 57 d2	 xorps	 xmm2, xmm2
  0010f	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  00113	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00116	89 55 fc	 mov	 DWORD PTR tv876[ebp], edx
  00119	f2 0f 10 60 28	 movsd	 xmm4, QWORD PTR [eax+40]
  0011e	66 0f 6e ea	 movd	 xmm5, edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00122	0f 28 cf	 movaps	 xmm1, xmm7
  00125	8b 54 b1 04	 mov	 edx, DWORD PTR [ecx+esi*4+4]

; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  00129	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0012d	f2 0f 5c cd	 subsd	 xmm1, xmm5
  00131	66 0f 2e cb	 ucomisd xmm1, xmm3
  00135	9f		 lahf
  00136	f6 c4 44	 test	 ah, 68			; 00000044H
  00139	7b 1d		 jnp	 SHORT $LN31@Find_V_Top
  0013b	66 0f 2e e3	 ucomisd xmm4, xmm3
  0013f	9f		 lahf
  00140	f6 c4 44	 test	 ah, 68			; 00000044H
  00143	7b 13		 jnp	 SHORT $LN31@Find_V_Top

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00145	0f 28 d0	 movaps	 xmm2, xmm0
  00148	f2 0f 5c d4	 subsd	 xmm2, xmm4
  0014c	f2 0f 5e d4	 divsd	 xmm2, xmm4
  00150	f2 0f 5e d1	 divsd	 xmm2, xmm1
  00154	f2 0f 59 d6	 mulsd	 xmm2, xmm6
$LN31@Find_V_Top:
  00158	66 0f 6e 6a 08	 movd	 xmm5, DWORD PTR [edx+8]
  0015d	0f 57 c9	 xorps	 xmm1, xmm1

; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00160	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00164	0f 28 f5	 movaps	 xmm6, xmm5
  00167	f2 0f 5c f7	 subsd	 xmm6, xmm7
  0016b	66 0f 2e f3	 ucomisd xmm6, xmm3
  0016f	9f		 lahf
  00170	f6 c4 44	 test	 ah, 68			; 00000044H
  00173	7b 23		 jnp	 SHORT $LN34@Find_V_Top
  00175	66 0f 2e c3	 ucomisd xmm0, xmm3
  00179	9f		 lahf
  0017a	f6 c4 44	 test	 ah, 68			; 00000044H
  0017d	7b 19		 jnp	 SHORT $LN34@Find_V_Top

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0017f	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  00184	f2 0f 5c c8	 subsd	 xmm1, xmm0
  00188	f2 0f 5e c8	 divsd	 xmm1, xmm0
  0018c	f2 0f 5e ce	 divsd	 xmm1, xmm6
  00190	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4059000000000000
$LN34@Find_V_Top:

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00198	8b 7d fc	 mov	 edi, DWORD PTR tv876[ebp]
  0019b	0f 57 c0	 xorps	 xmm0, xmm0
  0019e	66 0f 6e f7	 movd	 xmm6, edi
  001a2	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001a6	f2 0f 5c ee	 subsd	 xmm5, xmm6
  001aa	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  001b2	66 0f 2e eb	 ucomisd xmm5, xmm3
  001b6	9f		 lahf
  001b7	f6 c4 44	 test	 ah, 68			; 00000044H
  001ba	7b 1f		 jnp	 SHORT $LN37@Find_V_Top
  001bc	66 0f 2e e3	 ucomisd xmm4, xmm3
  001c0	9f		 lahf
  001c1	f6 c4 44	 test	 ah, 68			; 00000044H
  001c4	7b 15		 jnp	 SHORT $LN37@Find_V_Top

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001c6	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  001cb	f2 0f 5c c4	 subsd	 xmm0, xmm4
  001cf	f2 0f 5e c4	 divsd	 xmm0, xmm4
  001d3	f2 0f 5e c5	 divsd	 xmm0, xmm5
  001d7	f2 0f 59 c6	 mulsd	 xmm0, xmm6
$LN37@Find_V_Top:

; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )

  001db	66 0f 2f 15 00
	00 00 00	 comisd	 xmm2, QWORD PTR __real@3fe3333333333333
  001e3	0f 82 d7 00 00
	00		 jb	 $LN2@Find_V_Top
  001e9	f2 0f 10 15 00
	00 00 00	 movsd	 xmm2, QWORD PTR __real@bfe3333333333333
  001f1	66 0f 2f d1	 comisd	 xmm2, xmm1
  001f5	0f 82 c5 00 00
	00		 jb	 $LN2@Find_V_Top
  001fb	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  00202	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fb999999999999a
  0020a	66 0f 2f c8	 comisd	 xmm1, xmm0
  0020e	0f 82 ac 00 00
	00		 jb	 $LN2@Find_V_Top

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00214	66 0f 2e eb	 ucomisd xmm5, xmm3
  00218	0f 57 c9	 xorps	 xmm1, xmm1
  0021b	9f		 lahf
  0021c	f6 c4 44	 test	 ah, 68			; 00000044H
  0021f	7b 0d		 jnp	 SHORT $LN40@Find_V_Top

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00221	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  00226	f2 0f 5c cc	 subsd	 xmm1, xmm4
  0022a	f2 0f 5e cd	 divsd	 xmm1, xmm5
$LN40@Find_V_Top:

; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  0022e	8b 44 b1 08	 mov	 eax, DWORD PTR [ecx+esi*4+8]

; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,

  00232	83 ec 70	 sub	 esp, 112		; 00000070H
  00235	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00238	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData1$1$[ebp]
  0023b	0f 11 5c 24 60	 movups	 XMMWORD PTR [esp+96], xmm3
  00240	0f 11 5c 24 50	 movups	 XMMWORD PTR [esp+80], xmm3
  00245	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00248	8b c1		 mov	 eax, ecx
  0024a	2b c7		 sub	 eax, edi
  0024c	0f 11 5c 24 40	 movups	 XMMWORD PTR [esp+64], xmm3
  00251	0f 11 5c 24 30	 movups	 XMMWORD PTR [esp+48], xmm3
  00256	66 0f 6e c0	 movd	 xmm0, eax
  0025a	8b c2		 mov	 eax, edx
  0025c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00260	2b c7		 sub	 eax, edi
  00262	0f 11 5c 24 20	 movups	 XMMWORD PTR [esp+32], xmm3
  00267	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0026b	f2 0f 58 c4	 addsd	 xmm0, xmm4
  0026f	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00275	66 0f 6e c1	 movd	 xmm0, ecx
  00279	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0027d	f2 0f 11 44 24
	10		 movsd	 QWORD PTR [esp+16], xmm0
  00283	66 0f 6e c0	 movd	 xmm0, eax
  00287	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0028b	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0028f	f2 0f 58 c4	 addsd	 xmm0, xmm4
  00293	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00299	66 0f 6e c2	 movd	 xmm0, edx
  0029d	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002a1	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  002a6	51		 push	 ecx
  002a7	8b 4d f4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  002aa	52		 push	 edx
  002ab	68 b3 0f 00 00	 push	 4019			; 00000fb3H
  002b0	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  002b3	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  002b8	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
$LN2@Find_V_Top:

; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  002c0	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  002c3	46		 inc	 esi
  002c4	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  002c7	3b 45 f0	 cmp	 eax, DWORD PTR $T1[ebp]
  002ca	0f 8e 60 fd ff
	ff		 jle	 $LL4@Find_V_Top
  002d0	5f		 pop	 edi
  002d1	5e		 pop	 esi
$LN3@Find_V_Top:

; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;

  002d2	b8 01 00 00 00	 mov	 eax, 1

; 2278 : }

  002d7	8b e5		 mov	 esp, ebp
  002d9	5d		 pop	 ebp
  002da	c2 08 00	 ret	 8
$LN15@Find_V_Top:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  002dd	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN48@Find_V_Top:
  002e2	cc		 int	 3
?Find_V_Top@CWavePattern@@QAEHPAVCObject@@0@Z ENDP	; CWavePattern::Find_V_Top
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt1$1 = -136					; size = 8
_dYNeckPt2$2 = -128					; size = 8
_dXNeckPt2$3 = -120					; size = 8
tv1417 = -112						; size = 8
tv1420 = -104						; size = 8
_dYPos1$1$ = -96					; size = 8
tv1353 = -88						; size = 8
tv1331 = -88						; size = 8
$T4 = -80						; size = 4
_this$1$ = -76						; size = 4
_dYDrawPt1_2$1$ = -72					; size = 8
tv1334 = -72						; size = 8
tv1411 = -64						; size = 8
tv1422 = -56						; size = 8
_dXNeckPt1$5 = -48					; size = 8
_dYDrawPt2_1$1$ = -40					; size = 8
tv1446 = -36						; size = 4
_dYDrawPt1_1$1$ = -32					; size = 8
_pHighLowPtData2$1$ = -28				; size = 4
_dYDrawPt2_2$1$ = -24					; size = 8
tv1429 = -24						; size = 8
tv1424 = -24						; size = 8
tv1318 = -24						; size = 8
_pHighLowPtData3$1$ = -16				; size = 4
tv1448 = -16						; size = 4
_pHighLowPtData5$1$ = -12				; size = 4
_pHighLowPtData6$1$ = -8				; size = 4
_pHighLowPtData4$1$ = -4				; size = 4
tv1449 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bear_Rectangle, COMDAT
; _this$ = ecx

; 2110 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H

; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d b4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 b0	 mov	 DWORD PTR $T4[ebp], eax
  00018	0f 88 b1 05 00
	00		 js	 $LN3@Find_Bear_

; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	56		 push	 esi
  0001f	57		 push	 edi
  00020	be 02 00 00 00	 mov	 esi, 2
  00025	0f 57 c9	 xorps	 xmm1, xmm1
  00028	0f 1f 84 00 00
	00 00 00	 npad	 8
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 9f 05 00
	00		 js	 $LN19@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 94 05 00
	00		 jge	 $LN19@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	85 d2		 test	 edx, edx
  0004f	0f 84 68 05 00
	00		 je	 $LN2@Find_Bear_

; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00055	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005c	0f 85 5b 05 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00062	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00065	85 ff		 test	 edi, edi
  00067	0f 88 6d 05 00
	00		 js	 $LN19@Find_Bear_
  0006d	3b f8		 cmp	 edi, eax
  0006f	0f 8d 65 05 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00075	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  00079	89 7d e4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007c	85 ff		 test	 edi, edi
  0007e	0f 84 39 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00084	85 f6		 test	 esi, esi
  00086	0f 88 4e 05 00
	00		 js	 $LN19@Find_Bear_
  0008c	3b f0		 cmp	 esi, eax
  0008e	0f 8d 46 05 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00094	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  00097	89 7d f0	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0009a	85 ff		 test	 edi, edi
  0009c	0f 84 1b 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 2d 05 00
	00		 js	 $LN19@Find_Bear_
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d 25 05 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d fc	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 f9 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 0b 05 00
	00		 js	 $LN19@Find_Bear_
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d 03 05 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000db	89 7d f4	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000de	85 ff		 test	 edi, edi
  000e0	0f 84 d7 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e6	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e9	85 ff		 test	 edi, edi
  000eb	0f 88 e9 04 00
	00		 js	 $LN19@Find_Bear_
  000f1	3b f8		 cmp	 edi, eax
  000f3	0f 8d e1 04 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f9	8b 44 b1 0c	 mov	 eax, DWORD PTR [ecx+esi*4+12]
  000fd	89 45 f8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], eax
  00100	85 c0		 test	 eax, eax
  00102	0f 84 b5 04 00
	00		 je	 $LN2@Find_Bear_

; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))

  00108	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData3$1$[ebp]
  0010b	f2 0f 10 7a 20	 movsd	 xmm7, QWORD PTR [edx+32]
  00110	f2 0f 10 71 20	 movsd	 xmm6, QWORD PTR [ecx+32]
  00115	66 0f 2f fe	 comisd	 xmm7, xmm6
  00119	0f 86 9e 04 00
	00		 jbe	 $LN2@Find_Bear_
  0011f	8b 7d fc	 mov	 edi, DWORD PTR _pHighLowPtData4$1$[ebp]
  00122	f2 0f 10 6f 28	 movsd	 xmm5, QWORD PTR [edi+40]
  00127	66 0f 2f 68 28	 comisd	 xmm5, QWORD PTR [eax+40]
  0012c	0f 86 8b 04 00
	00		 jbe	 $LN2@Find_Bear_

; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00132	8b 42 08	 mov	 eax, DWORD PTR [edx+8]

; 2456 : 	double	dGradient=0;

  00135	0f 28 d1	 movaps	 xmm2, xmm1
  00138	66 0f 6e 5a 08	 movd	 xmm3, DWORD PTR [edx+8]

; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0013d	89 45 fc	 mov	 DWORD PTR tv1449[ebp], eax
  00140	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00143	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  00147	89 45 f0	 mov	 DWORD PTR tv1448[ebp], eax
  0014a	66 0f 6e e0	 movd	 xmm4, eax
  0014e	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00152	f2 0f 11 5d c0	 movsd	 QWORD PTR tv1411[ebp], xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00157	0f 28 c4	 movaps	 xmm0, xmm4

; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0015a	f2 0f 11 65 90	 movsd	 QWORD PTR tv1417[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0015f	f2 0f 5c c3	 subsd	 xmm0, xmm3
  00163	66 0f 2e c1	 ucomisd xmm0, xmm1
  00167	9f		 lahf
  00168	f6 c4 44	 test	 ah, 68			; 00000044H
  0016b	7b 21		 jnp	 SHORT $LN38@Find_Bear_
  0016d	66 0f 2e f9	 ucomisd xmm7, xmm1
  00171	9f		 lahf
  00172	f6 c4 44	 test	 ah, 68			; 00000044H
  00175	7b 17		 jnp	 SHORT $LN38@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00177	0f 28 d6	 movaps	 xmm2, xmm6
  0017a	f2 0f 5c d7	 subsd	 xmm2, xmm7
  0017e	f2 0f 5e d7	 divsd	 xmm2, xmm7
  00182	f2 0f 5e d0	 divsd	 xmm2, xmm0
  00186	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
$LN38@Find_Bear_:

; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0018e	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  00191	0f 28 c1	 movaps	 xmm0, xmm1
  00194	66 0f 6e 58 08	 movd	 xmm3, DWORD PTR [eax+8]

; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00199	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  0019d	f2 0f 11 5d 98	 movsd	 QWORD PTR tv1420[ebp], xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001a2	f2 0f 5c dc	 subsd	 xmm3, xmm4
  001a6	66 0f 2e d9	 ucomisd xmm3, xmm1
  001aa	f2 0f 11 5d a8	 movsd	 QWORD PTR tv1331[ebp], xmm3
  001af	9f		 lahf
  001b0	f6 c4 44	 test	 ah, 68			; 00000044H
  001b3	7b 26		 jnp	 SHORT $LN41@Find_Bear_
  001b5	66 0f 2e f1	 ucomisd xmm6, xmm1
  001b9	9f		 lahf
  001ba	f6 c4 44	 test	 ah, 68			; 00000044H
  001bd	7b 1c		 jnp	 SHORT $LN41@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001bf	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001c2	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  001c7	f2 0f 5c c6	 subsd	 xmm0, xmm6
  001cb	f2 0f 5e c6	 divsd	 xmm0, xmm6
  001cf	f2 0f 5e c3	 divsd	 xmm0, xmm3
  001d3	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4059000000000000
$LN41@Find_Bear_:

; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001db	8b 45 e4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  001de	f2 0f 10 60 28	 movsd	 xmm4, QWORD PTR [eax+40]
  001e3	66 0f 6e 58 08	 movd	 xmm3, DWORD PTR [eax+8]
  001e8	f2 0f 11 65 a0	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm4
  001ed	66 0f 6e 67 08	 movd	 xmm4, DWORD PTR [edi+8]
  001f2	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  001f6	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  001fa	f2 0f 11 5d c8	 movsd	 QWORD PTR tv1422[ebp], xmm3

; 2456 : 	double	dGradient=0;

  001ff	0f 28 d9	 movaps	 xmm3, xmm1

; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  00202	f2 0f 11 65 e8	 movsd	 QWORD PTR tv1424[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00207	f2 0f 5c 65 c8	 subsd	 xmm4, QWORD PTR tv1422[ebp]
  0020c	66 0f 2e e1	 ucomisd xmm4, xmm1
  00210	f2 0f 11 65 b8	 movsd	 QWORD PTR tv1334[ebp], xmm4
  00215	9f		 lahf
  00216	f6 c4 44	 test	 ah, 68			; 00000044H
  00219	8b 45 e4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0021c	f2 0f 10 60 28	 movsd	 xmm4, QWORD PTR [eax+40]
  00221	7b 22		 jnp	 SHORT $LN44@Find_Bear_
  00223	66 0f 2e e1	 ucomisd xmm4, xmm1
  00227	9f		 lahf
  00228	f6 c4 44	 test	 ah, 68			; 00000044H
  0022b	7b 18		 jnp	 SHORT $LN44@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0022d	0f 28 dd	 movaps	 xmm3, xmm5
  00230	f2 0f 5c dc	 subsd	 xmm3, xmm4
  00234	f2 0f 5e dc	 divsd	 xmm3, xmm4
  00238	f2 0f 5e 5d b8	 divsd	 xmm3, QWORD PTR tv1334[ebp]
  0023d	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@4059000000000000
$LN44@Find_Bear_:

; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00245	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  00248	0f 28 e1	 movaps	 xmm4, xmm1

; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0024b	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0024e	89 45 dc	 mov	 DWORD PTR tv1446[ebp], eax
  00251	66 0f 6e f8	 movd	 xmm7, eax
  00255	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00259	f2 0f 5c 7d e8	 subsd	 xmm7, QWORD PTR tv1424[ebp]
  0025e	66 0f 2e f9	 ucomisd xmm7, xmm1
  00262	f2 0f 11 7d e8	 movsd	 QWORD PTR tv1318[ebp], xmm7
  00267	f2 0f 10 7a 20	 movsd	 xmm7, QWORD PTR [edx+32]
  0026c	8b 55 f8	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
  0026f	9f		 lahf
  00270	f6 c4 44	 test	 ah, 68			; 00000044H
  00273	7b 24		 jnp	 SHORT $LN47@Find_Bear_
  00275	66 0f 2e e9	 ucomisd xmm5, xmm1
  00279	9f		 lahf
  0027a	f6 c4 44	 test	 ah, 68			; 00000044H
  0027d	7b 1a		 jnp	 SHORT $LN47@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0027f	f2 0f 10 62 28	 movsd	 xmm4, QWORD PTR [edx+40]
  00284	f2 0f 5c e5	 subsd	 xmm4, xmm5
  00288	f2 0f 5e e5	 divsd	 xmm4, xmm5
  0028c	f2 0f 5e 65 e8	 divsd	 xmm4, QWORD PTR tv1318[ebp]
  00291	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN47@Find_Bear_:

; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )

  00299	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  002a1	0f 28 e8	 movaps	 xmm5, xmm0
  002a4	0f 54 2d 00 00
	00 00		 andps	 xmm5, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002ab	66 0f 2f cd	 comisd	 xmm1, xmm5
  002af	0f 57 c9	 xorps	 xmm1, xmm1
  002b2	0f 82 05 03 00
	00		 jb	 $LN2@Find_Bear_
  002b8	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@3fd3333333333333
  002c0	0f 28 cb	 movaps	 xmm1, xmm3
  002c3	0f 54 0d 00 00
	00 00		 andps	 xmm1, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002ca	66 0f 2f f1	 comisd	 xmm6, xmm1
  002ce	f2 0f 10 71 20	 movsd	 xmm6, QWORD PTR [ecx+32]
  002d3	f2 0f 11 4d e8	 movsd	 QWORD PTR tv1429[ebp], xmm1
  002d8	0f 57 c9	 xorps	 xmm1, xmm1
  002db	0f 82 dc 02 00
	00		 jb	 $LN2@Find_Bear_
  002e1	f2 0f 5c 6d e8	 subsd	 xmm5, QWORD PTR tv1429[ebp]
  002e6	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  002ee	0f 54 2d 00 00
	00 00		 andps	 xmm5, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002f5	66 0f 2f cd	 comisd	 xmm1, xmm5
  002f9	0f 57 c9	 xorps	 xmm1, xmm1
  002fc	0f 82 bb 02 00
	00		 jb	 $LN2@Find_Bear_

; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  00302	66 0f 2f c2	 comisd	 xmm0, xmm2
  00306	0f 86 b1 02 00
	00		 jbe	 $LN2@Find_Bear_
  0030c	66 0f 2f dc	 comisd	 xmm3, xmm4
  00310	0f 86 a7 02 00
	00		 jbe	 $LN2@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00316	f2 0f 10 45 a8	 movsd	 xmm0, QWORD PTR tv1331[ebp]
  0031b	0f 57 ed	 xorps	 xmm5, xmm5
  0031e	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00321	66 0f 2e c1	 ucomisd xmm0, xmm1
  00325	9f		 lahf
  00326	f6 c4 44	 test	 ah, 68			; 00000044H
  00329	7b 0d		 jnp	 SHORT $LN69@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0032b	f2 0f 10 69 20	 movsd	 xmm5, QWORD PTR [ecx+32]
  00330	f2 0f 5c ee	 subsd	 xmm5, xmm6
  00334	f2 0f 5e e8	 divsd	 xmm5, xmm0
$LN69@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00338	f2 0f 10 45 b8	 movsd	 xmm0, QWORD PTR tv1334[ebp]
  0033d	0f 57 d2	 xorps	 xmm2, xmm2
  00340	66 0f 2e c1	 ucomisd xmm0, xmm1
  00344	9f		 lahf
  00345	f6 c4 44	 test	 ah, 68			; 00000044H
  00348	7b 17		 jnp	 SHORT $LN71@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0034a	f2 0f 10 57 28	 movsd	 xmm2, QWORD PTR [edi+40]
  0034f	8b 7d e4	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
  00352	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  00357	f2 0f 5c d3	 subsd	 xmm2, xmm3
  0035b	f2 0f 5e d0	 divsd	 xmm2, xmm0
  0035f	eb 08		 jmp	 SHORT $LN53@Find_Bear_
$LN71@Find_Bear_:

; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00361	f2 0f 10 5d a0	 movsd	 xmm3, QWORD PTR _dYPos1$1$[ebp]
  00366	8b 7d e4	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
$LN53@Find_Bear_:
  00369	f2 0f 10 45 c8	 movsd	 xmm0, QWORD PTR tv1422[ebp]
  0036e	0f 57 e4	 xorps	 xmm4, xmm4
  00371	f2 0f 5c 45 c0	 subsd	 xmm0, QWORD PTR tv1411[ebp]
  00376	66 0f 2e c1	 ucomisd xmm0, xmm1
  0037a	9f		 lahf
  0037b	f6 c4 44	 test	 ah, 68			; 00000044H
  0037e	7b 0b		 jnp	 SHORT $LN65@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00380	0f 28 e3	 movaps	 xmm4, xmm3
  00383	f2 0f 5c e7	 subsd	 xmm4, xmm7
  00387	f2 0f 5e e0	 divsd	 xmm4, xmm0
$LN65@Find_Bear_:
  0038b	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  00390	0f 57 db	 xorps	 xmm3, xmm3

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00393	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00397	f2 0f 5c 45 98	 subsd	 xmm0, QWORD PTR tv1420[ebp]
  0039c	66 0f 2e c1	 ucomisd xmm0, xmm1
  003a0	9f		 lahf
  003a1	f6 c4 44	 test	 ah, 68			; 00000044H
  003a4	7b 0e		 jnp	 SHORT $LN70@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003a6	f2 0f 10 5a 28	 movsd	 xmm3, QWORD PTR [edx+40]
  003ab	f2 0f 5c 59 20	 subsd	 xmm3, QWORD PTR [ecx+32]
  003b0	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN70@Find_Bear_:

; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003b4	8b 45 fc	 mov	 eax, DWORD PTR tv1449[ebp]
  003b7	2b 45 f0	 sub	 eax, DWORD PTR tv1448[ebp]

; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003ba	8b 55 dc	 mov	 edx, DWORD PTR tv1446[ebp]
  003bd	66 0f 6e c0	 movd	 xmm0, eax
  003c1	8b c2		 mov	 eax, edx
  003c3	2b 45 f0	 sub	 eax, DWORD PTR tv1448[ebp]
  003c6	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003ca	f2 0f 59 c5	 mulsd	 xmm0, xmm5
  003ce	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003d2	f2 0f 11 45 e0	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  003d7	66 0f 6e c0	 movd	 xmm0, eax

; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  003db	8b 45 fc	 mov	 eax, DWORD PTR tv1449[ebp]
  003de	2b 47 08	 sub	 eax, DWORD PTR [edi+8]
  003e1	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003e5	f2 0f 59 c5	 mulsd	 xmm0, xmm5
  003e9	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003ed	f2 0f 11 45 b8	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  003f2	66 0f 6e c0	 movd	 xmm0, eax

; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  003f6	8b c2		 mov	 eax, edx
  003f8	2b 47 08	 sub	 eax, DWORD PTR [edi+8]
  003fb	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003ff	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00403	0f 28 c8	 movaps	 xmm1, xmm0
  00406	f2 0f 11 45 d8	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  0040b	f2 0f 58 4f 28	 addsd	 xmm1, QWORD PTR [edi+40]

; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)

  00410	0f 28 c4	 movaps	 xmm0, xmm4
  00413	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00417	f2 0f 11 4d d8	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm1
  0041c	66 0f 6e c8	 movd	 xmm1, eax
  00420	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00424	f2 0f 11 45 a8	 movsd	 QWORD PTR tv1353[ebp], xmm0
  00429	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  0042d	f2 0f 58 4f 28	 addsd	 xmm1, QWORD PTR [edi+40]
  00432	f2 0f 11 4d e8	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm1
  00437	0f 57 c9	 xorps	 xmm1, xmm1
  0043a	66 0f 2e c1	 ucomisd xmm0, xmm1
  0043e	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  00443	9f		 lahf
  00444	f6 c4 44	 test	 ah, 68			; 00000044H
  00447	7b 58		 jnp	 SHORT $LN67@Find_Bear_

; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 

  00449	0f 28 c4	 movaps	 xmm0, xmm4
  0044c	f2 0f 59 45 c0	 mulsd	 xmm0, QWORD PTR tv1411[ebp]
  00451	f2 0f 11 45 d0	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm0
  00456	0f 28 c6	 movaps	 xmm0, xmm6
  00459	f2 0f 10 4d d0	 movsd	 xmm1, QWORD PTR _dXNeckPt1$5[ebp]
  0045e	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00462	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00466	0f 28 c5	 movaps	 xmm0, xmm5
  00469	f2 0f 59 45 90	 mulsd	 xmm0, QWORD PTR tv1417[ebp]
  0046e	f2 0f 5c c8	 subsd	 xmm1, xmm0
  00472	0f 28 c1	 movaps	 xmm0, xmm1
  00475	f2 0f 11 4d d0	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm1
  0047a	f2 0f 5e 45 a8	 divsd	 xmm0, QWORD PTR tv1353[ebp]
  0047f	0f 57 c9	 xorps	 xmm1, xmm1
  00482	f2 0f 11 45 d0	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm0

; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;

  00487	f2 0f 5c 45 c0	 subsd	 xmm0, QWORD PTR tv1411[ebp]
  0048c	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  00490	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00494	f2 0f 11 85 78
	ff ff ff	 movsd	 QWORD PTR _dYNeckPt1$1[ebp], xmm0
  0049c	f2 0f 10 45 a0	 movsd	 xmm0, QWORD PTR _dYPos1$1$[ebp]
$LN67@Find_Bear_:

; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)

  004a1	0f 28 e3	 movaps	 xmm4, xmm3
  004a4	f2 0f 5c e2	 subsd	 xmm4, xmm2
  004a8	66 0f 2e e1	 ucomisd xmm4, xmm1
  004ac	9f		 lahf
  004ad	f6 c4 44	 test	 ah, 68			; 00000044H
  004b0	7b 45		 jnp	 SHORT $LN72@Find_Bear_

; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  004b2	f2 0f 5c 41 20	 subsd	 xmm0, QWORD PTR [ecx+32]
  004b7	0f 28 fb	 movaps	 xmm7, xmm3
  004ba	f2 0f 59 7d 98	 mulsd	 xmm7, QWORD PTR tv1420[ebp]
  004bf	f2 0f 58 f8	 addsd	 xmm7, xmm0
  004c3	0f 28 c2	 movaps	 xmm0, xmm2
  004c6	f2 0f 59 45 c8	 mulsd	 xmm0, QWORD PTR tv1422[ebp]
  004cb	f2 0f 5c f8	 subsd	 xmm7, xmm0
  004cf	0f 57 c0	 xorps	 xmm0, xmm0

; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  004d2	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  004d7	f2 0f 5e fc	 divsd	 xmm7, xmm4
  004db	0f 28 e7	 movaps	 xmm4, xmm7
  004de	f2 0f 11 7d 88	 movsd	 QWORD PTR _dXNeckPt2$3[ebp], xmm7
  004e3	f2 0f 5c e0	 subsd	 xmm4, xmm0
  004e7	f2 0f 59 e3	 mulsd	 xmm4, xmm3
  004eb	f2 0f 58 61 20	 addsd	 xmm4, QWORD PTR [ecx+32]
  004f0	f2 0f 11 65 80	 movsd	 QWORD PTR _dYNeckPt2$2[ebp], xmm4
  004f5	eb 0a		 jmp	 SHORT $LN16@Find_Bear_
$LN72@Find_Bear_:

; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)

  004f7	f2 0f 10 7d 88	 movsd	 xmm7, QWORD PTR _dXNeckPt2$3[ebp]
  004fc	f2 0f 10 65 80	 movsd	 xmm4, QWORD PTR _dYNeckPt2$2[ebp]
$LN16@Find_Bear_:

; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00501	f2 0f 10 4d d0	 movsd	 xmm1, QWORD PTR _dXNeckPt1$5[ebp]

; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,

  00506	83 ec 70	 sub	 esp, 112		; 00000070H
  00509	0f 28 c1	 movaps	 xmm0, xmm1
  0050c	8b 4d b4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0050f	f2 0f 5c 45 c8	 subsd	 xmm0, QWORD PTR tv1422[ebp]
  00514	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00518	66 0f 6e d2	 movd	 xmm2, edx
  0051c	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00520	f2 0f 58 47 28	 addsd	 xmm0, QWORD PTR [edi+40]
  00525	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0052b	0f 28 c1	 movaps	 xmm0, xmm1
  0052e	f2 0f 5c 45 90	 subsd	 xmm0, QWORD PTR tv1417[ebp]
  00533	f2 0f 59 c5	 mulsd	 xmm0, xmm5
  00537	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0053b	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00541	f2 0f 10 85 78
	ff ff ff	 movsd	 xmm0, QWORD PTR _dYNeckPt1$1[ebp]
  00549	f2 0f 11 64 24
	58		 movsd	 QWORD PTR [esp+88], xmm4
  0054f	f2 0f 11 7c 24
	50		 movsd	 QWORD PTR [esp+80], xmm7
  00555	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  0055b	f2 0f 10 45 e8	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  00560	f2 0f 11 4c 24
	40		 movsd	 QWORD PTR [esp+64], xmm1
  00566	f2 0f 10 4d c0	 movsd	 xmm1, QWORD PTR tv1411[ebp]
  0056b	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  00571	f2 0f 10 45 d8	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00576	f2 0f 11 54 24
	30		 movsd	 QWORD PTR [esp+48], xmm2
  0057c	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00582	f2 0f 10 45 b8	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00587	f2 0f 11 4c 24
	20		 movsd	 QWORD PTR [esp+32], xmm1
  0058d	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00593	f2 0f 10 45 e0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  00598	f2 0f 11 54 24
	10		 movsd	 QWORD PTR [esp+16], xmm2
  0059e	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005a4	f2 0f 11 0c 24	 movsd	 QWORD PTR [esp], xmm1
  005a9	52		 push	 edx
  005aa	ff 75 fc	 push	 DWORD PTR tv1449[ebp]
  005ad	68 b2 0f 00 00	 push	 4018			; 00000fb2H
  005b2	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005b5	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005ba	0f 57 c9	 xorps	 xmm1, xmm1
$LN2@Find_Bear_:

; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005bd	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005c0	46		 inc	 esi
  005c1	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005c4	3b 45 b0	 cmp	 eax, DWORD PTR $T4[ebp]
  005c7	0f 8e 63 fa ff
	ff		 jle	 $LL4@Find_Bear_
  005cd	5f		 pop	 edi
  005ce	5e		 pop	 esi
$LN3@Find_Bear_:

; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;

  005cf	b8 01 00 00 00	 mov	 eax, 1

; 2213 : }

  005d4	8b e5		 mov	 esp, ebp
  005d6	5d		 pop	 ebp
  005d7	c2 08 00	 ret	 8
$LN19@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005da	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN76@Find_Bear_:
  005df	cc		 int	 3
?Find_Bear_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bear_Rectangle
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt1$1 = -124					; size = 8
_dYNeckPt2$2 = -116					; size = 8
_dXNeckPt2$3 = -108					; size = 8
tv1339 = -100						; size = 8
tv1336 = -100						; size = 8
tv1320 = -100						; size = 8
_dYDrawPt2_2$1$ = -92					; size = 8
tv1317 = -92						; size = 8
_dYDrawPt2_1$1$ = -84					; size = 8
tv1383 = -84						; size = 8
tv1377 = -84						; size = 8
tv1304 = -84						; size = 8
_dYPos1$1$ = -76					; size = 8
tv1364 = -68						; size = 8
tv1370 = -60						; size = 8
_dXNeckPt1$4 = -52					; size = 8
tv1375 = -44						; size = 8
$T5 = -36						; size = 4
_this$1$ = -32						; size = 4
_dYDrawPt1_2$1$ = -28					; size = 8
_pHighLowPtData6$1$ = -24				; size = 4
_pHighLowPtData3$1$ = -20				; size = 4
tv1399 = -20						; size = 4
_dYDrawPt1_1$1$ = -16					; size = 8
_pHighLowPtData2$1$ = -12				; size = 4
_pHighLowPtData4$1$ = -8				; size = 4
tv1401 = -8						; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bull_Rectangle, COMDAT
; _this$ = ecx

; 2001 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH

; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 dc	 mov	 DWORD PTR $T5[ebp], eax
  00015	0f 88 73 05 00
	00		 js	 $LN3@Find_Bull_

; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
  00022	0f 57 c0	 xorps	 xmm0, xmm0
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00025	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00028	85 c9		 test	 ecx, ecx
  0002a	0f 88 69 05 00
	00		 js	 $LN19@Find_Bull_
  00030	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00033	3b c8		 cmp	 ecx, eax
  00035	0f 8d 5e 05 00
	00		 jge	 $LN19@Find_Bull_

; 289  : 		return m_pData[nIndex];

  0003b	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003e	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  00042	85 d2		 test	 edx, edx
  00044	0f 84 32 05 00
	00		 je	 $LN2@Find_Bull_

; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  0004a	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  00051	0f 85 25 05 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00057	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  0005a	85 ff		 test	 edi, edi
  0005c	0f 88 37 05 00
	00		 js	 $LN19@Find_Bull_
  00062	3b f8		 cmp	 edi, eax
  00064	0f 8d 2f 05 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  0006a	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0006e	89 7d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  00071	85 ff		 test	 edi, edi
  00073	0f 84 03 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00079	85 f6		 test	 esi, esi
  0007b	0f 88 18 05 00
	00		 js	 $LN19@Find_Bull_
  00081	3b f0		 cmp	 esi, eax
  00083	0f 8d 10 05 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00089	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0008c	89 7d ec	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0008f	85 ff		 test	 edi, edi
  00091	0f 84 e5 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00097	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  0009a	85 ff		 test	 edi, edi
  0009c	0f 88 f7 04 00
	00		 js	 $LN19@Find_Bull_
  000a2	3b f8		 cmp	 edi, eax
  000a4	0f 8d ef 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000aa	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000ae	89 7d f8	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000b1	85 ff		 test	 edi, edi
  000b3	0f 84 c3 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000b9	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000bc	85 ff		 test	 edi, edi
  000be	0f 88 d5 04 00
	00		 js	 $LN19@Find_Bull_
  000c4	3b f8		 cmp	 edi, eax
  000c6	0f 8d cd 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000cc	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000d0	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000d3	85 ff		 test	 edi, edi
  000d5	0f 84 a1 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000db	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000de	85 ff		 test	 edi, edi
  000e0	0f 88 b3 04 00
	00		 js	 $LN19@Find_Bull_
  000e6	3b f8		 cmp	 edi, eax
  000e8	0f 8d ab 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000ee	8b 44 b1 0c	 mov	 eax, DWORD PTR [ecx+esi*4+12]
  000f2	89 45 e8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], eax
  000f5	85 c0		 test	 eax, eax
  000f7	0f 84 7f 04 00
	00		 je	 $LN2@Find_Bull_

; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))

  000fd	8b 4d ec	 mov	 ecx, DWORD PTR _pHighLowPtData3$1$[ebp]
  00100	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  00105	f2 0f 11 4d b4	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm1
  0010a	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  0010f	66 0f 2f f1	 comisd	 xmm6, xmm1
  00113	0f 86 63 04 00
	00		 jbe	 $LN2@Find_Bull_
  00119	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData4$1$[ebp]
  0011c	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  00121	f2 0f 10 6f 20	 movsd	 xmm5, QWORD PTR [edi+32]
  00126	66 0f 2f d5	 comisd	 xmm2, xmm5
  0012a	0f 86 4c 04 00
	00		 jbe	 $LN2@Find_Bull_

; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00130	8b 42 08	 mov	 eax, DWORD PTR [edx+8]

; 2456 : 	double	dGradient=0;

  00133	0f 28 d0	 movaps	 xmm2, xmm0
  00136	66 0f 6e 61 08	 movd	 xmm4, DWORD PTR [ecx+8]

; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  0013b	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  0013f	89 45 f8	 mov	 DWORD PTR tv1401[ebp], eax
  00142	66 0f 6e f8	 movd	 xmm7, eax
  00146	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0014a	0f 28 dc	 movaps	 xmm3, xmm4

; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  0014d	f2 0f 11 65 c4	 movsd	 QWORD PTR tv1370[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00152	f2 0f 5c df	 subsd	 xmm3, xmm7

; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00156	f2 0f 11 7d bc	 movsd	 QWORD PTR tv1364[ebp], xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0015b	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00163	66 0f 2e d8	 ucomisd xmm3, xmm0
  00167	9f		 lahf
  00168	f6 c4 44	 test	 ah, 68			; 00000044H
  0016b	7b 1d		 jnp	 SHORT $LN38@Find_Bull_
  0016d	66 0f 2e c8	 ucomisd xmm1, xmm0
  00171	9f		 lahf
  00172	f6 c4 44	 test	 ah, 68			; 00000044H
  00175	7b 13		 jnp	 SHORT $LN38@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00177	0f 28 d6	 movaps	 xmm2, xmm6
  0017a	f2 0f 5c d1	 subsd	 xmm2, xmm1
  0017e	f2 0f 5e d1	 divsd	 xmm2, xmm1
  00182	f2 0f 5e d3	 divsd	 xmm2, xmm3
  00186	f2 0f 59 d7	 mulsd	 xmm2, xmm7
$LN38@Find_Bull_:

; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0018a	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0018d	0f 28 c8	 movaps	 xmm1, xmm0
  00190	66 0f 6e 5a 08	 movd	 xmm3, DWORD PTR [edx+8]

; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00195	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00199	f2 0f 5c dc	 subsd	 xmm3, xmm4
  0019d	66 0f 2e d8	 ucomisd xmm3, xmm0
  001a1	f2 0f 11 5d 9c	 movsd	 QWORD PTR tv1320[ebp], xmm3
  001a6	9f		 lahf
  001a7	f6 c4 44	 test	 ah, 68			; 00000044H
  001aa	7b 1f		 jnp	 SHORT $LN41@Find_Bull_
  001ac	66 0f 2e f0	 ucomisd xmm6, xmm0
  001b0	9f		 lahf
  001b1	f6 c4 44	 test	 ah, 68			; 00000044H
  001b4	7b 15		 jnp	 SHORT $LN41@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001b6	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  001bb	f2 0f 5c ce	 subsd	 xmm1, xmm6
  001bf	f2 0f 5e ce	 divsd	 xmm1, xmm6
  001c3	f2 0f 5e cb	 divsd	 xmm1, xmm3
  001c7	f2 0f 59 cf	 mulsd	 xmm1, xmm7
$LN41@Find_Bull_:

; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001cb	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  001ce	66 0f 6e 67 08	 movd	 xmm4, DWORD PTR [edi+8]
  001d3	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  001d7	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001da	89 55 ec	 mov	 DWORD PTR tv1399[ebp], edx
  001dd	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  001e2	66 0f 6e da	 movd	 xmm3, edx
  001e6	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  001ea	f2 0f 11 65 ac	 movsd	 QWORD PTR tv1377[ebp], xmm4
  001ef	f2 0f 11 5d d4	 movsd	 QWORD PTR tv1375[ebp], xmm3

; 2456 : 	double	dGradient=0;

  001f4	0f 28 d8	 movaps	 xmm3, xmm0

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001f7	f2 0f 5c 65 d4	 subsd	 xmm4, QWORD PTR tv1375[ebp]
  001fc	66 0f 2e e0	 ucomisd xmm4, xmm0
  00200	f2 0f 11 65 a4	 movsd	 QWORD PTR tv1317[ebp], xmm4
  00205	9f		 lahf
  00206	f6 c4 44	 test	 ah, 68			; 00000044H
  00209	7b 21		 jnp	 SHORT $LN44@Find_Bull_
  0020b	66 0f 2e f8	 ucomisd xmm7, xmm0
  0020f	9f		 lahf
  00210	f6 c4 44	 test	 ah, 68			; 00000044H
  00213	7b 17		 jnp	 SHORT $LN44@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00215	0f 28 dd	 movaps	 xmm3, xmm5
  00218	f2 0f 5c df	 subsd	 xmm3, xmm7
  0021c	f2 0f 5e df	 divsd	 xmm3, xmm7
  00220	f2 0f 5e dc	 divsd	 xmm3, xmm4
  00224	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@4059000000000000
$LN44@Find_Bull_:

; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0022c	8b 55 e8	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  0022f	0f 28 e0	 movaps	 xmm4, xmm0
  00232	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]

; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00237	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0023b	f2 0f 5c 75 ac	 subsd	 xmm6, QWORD PTR tv1377[ebp]
  00240	66 0f 2e f0	 ucomisd xmm6, xmm0
  00244	f2 0f 11 75 ac	 movsd	 QWORD PTR tv1304[ebp], xmm6
  00249	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  0024e	9f		 lahf
  0024f	f6 c4 44	 test	 ah, 68			; 00000044H
  00252	7b 24		 jnp	 SHORT $LN47@Find_Bull_
  00254	66 0f 2e e8	 ucomisd xmm5, xmm0
  00258	9f		 lahf
  00259	f6 c4 44	 test	 ah, 68			; 00000044H
  0025c	7b 1a		 jnp	 SHORT $LN47@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0025e	f2 0f 10 62 20	 movsd	 xmm4, QWORD PTR [edx+32]
  00263	f2 0f 5c e5	 subsd	 xmm4, xmm5
  00267	f2 0f 5e e5	 divsd	 xmm4, xmm5
  0026b	f2 0f 5e 65 ac	 divsd	 xmm4, QWORD PTR tv1304[ebp]
  00270	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN47@Find_Bull_:

; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )

  00278	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3fd3333333333333
  00280	0f 28 eb	 movaps	 xmm5, xmm3
  00283	0f 54 2d 00 00
	00 00		 andps	 xmm5, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0028a	66 0f 2f c5	 comisd	 xmm0, xmm5
  0028e	0f 57 c0	 xorps	 xmm0, xmm0
  00291	0f 82 e5 02 00
	00		 jb	 $LN2@Find_Bull_
  00297	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0029a	0f 28 c1	 movaps	 xmm0, xmm1
  0029d	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002a4	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@3fd3333333333333
  002ac	66 0f 2f f8	 comisd	 xmm7, xmm0
  002b0	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  002b5	f2 0f 11 45 ac	 movsd	 QWORD PTR tv1383[ebp], xmm0
  002ba	0f 57 c0	 xorps	 xmm0, xmm0
  002bd	0f 82 b9 02 00
	00		 jb	 $LN2@Find_Bull_
  002c3	f2 0f 5c 6d ac	 subsd	 xmm5, QWORD PTR tv1383[ebp]
  002c8	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3fd3333333333333
  002d0	0f 54 2d 00 00
	00 00		 andps	 xmm5, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002d7	66 0f 2f c5	 comisd	 xmm0, xmm5
  002db	0f 57 c0	 xorps	 xmm0, xmm0
  002de	0f 82 98 02 00
	00		 jb	 $LN2@Find_Bull_

; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002e4	66 0f 2f d1	 comisd	 xmm2, xmm1
  002e8	0f 86 8e 02 00
	00		 jbe	 $LN2@Find_Bull_
  002ee	66 0f 2f e3	 comisd	 xmm4, xmm3
  002f2	0f 86 84 02 00
	00		 jbe	 $LN2@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002f8	f2 0f 10 4d a4	 movsd	 xmm1, QWORD PTR tv1317[ebp]
  002fd	0f 57 db	 xorps	 xmm3, xmm3
  00300	66 0f 2e c8	 ucomisd xmm1, xmm0
  00304	9f		 lahf
  00305	f6 c4 44	 test	 ah, 68			; 00000044H
  00308	7b 0d		 jnp	 SHORT $LN50@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0030a	f2 0f 10 5f 20	 movsd	 xmm3, QWORD PTR [edi+32]
  0030f	f2 0f 5c df	 subsd	 xmm3, xmm7
  00313	f2 0f 5e d9	 divsd	 xmm3, xmm1
$LN50@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00317	f2 0f 10 55 9c	 movsd	 xmm2, QWORD PTR tv1320[ebp]
  0031c	0f 57 c9	 xorps	 xmm1, xmm1
  0031f	8b 7d fc	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]
  00322	66 0f 2e d0	 ucomisd xmm2, xmm0
  00326	9f		 lahf
  00327	f6 c4 44	 test	 ah, 68			; 00000044H
  0032a	7b 0d		 jnp	 SHORT $LN68@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0032c	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  00331	f2 0f 5c ce	 subsd	 xmm1, xmm6
  00335	f2 0f 5e ca	 divsd	 xmm1, xmm2
$LN68@Find_Bull_:

; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00339	8b 45 f8	 mov	 eax, DWORD PTR tv1401[ebp]
  0033c	0f 57 e4	 xorps	 xmm4, xmm4
  0033f	2b 45 ec	 sub	 eax, DWORD PTR tv1399[ebp]
  00342	66 0f 6e 6f 08	 movd	 xmm5, DWORD PTR [edi+8]

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00347	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0034b	66 0f 6e d0	 movd	 xmm2, eax

; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0034f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00352	2b 45 ec	 sub	 eax, DWORD PTR tv1399[ebp]
  00355	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00359	f2 0f 59 d3	 mulsd	 xmm2, xmm3
  0035d	f2 0f 58 d7	 addsd	 xmm2, xmm7
  00361	f2 0f 11 55 f0	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm2
  00366	66 0f 6e d0	 movd	 xmm2, eax

; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  0036a	8b 45 f8	 mov	 eax, DWORD PTR tv1401[ebp]
  0036d	2b 41 08	 sub	 eax, DWORD PTR [ecx+8]
  00370	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00374	f2 0f 59 d3	 mulsd	 xmm2, xmm3
  00378	f2 0f 58 d7	 addsd	 xmm2, xmm7
  0037c	f2 0f 11 55 e4	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm2
  00381	66 0f 6e d0	 movd	 xmm2, eax

; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00385	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00388	2b 41 08	 sub	 eax, DWORD PTR [ecx+8]
  0038b	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0038f	f2 0f 59 d1	 mulsd	 xmm2, xmm1
  00393	f2 0f 58 d6	 addsd	 xmm2, xmm6
  00397	f2 0f 11 55 ac	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm2
  0039c	66 0f 6e d0	 movd	 xmm2, eax
  003a0	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  003a4	f2 0f 59 d1	 mulsd	 xmm2, xmm1
  003a8	f2 0f 58 d6	 addsd	 xmm2, xmm6
  003ac	f2 0f 11 55 a4	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm2
  003b1	66 0f 6e 52 08	 movd	 xmm2, DWORD PTR [edx+8]

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003b6	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  003ba	f2 0f 5c d5	 subsd	 xmm2, xmm5
  003be	66 0f 2e d0	 ucomisd xmm2, xmm0
  003c2	9f		 lahf
  003c3	f6 c4 44	 test	 ah, 68			; 00000044H
  003c6	7b 0e		 jnp	 SHORT $LN69@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003c8	f2 0f 10 62 20	 movsd	 xmm4, QWORD PTR [edx+32]
  003cd	f2 0f 5c 67 28	 subsd	 xmm4, QWORD PTR [edi+40]
  003d2	f2 0f 5e e2	 divsd	 xmm4, xmm2
$LN69@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003d6	f2 0f 10 6d d4	 movsd	 xmm5, QWORD PTR tv1375[ebp]
  003db	0f 57 d2	 xorps	 xmm2, xmm2
  003de	f2 0f 5c 6d bc	 subsd	 xmm5, QWORD PTR tv1364[ebp]
  003e3	66 0f 2e e8	 ucomisd xmm5, xmm0
  003e7	f2 0f 11 6d 9c	 movsd	 QWORD PTR tv1336[ebp], xmm5
  003ec	f2 0f 10 6d b4	 movsd	 xmm5, QWORD PTR _dYPos1$1$[ebp]
  003f1	9f		 lahf
  003f2	f6 c4 44	 test	 ah, 68			; 00000044H
  003f5	7b 0c		 jnp	 SHORT $LN65@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003f7	0f 28 d7	 movaps	 xmm2, xmm7
  003fa	f2 0f 5c d5	 subsd	 xmm2, xmm5
  003fe	f2 0f 5e 55 9c	 divsd	 xmm2, QWORD PTR tv1336[ebp]
$LN65@Find_Bull_:

; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)

  00403	0f 28 f1	 movaps	 xmm6, xmm1
  00406	f2 0f 5c f2	 subsd	 xmm6, xmm2
  0040a	66 0f 2e f0	 ucomisd xmm6, xmm0
  0040e	f2 0f 11 75 9c	 movsd	 QWORD PTR tv1339[ebp], xmm6
  00413	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  00418	9f		 lahf
  00419	f6 c4 44	 test	 ah, 68			; 00000044H
  0041c	7b 43		 jnp	 SHORT $LN15@Find_Bull_

; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 

  0041e	f2 0f 59 55 bc	 mulsd	 xmm2, QWORD PTR tv1364[ebp]
  00423	f2 0f 5c ee	 subsd	 xmm5, xmm6
  00427	0f 28 c1	 movaps	 xmm0, xmm1
  0042a	f2 0f 59 45 c4	 mulsd	 xmm0, QWORD PTR tv1370[ebp]
  0042f	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00433	0f 28 e8	 movaps	 xmm5, xmm0
  00436	f2 0f 11 45 cc	 movsd	 QWORD PTR _dXNeckPt1$4[ebp], xmm0
  0043b	f2 0f 5c ea	 subsd	 xmm5, xmm2
  0043f	f2 0f 5e 6d 9c	 divsd	 xmm5, QWORD PTR tv1339[ebp]

; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00444	0f 28 c5	 movaps	 xmm0, xmm5
  00447	f2 0f 11 6d cc	 movsd	 QWORD PTR _dXNeckPt1$4[ebp], xmm5
  0044c	f2 0f 5c 45 c4	 subsd	 xmm0, QWORD PTR tv1370[ebp]
  00451	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00455	f2 0f 58 c6	 addsd	 xmm0, xmm6
  00459	f2 0f 11 45 84	 movsd	 QWORD PTR _dYNeckPt1$1[ebp], xmm0
  0045e	0f 57 c0	 xorps	 xmm0, xmm0
$LN15@Find_Bull_:

; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)

  00461	0f 28 d3	 movaps	 xmm2, xmm3
  00464	f2 0f 5c d4	 subsd	 xmm2, xmm4
  00468	66 0f 2e d0	 ucomisd xmm2, xmm0
  0046c	9f		 lahf
  0046d	f6 c4 44	 test	 ah, 68			; 00000044H
  00470	7b 45		 jnp	 SHORT $LN71@Find_Bull_

; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  00472	f2 0f 10 6f 28	 movsd	 xmm5, QWORD PTR [edi+40]
  00477	0f 28 c3	 movaps	 xmm0, xmm3
  0047a	f2 0f 59 45 d4	 mulsd	 xmm0, QWORD PTR tv1375[ebp]
  0047f	f2 0f 5c ef	 subsd	 xmm5, xmm7
  00483	f2 0f 58 e8	 addsd	 xmm5, xmm0
  00487	0f 57 c0	 xorps	 xmm0, xmm0
  0048a	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  0048f	f2 0f 59 e0	 mulsd	 xmm4, xmm0
  00493	f2 0f 5c ec	 subsd	 xmm5, xmm4
  00497	f2 0f 5e ea	 divsd	 xmm5, xmm2

; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0049b	0f 28 c5	 movaps	 xmm0, xmm5
  0049e	f2 0f 11 6d 94	 movsd	 QWORD PTR _dXNeckPt2$3[ebp], xmm5
  004a3	f2 0f 5c 45 d4	 subsd	 xmm0, QWORD PTR tv1375[ebp]
  004a8	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  004ac	f2 0f 58 c7	 addsd	 xmm0, xmm7
  004b0	f2 0f 11 45 8c	 movsd	 QWORD PTR _dYNeckPt2$2[ebp], xmm0
  004b5	eb 05		 jmp	 SHORT $LN16@Find_Bull_
$LN71@Find_Bull_:

; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)

  004b7	f2 0f 10 6d 94	 movsd	 xmm5, QWORD PTR _dXNeckPt2$3[ebp]
$LN16@Find_Bull_:

; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  004bc	f2 0f 10 55 cc	 movsd	 xmm2, QWORD PTR _dXNeckPt1$4[ebp]

; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,

  004c1	83 ec 70	 sub	 esp, 112		; 00000070H
  004c4	0f 28 c2	 movaps	 xmm0, xmm2
  004c7	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  004ca	f2 0f 5c 45 d4	 subsd	 xmm0, QWORD PTR tv1375[ebp]
  004cf	8b 4d e0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  004d2	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  004d6	f2 0f 58 c7	 addsd	 xmm0, xmm7
  004da	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  004e0	0f 28 c2	 movaps	 xmm0, xmm2
  004e3	f2 0f 5c 45 c4	 subsd	 xmm0, QWORD PTR tv1370[ebp]
  004e8	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  004ec	f2 0f 10 4d bc	 movsd	 xmm1, QWORD PTR tv1364[ebp]
  004f1	f2 0f 58 c6	 addsd	 xmm0, xmm6
  004f5	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  004fb	f2 0f 10 45 8c	 movsd	 xmm0, QWORD PTR _dYNeckPt2$2[ebp]
  00500	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  00506	f2 0f 10 45 84	 movsd	 xmm0, QWORD PTR _dYNeckPt1$1[ebp]
  0050b	f2 0f 11 6c 24
	50		 movsd	 QWORD PTR [esp+80], xmm5
  00511	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  00517	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  0051c	f2 0f 11 54 24
	40		 movsd	 QWORD PTR [esp+64], xmm2
  00522	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  00528	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0052d	66 0f 6e d0	 movd	 xmm2, eax
  00531	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00535	f2 0f 11 54 24
	30		 movsd	 QWORD PTR [esp+48], xmm2
  0053b	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00541	f2 0f 10 45 e4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00546	f2 0f 11 4c 24
	20		 movsd	 QWORD PTR [esp+32], xmm1
  0054c	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00552	f2 0f 10 45 f0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  00557	f2 0f 11 54 24
	10		 movsd	 QWORD PTR [esp+16], xmm2
  0055d	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00563	f2 0f 11 0c 24	 movsd	 QWORD PTR [esp], xmm1
  00568	50		 push	 eax
  00569	ff 75 f8	 push	 DWORD PTR tv1401[ebp]
  0056c	68 b1 0f 00 00	 push	 4017			; 00000fb1H
  00571	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  00574	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  00579	0f 57 c0	 xorps	 xmm0, xmm0
$LN2@Find_Bull_:

; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  0057c	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0057f	46		 inc	 esi
  00580	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  00583	3b 45 dc	 cmp	 eax, DWORD PTR $T5[ebp]
  00586	0f 8e 99 fa ff
	ff		 jle	 $LL4@Find_Bull_
  0058c	5f		 pop	 edi
  0058d	5e		 pop	 esi
$LN3@Find_Bull_:

; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;

  0058e	b8 01 00 00 00	 mov	 eax, 1

; 2103 : }

  00593	8b e5		 mov	 esp, ebp
  00595	5d		 pop	 ebp
  00596	c2 08 00	 ret	 8
$LN19@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00599	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN75@Find_Bull_:
  0059e	cc		 int	 3
?Find_Bull_Rectangle@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bull_Rectangle
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -116					; size = 8
_dYNeckPt2$2 = -108					; size = 8
_dXNeckPt2$3 = -100					; size = 8
_dXCrossPt1$4 = -92					; size = 8
_dYDrawPt2_1$1$ = -84					; size = 8
tv1283 = -84						; size = 8
_dYDrawPt1_1$1$ = -76					; size = 8
tv1278 = -76						; size = 8
tv1274 = -68						; size = 8
tv1363 = -60						; size = 8
tv1263 = -60						; size = 8
_dYPos1$1$ = -52					; size = 8
tv1354 = -44						; size = 8
tv1373 = -36						; size = 8
$T5 = -28						; size = 4
_this$1$ = -24						; size = 4
tv1387 = -20						; size = 4
tv1386 = -16						; size = 4
_pHighLowPtData1$1$ = -16				; size = 4
tv1389 = -12						; size = 4
_pHighLowPtData4$1$ = -12				; size = 4
_pHighLowPtData2$1$ = -8				; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bear_TriangleFlag, COMDAT
; _this$ = ecx

; 1890 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H

; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 e4	 mov	 DWORD PTR $T5[ebp], eax
  00015	0f 88 c6 04 00
	00		 js	 $LN3@Find_Bear_

; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	53		 push	 ebx
  0001c	56		 push	 esi
  0001d	57		 push	 edi
  0001e	be 02 00 00 00	 mov	 esi, 2
  00023	0f 57 db	 xorps	 xmm3, xmm3
  00026	66 66 0f 1f 84
	00 00 00 00 00	 npad	 10
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 b1 04 00
	00		 js	 $LN20@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d a6 04 00
	00		 jge	 $LN20@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 f0	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 76 04 00
	00		 je	 $LN2@Find_Bear_

; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 69 04 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 7c 04 00
	00		 js	 $LN20@Find_Bear_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 74 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 5c b1 fc	 mov	 ebx, DWORD PTR [ecx+esi*4-4]
  0007c	89 5d f8	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], ebx
  0007f	85 db		 test	 ebx, ebx
  00081	0f 84 47 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 5d 04 00
	00		 js	 $LN20@Find_Bear_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 55 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 1c b1	 mov	 ebx, DWORD PTR [ecx+esi*4]
  0009a	85 db		 test	 ebx, ebx
  0009c	0f 84 2c 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 3f 04 00
	00		 js	 $LN20@Find_Bear_
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d 37 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d f4	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 0a 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 1d 04 00
	00		 js	 $LN20@Find_Bear_
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d 15 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000db	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000de	85 ff		 test	 edi, edi
  000e0	0f 84 e8 03 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e6	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e9	85 ff		 test	 edi, edi
  000eb	0f 88 fb 03 00
	00		 js	 $LN20@Find_Bear_
  000f1	3b f8		 cmp	 edi, eax
  000f3	0f 8d f3 03 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f9	8b 4c b1 0c	 mov	 ecx, DWORD PTR [ecx+esi*4+12]
  000fd	85 c9		 test	 ecx, ecx
  000ff	0f 84 c9 03 00
	00		 je	 $LN2@Find_Bear_

; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))

  00105	f2 0f 10 52 20	 movsd	 xmm2, QWORD PTR [edx+32]
  0010a	f2 0f 10 7b 20	 movsd	 xmm7, QWORD PTR [ebx+32]
  0010f	66 0f 2f d7	 comisd	 xmm2, xmm7
  00113	0f 86 b5 03 00
	00		 jbe	 $LN2@Find_Bear_
  00119	8b 7d f4	 mov	 edi, DWORD PTR _pHighLowPtData4$1$[ebp]
  0011c	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  00121	66 0f 2f 49 28	 comisd	 xmm1, QWORD PTR [ecx+40]
  00126	0f 86 a2 03 00
	00		 jbe	 $LN2@Find_Bear_

; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0012c	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]

; 2456 : 	double	dGradient=0;

  0012f	0f 28 e3	 movaps	 xmm4, xmm3
  00132	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]

; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00137	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0013b	89 45 f4	 mov	 DWORD PTR tv1389[ebp], eax
  0013e	66 0f 6e e8	 movd	 xmm5, eax
  00142	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00146	0f 28 c5	 movaps	 xmm0, xmm5

; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00149	f2 0f 11 6d d4	 movsd	 QWORD PTR tv1354[ebp], xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0014e	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00152	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  0015a	66 0f 2e c3	 ucomisd xmm0, xmm3
  0015e	9f		 lahf
  0015f	f6 c4 44	 test	 ah, 68			; 00000044H
  00162	7b 1d		 jnp	 SHORT $LN39@Find_Bear_
  00164	66 0f 2e d3	 ucomisd xmm2, xmm3
  00168	9f		 lahf
  00169	f6 c4 44	 test	 ah, 68			; 00000044H
  0016c	7b 13		 jnp	 SHORT $LN39@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0016e	0f 28 e7	 movaps	 xmm4, xmm7
  00171	f2 0f 5c e2	 subsd	 xmm4, xmm2
  00175	f2 0f 5e e2	 divsd	 xmm4, xmm2
  00179	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0017d	f2 0f 59 e6	 mulsd	 xmm4, xmm6
$LN39@Find_Bear_:

; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00181	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  00184	0f 28 d3	 movaps	 xmm2, xmm3
  00187	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0018c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00190	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00194	66 0f 2e c3	 ucomisd xmm0, xmm3
  00198	f2 0f 11 45 bc	 movsd	 QWORD PTR tv1274[ebp], xmm0
  0019d	9f		 lahf
  0019e	f6 c4 44	 test	 ah, 68			; 00000044H
  001a1	7b 22		 jnp	 SHORT $LN42@Find_Bear_
  001a3	66 0f 2e fb	 ucomisd xmm7, xmm3
  001a7	9f		 lahf
  001a8	f6 c4 44	 test	 ah, 68			; 00000044H
  001ab	7b 18		 jnp	 SHORT $LN42@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001ad	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001b0	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  001b5	f2 0f 5c d7	 subsd	 xmm2, xmm7
  001b9	f2 0f 5e d7	 divsd	 xmm2, xmm7
  001bd	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001c1	f2 0f 59 d6	 mulsd	 xmm2, xmm6
$LN42@Find_Bear_:

; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001c5	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001c8	0f 28 eb	 movaps	 xmm5, xmm3
  001cb	66 0f 6e 77 08	 movd	 xmm6, DWORD PTR [edi+8]

; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001d0	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001d4	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d7	89 55 ec	 mov	 DWORD PTR tv1387[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001da	8b 55 f0	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001dd	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001e2	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001e6	f2 0f 11 75 c4	 movsd	 QWORD PTR tv1363[ebp], xmm6
  001eb	f2 0f 11 45 dc	 movsd	 QWORD PTR tv1373[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001f0	f2 0f 5c 75 dc	 subsd	 xmm6, QWORD PTR tv1373[ebp]

; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001f5	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  001fa	f2 0f 11 45 cc	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ff	66 0f 2e f3	 ucomisd xmm6, xmm3
  00203	f2 0f 11 75 b4	 movsd	 QWORD PTR tv1278[ebp], xmm6
  00208	9f		 lahf
  00209	f6 c4 44	 test	 ah, 68			; 00000044H
  0020c	7b 21		 jnp	 SHORT $LN45@Find_Bear_
  0020e	66 0f 2e c3	 ucomisd xmm0, xmm3
  00212	9f		 lahf
  00213	f6 c4 44	 test	 ah, 68			; 00000044H
  00216	7b 17		 jnp	 SHORT $LN45@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00218	0f 28 e9	 movaps	 xmm5, xmm1
  0021b	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0021f	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00223	f2 0f 5e ee	 divsd	 xmm5, xmm6
  00227	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN45@Find_Bear_:

; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0022f	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]

; 2456 : 	double	dGradient=0;

  00232	0f 28 f3	 movaps	 xmm6, xmm3

; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00235	89 45 f0	 mov	 DWORD PTR tv1386[ebp], eax
  00238	66 0f 6e f8	 movd	 xmm7, eax
  0023c	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  00240	f2 0f 11 7d ac	 movsd	 QWORD PTR tv1283[ebp], xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00245	f2 0f 5c 7d c4	 subsd	 xmm7, QWORD PTR tv1363[ebp]
  0024a	66 0f 2e fb	 ucomisd xmm7, xmm3
  0024e	f2 0f 11 7d c4	 movsd	 QWORD PTR tv1263[ebp], xmm7
  00253	f2 0f 10 7b 20	 movsd	 xmm7, QWORD PTR [ebx+32]
  00258	9f		 lahf
  00259	f6 c4 44	 test	 ah, 68			; 00000044H
  0025c	7b 24		 jnp	 SHORT $LN48@Find_Bear_
  0025e	66 0f 2e cb	 ucomisd xmm1, xmm3
  00262	9f		 lahf
  00263	f6 c4 44	 test	 ah, 68			; 00000044H
  00266	7b 1a		 jnp	 SHORT $LN48@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00268	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  0026d	f2 0f 5c f1	 subsd	 xmm6, xmm1
  00271	f2 0f 5e f1	 divsd	 xmm6, xmm1
  00275	f2 0f 5e 75 c4	 divsd	 xmm6, QWORD PTR tv1263[ebp]
  0027a	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN48@Find_Bear_:

; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )

  00282	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bfd3333333333333
  0028a	66 0f 2f ca	 comisd	 xmm1, xmm2
  0028e	0f 86 3a 02 00
	00		 jbe	 $LN2@Find_Bear_
  00294	66 0f 2f 2d 00
	00 00 00	 comisd	 xmm5, QWORD PTR __real@3fd3333333333333
  0029c	0f 86 2c 02 00
	00		 jbe	 $LN2@Find_Bear_

; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))

  002a2	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  002a5	0f 28 cf	 movaps	 xmm1, xmm7
  002a8	f2 0f 5c c8	 subsd	 xmm1, xmm0
  002ac	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  002b1	f2 0f 5c 40 28	 subsd	 xmm0, QWORD PTR [eax+40]
  002b6	f2 0f 58 c9	 addsd	 xmm1, xmm1
  002ba	66 0f 2f c1	 comisd	 xmm0, xmm1
  002be	0f 86 0a 02 00
	00		 jbe	 $LN2@Find_Bear_

; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  002c4	66 0f 2f d4	 comisd	 xmm2, xmm4
  002c8	0f 86 00 02 00
	00		 jbe	 $LN2@Find_Bear_
  002ce	66 0f 2f ee	 comisd	 xmm5, xmm6
  002d2	0f 86 f6 01 00
	00		 jbe	 $LN2@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002d8	f2 0f 10 45 bc	 movsd	 xmm0, QWORD PTR tv1274[ebp]
  002dd	0f 28 cb	 movaps	 xmm1, xmm3
  002e0	8b 5d fc	 mov	 ebx, DWORD PTR _pHighLowPtData5$1$[ebp]
  002e3	66 0f 2e c3	 ucomisd xmm0, xmm3
  002e7	9f		 lahf
  002e8	f6 c4 44	 test	 ah, 68			; 00000044H
  002eb	7b 0d		 jnp	 SHORT $LN66@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002ed	f2 0f 10 4b 20	 movsd	 xmm1, QWORD PTR [ebx+32]
  002f2	f2 0f 5c cf	 subsd	 xmm1, xmm7
  002f6	f2 0f 5e c8	 divsd	 xmm1, xmm0
$LN66@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002fa	f2 0f 10 55 b4	 movsd	 xmm2, QWORD PTR tv1278[ebp]
  002ff	0f 28 e3	 movaps	 xmm4, xmm3
  00302	66 0f 2e d3	 ucomisd xmm2, xmm3
  00306	9f		 lahf
  00307	f6 c4 44	 test	 ah, 68			; 00000044H
  0030a	7b 17		 jnp	 SHORT $LN68@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0030c	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0030f	f2 0f 10 67 28	 movsd	 xmm4, QWORD PTR [edi+40]
  00314	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  00319	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0031d	f2 0f 5e e2	 divsd	 xmm4, xmm2
  00321	eb 05		 jmp	 SHORT $LN54@Find_Bear_
$LN68@Find_Bear_:

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00323	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dYPos1$1$[ebp]
$LN54@Find_Bear_:
  00328	66 0f 6e 73 08	 movd	 xmm6, DWORD PTR [ebx+8]

; 2444 : 	double dGradient=0;

  0032d	0f 28 d3	 movaps	 xmm2, xmm3

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00330	f2 0f 10 6d ac	 movsd	 xmm5, QWORD PTR tv1283[ebp]
  00335	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  00339	f2 0f 5c ee	 subsd	 xmm5, xmm6
  0033d	66 0f 2e eb	 ucomisd xmm5, xmm3
  00341	9f		 lahf
  00342	f6 c4 44	 test	 ah, 68			; 00000044H
  00345	7b 0e		 jnp	 SHORT $LN67@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00347	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  0034c	f2 0f 5c 53 20	 subsd	 xmm2, QWORD PTR [ebx+32]
  00351	f2 0f 5e d5	 divsd	 xmm2, xmm5
$LN67@Find_Bear_:

; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00355	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00358	8b c1		 mov	 eax, ecx
  0035a	2b 45 f4	 sub	 eax, DWORD PTR tv1389[ebp]

; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)

  0035d	f2 0f 10 75 dc	 movsd	 xmm6, QWORD PTR tv1373[ebp]
  00362	f2 0f 59 f4	 mulsd	 xmm6, xmm4
  00366	66 0f 6e e8	 movd	 xmm5, eax
  0036a	8b c1		 mov	 eax, ecx
  0036c	2b 45 ec	 sub	 eax, DWORD PTR tv1387[ebp]
  0036f	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  00373	f2 0f 11 75 dc	 movsd	 QWORD PTR tv1373[ebp], xmm6
  00378	f2 0f 59 e9	 mulsd	 xmm5, xmm1
  0037c	f2 0f 58 ef	 addsd	 xmm5, xmm7
  00380	f2 0f 11 6d b4	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm5
  00385	66 0f 6e e8	 movd	 xmm5, eax
  00389	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0038d	f2 0f 59 ec	 mulsd	 xmm5, xmm4
  00391	f2 0f 58 e8	 addsd	 xmm5, xmm0
  00395	f2 0f 11 6d ac	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm5
  0039a	0f 28 e9	 movaps	 xmm5, xmm1
  0039d	f2 0f 5c ec	 subsd	 xmm5, xmm4
  003a1	66 0f 2e eb	 ucomisd xmm5, xmm3
  003a5	9f		 lahf
  003a6	f6 c4 44	 test	 ah, 68			; 00000044H
  003a9	7b 3a		 jnp	 SHORT $LN70@Find_Bear_

; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 

  003ab	f2 0f 5c c7	 subsd	 xmm0, xmm7
  003af	0f 28 f1	 movaps	 xmm6, xmm1
  003b2	f2 0f 59 75 d4	 mulsd	 xmm6, QWORD PTR tv1354[ebp]
  003b7	f2 0f 58 f0	 addsd	 xmm6, xmm0
  003bb	f2 0f 5c 75 dc	 subsd	 xmm6, QWORD PTR tv1373[ebp]
  003c0	f2 0f 5e f5	 divsd	 xmm6, xmm5

; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003c4	0f 28 c6	 movaps	 xmm0, xmm6
  003c7	f2 0f 11 75 a4	 movsd	 QWORD PTR _dXCrossPt1$4[ebp], xmm6
  003cc	f2 0f 5c 45 d4	 subsd	 xmm0, QWORD PTR tv1354[ebp]
  003d1	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003d5	f2 0f 58 c7	 addsd	 xmm0, xmm7
  003d9	f2 0f 11 45 8c	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm0
  003de	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dYPos1$1$[ebp]
  003e3	eb 05		 jmp	 SHORT $LN64@Find_Bear_
$LN70@Find_Bear_:

; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)

  003e5	f2 0f 10 75 a4	 movsd	 xmm6, QWORD PTR _dXCrossPt1$4[ebp]
$LN64@Find_Bear_:

; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)

  003ea	0f 28 ea	 movaps	 xmm5, xmm2
  003ed	f2 0f 5c ec	 subsd	 xmm5, xmm4
  003f1	66 0f 2e eb	 ucomisd xmm5, xmm3
  003f5	9f		 lahf
  003f6	f6 c4 44	 test	 ah, 68			; 00000044H
  003f9	7b 40		 jnp	 SHORT $LN69@Find_Bear_

; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  003fb	0f 57 e4	 xorps	 xmm4, xmm4
  003fe	0f 28 d8	 movaps	 xmm3, xmm0
  00401	f2 0f 2a 63 08	 cvtsi2sd xmm4, DWORD PTR [ebx+8]
  00406	f2 0f 5c 5b 20	 subsd	 xmm3, QWORD PTR [ebx+32]
  0040b	0f 28 c4	 movaps	 xmm0, xmm4
  0040e	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00412	f2 0f 58 d8	 addsd	 xmm3, xmm0
  00416	f2 0f 5c 5d dc	 subsd	 xmm3, QWORD PTR tv1373[ebp]
  0041b	f2 0f 5e dd	 divsd	 xmm3, xmm5

; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  0041f	0f 28 c3	 movaps	 xmm0, xmm3
  00422	f2 0f 11 5d 9c	 movsd	 QWORD PTR _dXNeckPt2$3[ebp], xmm3
  00427	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0042b	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  0042f	f2 0f 58 43 20	 addsd	 xmm0, QWORD PTR [ebx+32]
  00434	f2 0f 11 45 94	 movsd	 QWORD PTR _dYNeckPt2$2[ebp], xmm0
  00439	eb 05		 jmp	 SHORT $LN17@Find_Bear_
$LN69@Find_Bear_:

; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)

  0043b	f2 0f 10 5d 9c	 movsd	 xmm3, QWORD PTR _dXNeckPt2$3[ebp]
$LN17@Find_Bear_:

; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,

  00440	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00445	83 ec 70	 sub	 esp, 112		; 00000070H
  00448	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  0044d	f2 0f 10 55 94	 movsd	 xmm2, QWORD PTR _dYNeckPt2$2[ebp]
  00452	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00458	f2 0f 11 4c 24
	60		 movsd	 QWORD PTR [esp+96], xmm1
  0045e	f2 0f 11 54 24
	58		 movsd	 QWORD PTR [esp+88], xmm2
  00464	f2 0f 11 5c 24
	50		 movsd	 QWORD PTR [esp+80], xmm3
  0046a	f2 0f 11 4c 24
	48		 movsd	 QWORD PTR [esp+72], xmm1
  00470	f2 0f 10 4d 8c	 movsd	 xmm1, QWORD PTR _dYCrossPt1$1[ebp]
  00475	66 0f 6e d1	 movd	 xmm2, ecx
  00479	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0047d	f2 0f 11 54 24
	40		 movsd	 QWORD PTR [esp+64], xmm2
  00483	f2 0f 11 4c 24
	38		 movsd	 QWORD PTR [esp+56], xmm1
  00489	f2 0f 11 74 24
	30		 movsd	 QWORD PTR [esp+48], xmm6
  0048f	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00495	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  0049a	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  004a0	f2 0f 11 4c 24
	18		 movsd	 QWORD PTR [esp+24], xmm1
  004a6	f2 0f 11 74 24
	10		 movsd	 QWORD PTR [esp+16], xmm6
  004ac	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  004b2	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  004b7	ff 75 f0	 push	 DWORD PTR tv1386[ebp]
  004ba	51		 push	 ecx
  004bb	8b 4d e8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  004be	68 b0 0f 00 00	 push	 4016			; 00000fb0H
  004c3	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  004c6	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  004cb	0f 57 db	 xorps	 xmm3, xmm3
$LN2@Find_Bear_:

; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  004ce	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  004d1	46		 inc	 esi
  004d2	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  004d5	3b 45 e4	 cmp	 eax, DWORD PTR $T5[ebp]
  004d8	0f 8e 52 fb ff
	ff		 jle	 $LL4@Find_Bear_
  004de	5f		 pop	 edi
  004df	5e		 pop	 esi
  004e0	5b		 pop	 ebx
$LN3@Find_Bear_:

; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;

  004e1	b8 01 00 00 00	 mov	 eax, 1

; 1994 : }

  004e6	8b e5		 mov	 esp, ebp
  004e8	5d		 pop	 ebp
  004e9	c2 08 00	 ret	 8
$LN20@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  004ec	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN74@Find_Bear_:
  004f1	cc		 int	 3
?Find_Bear_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bear_TriangleFlag
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -120					; size = 8
_dYNeckPt2$2 = -112					; size = 8
_dXNeckPt2$3 = -104					; size = 8
_dXCrossPt1$4 = -96					; size = 8
tv1367 = -88						; size = 8
_dYDrawPt1_1$1$ = -80					; size = 8
_dYPos1$1$ = -80					; size = 8
_dYDrawPt2_1$1$ = -72					; size = 8
tv1322 = -72						; size = 8
tv1318 = -64						; size = 8
tv1375 = -56						; size = 8
tv1307 = -56						; size = 8
tv1343 = -48						; size = 8
_dYPos1$1$ = -40					; size = 8
tv1326 = -40						; size = 8
tv1373 = -32						; size = 8
$T5 = -24						; size = 4
_this$1$ = -20						; size = 4
_pHighLowPtData1$1$ = -16				; size = 4
tv1397 = -12						; size = 4
_pHighLowPtData2$1$ = -12				; size = 4
tv1399 = -8						; size = 4
_pHighLowPtData4$1$ = -8				; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bull_TriangleFlag, COMDAT
; _this$ = ecx

; 1778 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 78	 sub	 esp, 120		; 00000078H

; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d ec	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 e8	 mov	 DWORD PTR $T5[ebp], eax
  00015	0f 88 c1 04 00
	00		 js	 $LN3@Find_Bull_

; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00023	0f 57 db	 xorps	 xmm3, xmm3
  00026	53		 push	 ebx
  00027	56		 push	 esi
  00028	57		 push	 edi
  00029	be 02 00 00 00	 mov	 esi, 2
  0002e	66 90		 npad	 2
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 ac 04 00
	00		 js	 $LN20@Find_Bull_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d a1 04 00
	00		 jge	 $LN20@Find_Bull_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 f0	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 71 04 00
	00		 je	 $LN2@Find_Bull_

; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00058	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005f	0f 85 64 04 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 77 04 00
	00		 js	 $LN20@Find_Bull_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 6f 04 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 5c b1 fc	 mov	 ebx, DWORD PTR [ecx+esi*4-4]
  0007c	89 5d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], ebx
  0007f	85 db		 test	 ebx, ebx
  00081	0f 84 42 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 58 04 00
	00		 js	 $LN20@Find_Bull_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 50 04 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 1c b1	 mov	 ebx, DWORD PTR [ecx+esi*4]
  0009a	85 db		 test	 ebx, ebx
  0009c	0f 84 27 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 3a 04 00
	00		 js	 $LN20@Find_Bull_
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d 32 04 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d f8	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 05 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 18 04 00
	00		 js	 $LN20@Find_Bull_
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d 10 04 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000db	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000de	85 ff		 test	 edi, edi
  000e0	0f 84 e3 03 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e6	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e9	85 ff		 test	 edi, edi
  000eb	0f 88 f6 03 00
	00		 js	 $LN20@Find_Bull_
  000f1	3b f8		 cmp	 edi, eax
  000f3	0f 8d ee 03 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f9	8b 4c b1 0c	 mov	 ecx, DWORD PTR [ecx+esi*4+12]
  000fd	85 c9		 test	 ecx, ecx
  000ff	0f 84 c4 03 00
	00		 je	 $LN2@Find_Bull_

; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))

  00105	f2 0f 10 43 28	 movsd	 xmm0, QWORD PTR [ebx+40]
  0010a	f2 0f 10 52 28	 movsd	 xmm2, QWORD PTR [edx+40]
  0010f	66 0f 2f c2	 comisd	 xmm0, xmm2
  00113	f2 0f 11 45 b0	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0
  00118	0f 86 ab 03 00
	00		 jbe	 $LN2@Find_Bull_
  0011e	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData4$1$[ebp]
  00121	f2 0f 10 61 20	 movsd	 xmm4, QWORD PTR [ecx+32]
  00126	f2 0f 10 4f 20	 movsd	 xmm1, QWORD PTR [edi+32]
  0012b	66 0f 2f e1	 comisd	 xmm4, xmm1
  0012f	f2 0f 11 4d d8	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm1
  00134	0f 86 8f 03 00
	00		 jbe	 $LN2@Find_Bull_

; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  0013a	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]

; 2456 : 	double	dGradient=0;

  0013d	0f 28 e3	 movaps	 xmm4, xmm3
  00140	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]

; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00145	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  00149	89 45 f8	 mov	 DWORD PTR tv1399[ebp], eax
  0014c	66 0f 6e e8	 movd	 xmm5, eax
  00150	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00154	0f 28 cd	 movaps	 xmm1, xmm5

; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00157	f2 0f 11 6d a8	 movsd	 QWORD PTR tv1367[ebp], xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0015c	f2 0f 5c ce	 subsd	 xmm1, xmm6
  00160	66 0f 2e cb	 ucomisd xmm1, xmm3
  00164	9f		 lahf
  00165	f6 c4 44	 test	 ah, 68			; 00000044H
  00168	7b 1d		 jnp	 SHORT $LN39@Find_Bull_
  0016a	66 0f 2e d3	 ucomisd xmm2, xmm3
  0016e	9f		 lahf
  0016f	f6 c4 44	 test	 ah, 68			; 00000044H
  00172	7b 13		 jnp	 SHORT $LN39@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00174	0f 28 e0	 movaps	 xmm4, xmm0
  00177	f2 0f 5c e2	 subsd	 xmm4, xmm2
  0017b	f2 0f 5e e2	 divsd	 xmm4, xmm2
  0017f	f2 0f 5e e1	 divsd	 xmm4, xmm1
  00183	f2 0f 59 e7	 mulsd	 xmm4, xmm7
$LN39@Find_Bull_:

; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00187	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0018a	0f 28 d3	 movaps	 xmm2, xmm3
  0018d	66 0f 6e 48 08	 movd	 xmm1, DWORD PTR [eax+8]

; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00192	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00196	f2 0f 11 4d d0	 movsd	 QWORD PTR tv1343[ebp], xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0019b	f2 0f 5c cd	 subsd	 xmm1, xmm5
  0019f	66 0f 2e cb	 ucomisd xmm1, xmm3
  001a3	f2 0f 11 4d b8	 movsd	 QWORD PTR tv1322[ebp], xmm1
  001a8	9f		 lahf
  001a9	f6 c4 44	 test	 ah, 68			; 00000044H
  001ac	7b 22		 jnp	 SHORT $LN42@Find_Bull_
  001ae	66 0f 2e c3	 ucomisd xmm0, xmm3
  001b2	9f		 lahf
  001b3	f6 c4 44	 test	 ah, 68			; 00000044H
  001b6	7b 18		 jnp	 SHORT $LN42@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001b8	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001bb	f2 0f 10 50 28	 movsd	 xmm2, QWORD PTR [eax+40]
  001c0	f2 0f 5c d0	 subsd	 xmm2, xmm0
  001c4	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001c8	f2 0f 5e d1	 divsd	 xmm2, xmm1
  001cc	f2 0f 59 d7	 mulsd	 xmm2, xmm7
$LN42@Find_Bull_:

; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001d0	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001d3	0f 28 eb	 movaps	 xmm5, xmm3
  001d6	66 0f 6e 48 08	 movd	 xmm1, DWORD PTR [eax+8]

; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001db	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  001df	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001e2	89 55 f4	 mov	 DWORD PTR tv1397[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001e5	8b 55 f0	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]

; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001e8	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  001ed	f2 0f 11 4d e0	 movsd	 QWORD PTR tv1373[ebp], xmm1
  001f2	66 0f 6e 4f 08	 movd	 xmm1, DWORD PTR [edi+8]
  001f7	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001fb	0f 28 f9	 movaps	 xmm7, xmm1

; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001fe	f2 0f 11 4d c8	 movsd	 QWORD PTR tv1375[ebp], xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00203	f2 0f 5c 7d e0	 subsd	 xmm7, QWORD PTR tv1373[ebp]
  00208	66 0f 2e fb	 ucomisd xmm7, xmm3
  0020c	f2 0f 11 7d c0	 movsd	 QWORD PTR tv1318[ebp], xmm7
  00211	9f		 lahf
  00212	f6 c4 44	 test	 ah, 68			; 00000044H
  00215	7b 28		 jnp	 SHORT $LN69@Find_Bull_
  00217	66 0f 2e f3	 ucomisd xmm6, xmm3
  0021b	9f		 lahf
  0021c	f6 c4 44	 test	 ah, 68			; 00000044H
  0021f	7b 1e		 jnp	 SHORT $LN69@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00221	f2 0f 10 4f 20	 movsd	 xmm1, QWORD PTR [edi+32]
  00226	0f 28 e9	 movaps	 xmm5, xmm1
  00229	f2 0f 5c ee	 subsd	 xmm5, xmm6
  0022d	f2 0f 5e ee	 divsd	 xmm5, xmm6
  00231	f2 0f 5e ef	 divsd	 xmm5, xmm7
  00235	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
  0023d	eb 05		 jmp	 SHORT $LN45@Find_Bull_
$LN69@Find_Bull_:

; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0023f	f2 0f 10 4d d8	 movsd	 xmm1, QWORD PTR _dYPos1$1$[ebp]
$LN45@Find_Bull_:
  00244	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]

; 2456 : 	double	dGradient=0;

  00249	0f 28 fb	 movaps	 xmm7, xmm3

; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0024c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00250	f2 0f 11 45 d8	 movsd	 QWORD PTR tv1326[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00255	f2 0f 5c 45 c8	 subsd	 xmm0, QWORD PTR tv1375[ebp]
  0025a	66 0f 2e c3	 ucomisd xmm0, xmm3
  0025e	f2 0f 11 45 c8	 movsd	 QWORD PTR tv1307[ebp], xmm0
  00263	f2 0f 10 43 28	 movsd	 xmm0, QWORD PTR [ebx+40]
  00268	9f		 lahf
  00269	f6 c4 44	 test	 ah, 68			; 00000044H
  0026c	7b 24		 jnp	 SHORT $LN48@Find_Bull_
  0026e	66 0f 2e cb	 ucomisd xmm1, xmm3
  00272	9f		 lahf
  00273	f6 c4 44	 test	 ah, 68			; 00000044H
  00276	7b 1a		 jnp	 SHORT $LN48@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00278	f2 0f 10 79 20	 movsd	 xmm7, QWORD PTR [ecx+32]
  0027d	f2 0f 5c f9	 subsd	 xmm7, xmm1
  00281	f2 0f 5e f9	 divsd	 xmm7, xmm1
  00285	f2 0f 5e 7d c8	 divsd	 xmm7, QWORD PTR tv1307[ebp]
  0028a	f2 0f 59 3d 00
	00 00 00	 mulsd	 xmm7, QWORD PTR __real@4059000000000000
$LN48@Find_Bull_:

; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )

  00292	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bfd3333333333333
  0029a	66 0f 2f cd	 comisd	 xmm1, xmm5
  0029e	0f 86 1d 02 00
	00		 jbe	 $LN76@Find_Bull_
  002a4	66 0f 2f 15 00
	00 00 00	 comisd	 xmm2, QWORD PTR __real@3fd3333333333333
  002ac	0f 86 0f 02 00
	00		 jbe	 $LN76@Find_Bull_

; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))

  002b2	0f 28 ce	 movaps	 xmm1, xmm6
  002b5	f2 0f 5c c8	 subsd	 xmm1, xmm0
  002b9	0f 28 c6	 movaps	 xmm0, xmm6
  002bc	f2 0f 5c 42 28	 subsd	 xmm0, QWORD PTR [edx+40]
  002c1	f2 0f 58 c9	 addsd	 xmm1, xmm1
  002c5	66 0f 2f c1	 comisd	 xmm0, xmm1
  002c9	0f 86 f2 01 00
	00		 jbe	 $LN76@Find_Bull_

; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002cf	66 0f 2f e2	 comisd	 xmm4, xmm2
  002d3	0f 86 e8 01 00
	00		 jbe	 $LN76@Find_Bull_
  002d9	66 0f 2f fd	 comisd	 xmm7, xmm5
  002dd	0f 86 de 01 00
	00		 jbe	 $LN76@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002e3	f2 0f 10 55 c0	 movsd	 xmm2, QWORD PTR tv1318[ebp]
  002e8	0f 28 c3	 movaps	 xmm0, xmm3
  002eb	66 0f 2e d3	 ucomisd xmm2, xmm3
  002ef	9f		 lahf
  002f0	f6 c4 44	 test	 ah, 68			; 00000044H
  002f3	7b 0d		 jnp	 SHORT $LN51@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002f5	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  002fa	f2 0f 5c c6	 subsd	 xmm0, xmm6
  002fe	f2 0f 5e c2	 divsd	 xmm0, xmm2
$LN51@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00302	f2 0f 10 55 b8	 movsd	 xmm2, QWORD PTR tv1322[ebp]
  00307	0f 28 cb	 movaps	 xmm1, xmm3
  0030a	8b 7d fc	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]
  0030d	66 0f 2e d3	 ucomisd xmm2, xmm3
  00311	9f		 lahf
  00312	f6 c4 44	 test	 ah, 68			; 00000044H
  00315	7b 14		 jnp	 SHORT $LN67@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00317	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  0031c	f2 0f 10 63 28	 movsd	 xmm4, QWORD PTR [ebx+40]
  00321	f2 0f 5c cc	 subsd	 xmm1, xmm4
  00325	f2 0f 5e ca	 divsd	 xmm1, xmm2
  00329	eb 05		 jmp	 SHORT $LN62@Find_Bull_
$LN67@Find_Bull_:

; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0032b	f2 0f 10 65 b0	 movsd	 xmm4, QWORD PTR _dYPos1$1$[ebp]
$LN62@Find_Bull_:
  00330	f2 0f 10 6d d8	 movsd	 xmm5, QWORD PTR tv1326[ebp]
  00335	0f 28 d3	 movaps	 xmm2, xmm3
  00338	f2 0f 5c 6d d0	 subsd	 xmm5, QWORD PTR tv1343[ebp]
  0033d	66 0f 2e eb	 ucomisd xmm5, xmm3
  00341	9f		 lahf
  00342	f6 c4 44	 test	 ah, 68			; 00000044H
  00345	7b 0e		 jnp	 SHORT $LN66@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00347	f2 0f 10 51 20	 movsd	 xmm2, QWORD PTR [ecx+32]
  0034c	f2 0f 5c 57 28	 subsd	 xmm2, QWORD PTR [edi+40]
  00351	f2 0f 5e d5	 divsd	 xmm2, xmm5
$LN66@Find_Bull_:

; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00355	8b 5a 08	 mov	 ebx, DWORD PTR [edx+8]

; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)

  00358	0f 28 f8	 movaps	 xmm7, xmm0
  0035b	8b c3		 mov	 eax, ebx
  0035d	f2 0f 5c f9	 subsd	 xmm7, xmm1
  00361	2b 45 f4	 sub	 eax, DWORD PTR tv1397[ebp]
  00364	66 0f 6e e8	 movd	 xmm5, eax
  00368	8b c3		 mov	 eax, ebx
  0036a	2b 45 f8	 sub	 eax, DWORD PTR tv1399[ebp]
  0036d	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  00371	66 0f 2e fb	 ucomisd xmm7, xmm3
  00375	f2 0f 59 e8	 mulsd	 xmm5, xmm0
  00379	f2 0f 58 ee	 addsd	 xmm5, xmm6
  0037d	f2 0f 11 6d b0	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm5
  00382	66 0f 6e e8	 movd	 xmm5, eax
  00386	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0038a	9f		 lahf
  0038b	f2 0f 59 e9	 mulsd	 xmm5, xmm1
  0038f	f2 0f 58 ec	 addsd	 xmm5, xmm4
  00393	f2 0f 11 6d b8	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm5
  00398	0f 28 e8	 movaps	 xmm5, xmm0
  0039b	f2 0f 59 6d e0	 mulsd	 xmm5, QWORD PTR tv1373[ebp]
  003a0	f6 c4 44	 test	 ah, 68			; 00000044H
  003a3	7b 35		 jnp	 SHORT $LN71@Find_Bull_

; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 

  003a5	f2 0f 59 4d a8	 mulsd	 xmm1, QWORD PTR tv1367[ebp]
  003aa	f2 0f 5c e6	 subsd	 xmm4, xmm6
  003ae	f2 0f 58 e5	 addsd	 xmm4, xmm5
  003b2	f2 0f 5c e1	 subsd	 xmm4, xmm1
  003b6	f2 0f 5e e7	 divsd	 xmm4, xmm7

; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  003ba	f2 0f 10 7d e0	 movsd	 xmm7, QWORD PTR tv1373[ebp]
  003bf	0f 28 cc	 movaps	 xmm1, xmm4
  003c2	f2 0f 11 65 a0	 movsd	 QWORD PTR _dXCrossPt1$4[ebp], xmm4
  003c7	f2 0f 5c cf	 subsd	 xmm1, xmm7
  003cb	f2 0f 59 c8	 mulsd	 xmm1, xmm0
  003cf	f2 0f 58 ce	 addsd	 xmm1, xmm6
  003d3	f2 0f 11 4d 88	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm1
  003d8	eb 0a		 jmp	 SHORT $LN64@Find_Bull_
$LN71@Find_Bull_:

; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)

  003da	f2 0f 10 65 a0	 movsd	 xmm4, QWORD PTR _dXCrossPt1$4[ebp]
  003df	f2 0f 10 7d e0	 movsd	 xmm7, QWORD PTR tv1373[ebp]
$LN64@Find_Bull_:

; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)

  003e4	0f 28 c8	 movaps	 xmm1, xmm0
  003e7	f2 0f 5c ca	 subsd	 xmm1, xmm2
  003eb	66 0f 2e cb	 ucomisd xmm1, xmm3
  003ef	9f		 lahf
  003f0	f6 c4 44	 test	 ah, 68			; 00000044H
  003f3	7b 39		 jnp	 SHORT $LN70@Find_Bull_

; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  003f5	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  003fa	f2 0f 5c de	 subsd	 xmm3, xmm6
  003fe	f2 0f 58 dd	 addsd	 xmm3, xmm5
  00402	f2 0f 10 6d d0	 movsd	 xmm5, QWORD PTR tv1343[ebp]
  00407	f2 0f 59 ea	 mulsd	 xmm5, xmm2
  0040b	f2 0f 5c dd	 subsd	 xmm3, xmm5
  0040f	f2 0f 5e d9	 divsd	 xmm3, xmm1

; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00413	0f 28 cb	 movaps	 xmm1, xmm3
  00416	f2 0f 11 5d 98	 movsd	 QWORD PTR _dXNeckPt2$3[ebp], xmm3
  0041b	f2 0f 5c cf	 subsd	 xmm1, xmm7
  0041f	f2 0f 59 c8	 mulsd	 xmm1, xmm0
  00423	f2 0f 58 ce	 addsd	 xmm1, xmm6
  00427	f2 0f 11 4d 90	 movsd	 QWORD PTR _dYNeckPt2$2[ebp], xmm1
  0042c	eb 05		 jmp	 SHORT $LN17@Find_Bull_
$LN70@Find_Bull_:

; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)

  0042e	f2 0f 10 5d 98	 movsd	 xmm3, QWORD PTR _dXNeckPt2$3[ebp]
$LN17@Find_Bull_:

; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,

  00433	f2 0f 10 45 b0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  00438	83 ec 70	 sub	 esp, 112		; 00000070H
  0043b	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  00440	f2 0f 10 55 90	 movsd	 xmm2, QWORD PTR _dYNeckPt2$2[ebp]
  00445	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0044b	f2 0f 11 4c 24
	60		 movsd	 QWORD PTR [esp+96], xmm1
  00451	f2 0f 11 54 24
	58		 movsd	 QWORD PTR [esp+88], xmm2
  00457	f2 0f 10 55 88	 movsd	 xmm2, QWORD PTR _dYCrossPt1$1[ebp]
  0045c	f2 0f 11 5c 24
	50		 movsd	 QWORD PTR [esp+80], xmm3
  00462	f2 0f 11 4c 24
	48		 movsd	 QWORD PTR [esp+72], xmm1
  00468	f2 0f 10 4d b8	 movsd	 xmm1, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0046d	66 0f 6e db	 movd	 xmm3, ebx
  00471	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  00475	f2 0f 11 5c 24
	40		 movsd	 QWORD PTR [esp+64], xmm3
  0047b	f2 0f 11 54 24
	38		 movsd	 QWORD PTR [esp+56], xmm2
  00481	f2 0f 11 64 24
	30		 movsd	 QWORD PTR [esp+48], xmm4
  00487	f2 0f 11 4c 24
	28		 movsd	 QWORD PTR [esp+40], xmm1
  0048d	f2 0f 11 5c 24
	20		 movsd	 QWORD PTR [esp+32], xmm3
  00493	f2 0f 11 54 24
	18		 movsd	 QWORD PTR [esp+24], xmm2
  00499	f2 0f 11 64 24
	10		 movsd	 QWORD PTR [esp+16], xmm4
  0049f	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  004a5	f2 0f 11 1c 24	 movsd	 QWORD PTR [esp], xmm3
  004aa	ff 71 08	 push	 DWORD PTR [ecx+8]
  004ad	8b 4d ec	 mov	 ecx, DWORD PTR _this$1$[ebp]
  004b0	53		 push	 ebx
  004b1	68 af 0f 00 00	 push	 4015			; 00000fafH
  004b6	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  004b9	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  004be	0f 57 db	 xorps	 xmm3, xmm3
$LN76@Find_Bull_:

; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  004c1	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
$LN2@Find_Bull_:
  004c9	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  004cc	46		 inc	 esi
  004cd	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  004d0	3b 45 e8	 cmp	 eax, DWORD PTR $T5[ebp]
  004d3	0f 8e 57 fb ff
	ff		 jle	 $LL4@Find_Bull_
  004d9	5f		 pop	 edi
  004da	5e		 pop	 esi
  004db	5b		 pop	 ebx
$LN3@Find_Bull_:

; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;

  004dc	b8 01 00 00 00	 mov	 eax, 1

; 1883 : }

  004e1	8b e5		 mov	 esp, ebp
  004e3	5d		 pop	 ebp
  004e4	c2 08 00	 ret	 8
$LN20@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  004e7	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN77@Find_Bull_:
  004ec	cc		 int	 3
?Find_Bull_TriangleFlag@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bull_TriangleFlag
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt2$1 = -92					; size = 8
_dXNeckPt2$2 = -84					; size = 8
_dYNeckPt1$1$ = -76					; size = 8
_dYDrawPt1_1$1$ = -76					; size = 8
_dYDrawPt2_2$1$ = -68					; size = 8
tv1250 = -68						; size = 8
_dYDrawPt1_2$1$ = -60					; size = 8
tv1247 = -60						; size = 8
tv1300 = -52						; size = 8
tv1287 = -44						; size = 8
_dXNeckPt1$1$ = -36					; size = 8
$T3 = -28						; size = 4
_this$1$ = -24						; size = 4
tv1318 = -20						; size = 4
_pHighLowPtData1$1$ = -20				; size = 4
tv1319 = -16						; size = 4
_pHighLowPtData5$1$ = -16				; size = 4
tv1321 = -12						; size = 4
_pHighLowPtData2$1$ = -8				; size = 4
_pHighLowPtData6$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bear_SquareFlag, COMDAT
; _this$ = ecx

; 1673 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH

; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 e4	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 b7 04 00
	00		 js	 $LN3@Find_Bear_

; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00023	0f 57 d2	 xorps	 xmm2, xmm2
  00026	56		 push	 esi
  00027	57		 push	 edi
  00028	be 02 00 00 00	 mov	 esi, 2
  0002d	0f 1f 00	 npad	 3
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 a2 04 00
	00		 js	 $LN19@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 97 04 00
	00		 jge	 $LN19@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 ec	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 68 04 00
	00		 je	 $LN2@Find_Bear_

; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 5b 04 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 6d 04 00
	00		 js	 $LN19@Find_Bear_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 65 04 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d f8	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 39 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 4e 04 00
	00		 js	 $LN19@Find_Bear_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 46 04 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  0009b	0f 84 1f 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a1	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a4	85 ff		 test	 edi, edi
  000a6	0f 88 31 04 00
	00		 js	 $LN19@Find_Bear_
  000ac	3b f8		 cmp	 edi, eax
  000ae	0f 8d 29 04 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b4	83 7c b1 04 00	 cmp	 DWORD PTR [ecx+esi*4+4], 0
  000b9	0f 84 01 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000bf	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c2	85 ff		 test	 edi, edi
  000c4	0f 88 13 04 00
	00		 js	 $LN19@Find_Bear_
  000ca	3b f8		 cmp	 edi, eax
  000cc	0f 8d 0b 04 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d2	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000d6	89 7d f0	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000d9	85 ff		 test	 edi, edi
  000db	0f 84 df 03 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e1	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e4	85 ff		 test	 edi, edi
  000e6	0f 88 f1 03 00
	00		 js	 $LN19@Find_Bear_
  000ec	3b f8		 cmp	 edi, eax
  000ee	0f 8d e9 03 00
	00		 jge	 $LN19@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f4	8b 44 b1 0c	 mov	 eax, DWORD PTR [ecx+esi*4+12]
  000f8	89 45 fc	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], eax
  000fb	85 c0		 test	 eax, eax
  000fd	0f 84 bd 03 00
	00		 je	 $LN2@Find_Bear_

; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))

  00103	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  00106	f2 0f 10 5a 20	 movsd	 xmm3, QWORD PTR [edx+32]
  0010b	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  00110	66 0f 2f df	 comisd	 xmm3, xmm7
  00114	0f 86 a6 03 00
	00		 jbe	 $LN2@Find_Bear_
  0011a	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  0011e	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData6$1$[ebp]
  00121	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  00126	66 0f 2f 49 28	 comisd	 xmm1, QWORD PTR [ecx+40]
  0012b	0f 86 8f 03 00
	00		 jbe	 $LN2@Find_Bear_

; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00131	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  00134	0f 28 ea	 movaps	 xmm5, xmm2
  00137	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]

; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0013c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00140	89 45 f4	 mov	 DWORD PTR tv1321[ebp], eax
  00143	66 0f 6e e0	 movd	 xmm4, eax
  00147	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  0014b	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1287[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00150	0f 28 c4	 movaps	 xmm0, xmm4
  00153	f2 0f 5c 45 d4	 subsd	 xmm0, QWORD PTR tv1287[ebp]
  00158	66 0f 2e c2	 ucomisd xmm0, xmm2
  0015c	9f		 lahf
  0015d	f6 c4 44	 test	 ah, 68			; 00000044H
  00160	7b 1d		 jnp	 SHORT $LN38@Find_Bear_
  00162	66 0f 2e da	 ucomisd xmm3, xmm2
  00166	9f		 lahf
  00167	f6 c4 44	 test	 ah, 68			; 00000044H
  0016a	7b 13		 jnp	 SHORT $LN38@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0016c	0f 28 ef	 movaps	 xmm5, xmm7
  0016f	f2 0f 5c eb	 subsd	 xmm5, xmm3
  00173	f2 0f 5e eb	 divsd	 xmm5, xmm3
  00177	f2 0f 5e e8	 divsd	 xmm5, xmm0
  0017b	f2 0f 59 ee	 mulsd	 xmm5, xmm6
$LN38@Find_Bear_:

; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0017f	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  00182	0f 28 da	 movaps	 xmm3, xmm2
  00185	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]

; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0018a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0018e	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00192	66 0f 2e c2	 ucomisd xmm0, xmm2
  00196	f2 0f 11 45 c4	 movsd	 QWORD PTR tv1247[ebp], xmm0
  0019b	9f		 lahf
  0019c	f6 c4 44	 test	 ah, 68			; 00000044H
  0019f	7b 1f		 jnp	 SHORT $LN41@Find_Bear_
  001a1	66 0f 2e fa	 ucomisd xmm7, xmm2
  001a5	9f		 lahf
  001a6	f6 c4 44	 test	 ah, 68			; 00000044H
  001a9	7b 15		 jnp	 SHORT $LN41@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001ab	f2 0f 10 59 20	 movsd	 xmm3, QWORD PTR [ecx+32]
  001b0	f2 0f 5c df	 subsd	 xmm3, xmm7
  001b4	f2 0f 5e df	 divsd	 xmm3, xmm7
  001b8	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001bc	f2 0f 59 de	 mulsd	 xmm3, xmm6
$LN41@Find_Bear_:

; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001c0	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001c3	0f 28 e2	 movaps	 xmm4, xmm2
  001c6	66 0f 6e 77 08	 movd	 xmm6, DWORD PTR [edi+8]

; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001cb	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001cf	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d2	89 55 f0	 mov	 DWORD PTR tv1319[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001d5	8b 55 ec	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001d8	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001dd	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001e1	f2 0f 11 75 cc	 movsd	 QWORD PTR tv1300[ebp], xmm6
  001e6	f2 0f 11 45 dc	 movsd	 QWORD PTR _dXNeckPt1$1$[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001eb	f2 0f 5c 75 dc	 subsd	 xmm6, QWORD PTR _dXNeckPt1$1$[ebp]

; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001f0	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  001f5	f2 0f 11 45 b4	 movsd	 QWORD PTR _dYNeckPt1$1$[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001fa	66 0f 2e f2	 ucomisd xmm6, xmm2
  001fe	f2 0f 11 75 bc	 movsd	 QWORD PTR tv1250[ebp], xmm6
  00203	9f		 lahf
  00204	f6 c4 44	 test	 ah, 68			; 00000044H
  00207	7b 21		 jnp	 SHORT $LN44@Find_Bear_
  00209	66 0f 2e c2	 ucomisd xmm0, xmm2
  0020d	9f		 lahf
  0020e	f6 c4 44	 test	 ah, 68			; 00000044H
  00211	7b 17		 jnp	 SHORT $LN44@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00213	0f 28 e1	 movaps	 xmm4, xmm1
  00216	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0021a	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0021e	f2 0f 5e e6	 divsd	 xmm4, xmm6
  00222	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN44@Find_Bear_:

; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0022a	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  0022d	0f 28 f2	 movaps	 xmm6, xmm2

; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00230	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00233	89 45 ec	 mov	 DWORD PTR tv1318[ebp], eax
  00236	66 0f 6e c0	 movd	 xmm0, eax
  0023a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0023e	f2 0f 5c 45 cc	 subsd	 xmm0, QWORD PTR tv1300[ebp]
  00243	66 0f 2e c2	 ucomisd xmm0, xmm2
  00247	9f		 lahf
  00248	f6 c4 44	 test	 ah, 68			; 00000044H
  0024b	7b 26		 jnp	 SHORT $LN47@Find_Bear_
  0024d	66 0f 2e ca	 ucomisd xmm1, xmm2
  00251	9f		 lahf
  00252	f6 c4 44	 test	 ah, 68			; 00000044H
  00255	7b 1c		 jnp	 SHORT $LN47@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00257	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  0025a	f2 0f 10 70 28	 movsd	 xmm6, QWORD PTR [eax+40]
  0025f	f2 0f 5c f1	 subsd	 xmm6, xmm1
  00263	f2 0f 5e f1	 divsd	 xmm6, xmm1
  00267	f2 0f 5e f0	 divsd	 xmm6, xmm0
  0026b	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN47@Find_Bear_:

; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))

  00273	66 0f 2f da	 comisd	 xmm3, xmm2
  00277	0f 82 3b 02 00
	00		 jb	 $LN73@Find_Bear_
  0027d	66 0f 2f e2	 comisd	 xmm4, xmm2
  00281	0f 82 31 02 00
	00		 jb	 $LN73@Find_Bear_
  00287	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  0028f	0f 28 c3	 movaps	 xmm0, xmm3
  00292	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00296	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0029d	66 0f 2f c8	 comisd	 xmm1, xmm0
  002a1	0f 82 11 02 00
	00		 jb	 $LN73@Find_Bear_

; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))

  002a7	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  002aa	0f 28 cf	 movaps	 xmm1, xmm7
  002ad	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  002b2	f2 0f 5c 48 28	 subsd	 xmm1, QWORD PTR [eax+40]
  002b7	f2 0f 5c 40 28	 subsd	 xmm0, QWORD PTR [eax+40]
  002bc	f2 0f 58 c9	 addsd	 xmm1, xmm1
  002c0	66 0f 2f c1	 comisd	 xmm0, xmm1
  002c4	0f 86 ee 01 00
	00		 jbe	 $LN73@Find_Bear_

; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  002ca	66 0f 2f dd	 comisd	 xmm3, xmm5
  002ce	0f 86 e4 01 00
	00		 jbe	 $LN73@Find_Bear_
  002d4	66 0f 2f e6	 comisd	 xmm4, xmm6
  002d8	0f 86 da 01 00
	00		 jbe	 $LN73@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002de	f2 0f 10 4d c4	 movsd	 xmm1, QWORD PTR tv1247[ebp]
  002e3	0f 28 c2	 movaps	 xmm0, xmm2
  002e6	66 0f 2e ca	 ucomisd xmm1, xmm2
  002ea	9f		 lahf
  002eb	f6 c4 44	 test	 ah, 68			; 00000044H
  002ee	7b 0d		 jnp	 SHORT $LN64@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002f0	f2 0f 10 41 20	 movsd	 xmm0, QWORD PTR [ecx+32]
  002f5	f2 0f 5c c7	 subsd	 xmm0, xmm7
  002f9	f2 0f 5e c1	 divsd	 xmm0, xmm1
$LN64@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002fd	f2 0f 10 4d bc	 movsd	 xmm1, QWORD PTR tv1250[ebp]
  00302	0f 28 da	 movaps	 xmm3, xmm2
  00305	66 0f 2e ca	 ucomisd xmm1, xmm2
  00309	9f		 lahf
  0030a	f6 c4 44	 test	 ah, 68			; 00000044H
  0030d	7b 17		 jnp	 SHORT $LN66@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0030f	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00312	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  00317	f2 0f 10 68 28	 movsd	 xmm5, QWORD PTR [eax+40]
  0031c	f2 0f 5c dd	 subsd	 xmm3, xmm5
  00320	f2 0f 5e d9	 divsd	 xmm3, xmm1
  00324	eb 05		 jmp	 SHORT $LN53@Find_Bear_
$LN66@Find_Bear_:

; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00326	f2 0f 10 6d b4	 movsd	 xmm5, QWORD PTR _dYNeckPt1$1$[ebp]
$LN53@Find_Bear_:
  0032b	8b 7d ec	 mov	 edi, DWORD PTR tv1318[ebp]
  0032e	0f 28 e2	 movaps	 xmm4, xmm2
  00331	66 0f 6e 71 08	 movd	 xmm6, DWORD PTR [ecx+8]
  00336	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0033a	66 0f 6e cf	 movd	 xmm1, edi
  0033e	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00342	f2 0f 5c ce	 subsd	 xmm1, xmm6
  00346	66 0f 2e ca	 ucomisd xmm1, xmm2
  0034a	9f		 lahf
  0034b	f6 c4 44	 test	 ah, 68			; 00000044H
  0034e	7b 11		 jnp	 SHORT $LN65@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00350	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  00353	f2 0f 10 60 28	 movsd	 xmm4, QWORD PTR [eax+40]
  00358	f2 0f 5c 61 20	 subsd	 xmm4, QWORD PTR [ecx+32]
  0035d	f2 0f 5e e1	 divsd	 xmm4, xmm1
$LN65@Find_Bear_:

; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00361	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00364	2b 45 f4	 sub	 eax, DWORD PTR tv1321[ebp]
  00367	66 0f 6e c8	 movd	 xmm1, eax

; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  0036b	8b c7		 mov	 eax, edi
  0036d	2b 45 f4	 sub	 eax, DWORD PTR tv1321[ebp]
  00370	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00374	66 0f 6e f0	 movd	 xmm6, eax

; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00378	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0037b	2b 45 f0	 sub	 eax, DWORD PTR tv1319[ebp]
  0037e	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  00382	f2 0f 59 c8	 mulsd	 xmm1, xmm0
  00386	f2 0f 59 f0	 mulsd	 xmm6, xmm0
  0038a	f2 0f 58 cf	 addsd	 xmm1, xmm7
  0038e	f2 0f 58 f7	 addsd	 xmm6, xmm7
  00392	66 0f 6e f8	 movd	 xmm7, eax

; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00396	8b c7		 mov	 eax, edi
  00398	2b 45 f0	 sub	 eax, DWORD PTR tv1319[ebp]
  0039b	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  0039f	f2 0f 11 75 c4	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm6

; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)

  003a4	0f 28 f4	 movaps	 xmm6, xmm4
  003a7	66 0f 6e c0	 movd	 xmm0, eax
  003ab	f2 0f 5c f3	 subsd	 xmm6, xmm3
  003af	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003b3	66 0f 2e f2	 ucomisd xmm6, xmm2
  003b7	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  003bb	f2 0f 59 fb	 mulsd	 xmm7, xmm3
  003bf	9f		 lahf
  003c0	f2 0f 11 4d b4	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm1
  003c5	f2 0f 58 c5	 addsd	 xmm0, xmm5
  003c9	f2 0f 58 fd	 addsd	 xmm7, xmm5
  003cd	f2 0f 11 45 bc	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm0
  003d2	f6 c4 44	 test	 ah, 68			; 00000044H
  003d5	7b 49		 jnp	 SHORT $LN67@Find_Bear_

; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  003d7	f2 0f 59 5d dc	 mulsd	 xmm3, QWORD PTR _dXNeckPt1$1$[ebp]
  003dc	0f 57 c0	 xorps	 xmm0, xmm0
  003df	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  003e4	0f 28 d5	 movaps	 xmm2, xmm5
  003e7	f2 0f 5c 51 20	 subsd	 xmm2, QWORD PTR [ecx+32]
  003ec	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  003f0	f2 0f 58 d0	 addsd	 xmm2, xmm0
  003f4	0f 57 c0	 xorps	 xmm0, xmm0

; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  003f7	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  003fc	f2 0f 5c d3	 subsd	 xmm2, xmm3
  00400	f2 0f 5e d6	 divsd	 xmm2, xmm6
  00404	0f 28 da	 movaps	 xmm3, xmm2
  00407	f2 0f 11 55 ac	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm2
  0040c	f2 0f 5c d8	 subsd	 xmm3, xmm0
  00410	f2 0f 59 dc	 mulsd	 xmm3, xmm4
  00414	f2 0f 58 59 20	 addsd	 xmm3, QWORD PTR [ecx+32]
  00419	f2 0f 11 5d a4	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm3
  0041e	eb 0a		 jmp	 SHORT $LN16@Find_Bear_
$LN67@Find_Bear_:

; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)

  00420	f2 0f 10 55 ac	 movsd	 xmm2, QWORD PTR _dXNeckPt2$2[ebp]
  00425	f2 0f 10 5d a4	 movsd	 xmm3, QWORD PTR _dYNeckPt2$1[ebp]
$LN16@Find_Bear_:

; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,

  0042a	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  0042f	83 ec 70	 sub	 esp, 112		; 00000070H
  00432	8b 4d e8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00435	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0043b	f2 0f 10 45 dc	 movsd	 xmm0, QWORD PTR _dXNeckPt1$1$[ebp]
  00440	f2 0f 11 6c 24
	60		 movsd	 QWORD PTR [esp+96], xmm5
  00446	f2 0f 11 5c 24
	58		 movsd	 QWORD PTR [esp+88], xmm3
  0044c	f2 0f 10 5d d4	 movsd	 xmm3, QWORD PTR tv1287[ebp]
  00451	f2 0f 11 54 24
	50		 movsd	 QWORD PTR [esp+80], xmm2
  00457	f2 0f 11 6c 24
	48		 movsd	 QWORD PTR [esp+72], xmm5
  0045d	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  00463	f2 0f 10 45 bc	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  00468	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  0046e	f2 0f 10 45 c4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00473	66 0f 6e d7	 movd	 xmm2, edi
  00477	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0047b	f2 0f 11 54 24
	30		 movsd	 QWORD PTR [esp+48], xmm2
  00481	f2 0f 11 7c 24
	28		 movsd	 QWORD PTR [esp+40], xmm7
  00487	f2 0f 11 5c 24
	20		 movsd	 QWORD PTR [esp+32], xmm3
  0048d	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00493	f2 0f 11 54 24
	10		 movsd	 QWORD PTR [esp+16], xmm2
  00499	f2 0f 11 4c 24
	08		 movsd	 QWORD PTR [esp+8], xmm1
  0049f	f2 0f 11 1c 24	 movsd	 QWORD PTR [esp], xmm3
  004a4	57		 push	 edi
  004a5	ff 72 08	 push	 DWORD PTR [edx+8]
  004a8	68 ae 0f 00 00	 push	 4014			; 00000faeH
  004ad	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  004b0	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  004b5	0f 57 d2	 xorps	 xmm2, xmm2
$LN73@Find_Bear_:

; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  004b8	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
$LN2@Find_Bear_:
  004c0	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  004c3	46		 inc	 esi
  004c4	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  004c7	3b 45 e4	 cmp	 eax, DWORD PTR $T3[ebp]
  004ca	0f 8e 60 fb ff
	ff		 jle	 $LL4@Find_Bear_
  004d0	5f		 pop	 edi
  004d1	5e		 pop	 esi
$LN3@Find_Bear_:

; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;

  004d2	b8 01 00 00 00	 mov	 eax, 1

; 1771 : }

  004d7	8b e5		 mov	 esp, ebp
  004d9	5d		 pop	 ebp
  004da	c2 08 00	 ret	 8
$LN19@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  004dd	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN74@Find_Bear_:
  004e2	cc		 int	 3
?Find_Bear_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bear_SquareFlag
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt2$1 = -92					; size = 8
_dXNeckPt2$2 = -84					; size = 8
_dYDrawPt2_2$1$ = -76					; size = 8
_dYPos1$1$ = -76					; size = 8
_dYDrawPt2_1$1$ = -68					; size = 8
tv1299 = -68						; size = 8
tv1296 = -60						; size = 8
tv1348 = -52						; size = 8
tv1335 = -44						; size = 8
$T3 = -36						; size = 4
_this$1$ = -32						; size = 4
tv1366 = -28						; size = 4
_pHighLowPtData1$1$ = -28				; size = 4
_dXNeckPt1$1$ = -24					; size = 8
_pHighLowPtData2$1$ = -20				; size = 4
tv1369 = -16						; size = 4
_pHighLowPtData3$1$ = -16				; size = 4
tv1367 = -12						; size = 4
_pHighLowPtData5$1$ = -12				; size = 4
_pHighLowPtData6$1$ = -8				; size = 4
_pHighLowPtData4$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bull_SquareFlag, COMDAT
; _this$ = ecx

; 1568 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH

; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 dc	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 b6 04 00
	00		 js	 $LN3@Find_Bull_

; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	be 02 00 00 00	 mov	 esi, 2
  0002a	66 0f 1f 44 00
	00		 npad	 6
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 a1 04 00
	00		 js	 $LN19@Find_Bull_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 96 04 00
	00		 jge	 $LN19@Find_Bull_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 e4	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 67 04 00
	00		 je	 $LN2@Find_Bull_

; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00058	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005f	0f 85 5a 04 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 6c 04 00
	00		 js	 $LN19@Find_Bull_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 64 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d ec	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 38 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 4d 04 00
	00		 js	 $LN19@Find_Bull_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 45 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0009a	89 7d f0	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0009d	85 ff		 test	 edi, edi
  0009f	0f 84 1a 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a5	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a8	85 ff		 test	 edi, edi
  000aa	0f 88 2c 04 00
	00		 js	 $LN19@Find_Bull_
  000b0	3b f8		 cmp	 edi, eax
  000b2	0f 8d 24 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b8	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000bc	89 7d fc	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bf	85 ff		 test	 edi, edi
  000c1	0f 84 f8 03 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c7	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000ca	85 ff		 test	 edi, edi
  000cc	0f 88 0a 04 00
	00		 js	 $LN19@Find_Bull_
  000d2	3b f8		 cmp	 edi, eax
  000d4	0f 8d 02 04 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000da	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000de	89 7d f4	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000e1	85 ff		 test	 edi, edi
  000e3	0f 84 d6 03 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e9	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000ec	85 ff		 test	 edi, edi
  000ee	0f 88 e8 03 00
	00		 js	 $LN19@Find_Bull_
  000f4	3b f8		 cmp	 edi, eax
  000f6	0f 8d e0 03 00
	00		 jge	 $LN19@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000fc	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  00100	89 7d f8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edi
  00103	85 ff		 test	 edi, edi
  00105	0f 84 b4 03 00
	00		 je	 $LN2@Find_Bull_

; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))

  0010b	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData3$1$[ebp]
  0010e	f2 0f 10 62 28	 movsd	 xmm4, QWORD PTR [edx+40]
  00113	f2 0f 10 41 28	 movsd	 xmm0, QWORD PTR [ecx+40]
  00118	66 0f 2f c4	 comisd	 xmm0, xmm4
  0011c	f2 0f 11 45 b4	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0
  00121	0f 86 98 03 00
	00		 jbe	 $LN2@Find_Bull_
  00127	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  0012a	f2 0f 10 57 20	 movsd	 xmm2, QWORD PTR [edi+32]
  0012f	f2 0f 10 48 20	 movsd	 xmm1, QWORD PTR [eax+32]
  00134	66 0f 2f d1	 comisd	 xmm2, xmm1
  00138	0f 86 81 03 00
	00		 jbe	 $LN2@Find_Bull_

; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  0013e	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00141	0f 57 d2	 xorps	 xmm2, xmm2
  00144	66 0f 6e 5a 08	 movd	 xmm3, DWORD PTR [edx+8]
  00149	0f 57 ed	 xorps	 xmm5, xmm5
  0014c	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  00150	89 45 f0	 mov	 DWORD PTR tv1369[ebp], eax
  00153	66 0f 6e f0	 movd	 xmm6, eax
  00157	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0015b	f2 0f 11 5d d4	 movsd	 QWORD PTR tv1335[ebp], xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00160	0f 28 de	 movaps	 xmm3, xmm6
  00163	f2 0f 5c 5d d4	 subsd	 xmm3, QWORD PTR tv1335[ebp]
  00168	66 0f 2e da	 ucomisd xmm3, xmm2
  0016c	9f		 lahf
  0016d	f6 c4 44	 test	 ah, 68			; 00000044H
  00170	7b 1d		 jnp	 SHORT $LN38@Find_Bull_
  00172	66 0f 2e e2	 ucomisd xmm4, xmm2
  00176	9f		 lahf
  00177	f6 c4 44	 test	 ah, 68			; 00000044H
  0017a	7b 13		 jnp	 SHORT $LN38@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0017c	0f 28 e8	 movaps	 xmm5, xmm0
  0017f	f2 0f 5c ec	 subsd	 xmm5, xmm4
  00183	f2 0f 5e ec	 divsd	 xmm5, xmm4
  00187	f2 0f 5e eb	 divsd	 xmm5, xmm3
  0018b	f2 0f 59 ef	 mulsd	 xmm5, xmm7
$LN38@Find_Bull_:

; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0018f	8b 7d f4	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]
  00192	0f 57 db	 xorps	 xmm3, xmm3
  00195	66 0f 6e 67 08	 movd	 xmm4, DWORD PTR [edi+8]
  0019a	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0019e	f2 0f 5c e6	 subsd	 xmm4, xmm6
  001a2	66 0f 2e e2	 ucomisd xmm4, xmm2
  001a6	f2 0f 11 65 bc	 movsd	 QWORD PTR tv1299[ebp], xmm4
  001ab	9f		 lahf
  001ac	f6 c4 44	 test	 ah, 68			; 00000044H
  001af	7b 1f		 jnp	 SHORT $LN41@Find_Bull_
  001b1	66 0f 2e c2	 ucomisd xmm0, xmm2
  001b5	9f		 lahf
  001b6	f6 c4 44	 test	 ah, 68			; 00000044H
  001b9	7b 15		 jnp	 SHORT $LN41@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001bb	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  001c0	f2 0f 5c d8	 subsd	 xmm3, xmm0
  001c4	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001c8	f2 0f 5e dc	 divsd	 xmm3, xmm4
  001cc	f2 0f 59 df	 mulsd	 xmm3, xmm7
$LN41@Find_Bull_:

; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001d0	8b 45 ec	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  001d3	0f 57 e4	 xorps	 xmm4, xmm4
  001d6	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d9	66 0f 6e 70 08	 movd	 xmm6, DWORD PTR [eax+8]
  001de	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  001e3	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  001e6	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001ea	89 55 f4	 mov	 DWORD PTR tv1367[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ed	8b 55 e4	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001f0	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001f5	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001f9	f2 0f 11 75 e8	 movsd	 QWORD PTR _dXNeckPt1$1$[ebp], xmm6
  001fe	f2 0f 11 45 cc	 movsd	 QWORD PTR tv1348[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00203	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00207	66 0f 2e c2	 ucomisd xmm0, xmm2
  0020b	f2 0f 11 45 c4	 movsd	 QWORD PTR tv1296[ebp], xmm0
  00210	9f		 lahf
  00211	f6 c4 44	 test	 ah, 68			; 00000044H
  00214	7b 21		 jnp	 SHORT $LN44@Find_Bull_
  00216	66 0f 2e fa	 ucomisd xmm7, xmm2
  0021a	9f		 lahf
  0021b	f6 c4 44	 test	 ah, 68			; 00000044H
  0021e	7b 17		 jnp	 SHORT $LN44@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00220	0f 28 e1	 movaps	 xmm4, xmm1
  00223	f2 0f 5c e7	 subsd	 xmm4, xmm7
  00227	f2 0f 5e e7	 divsd	 xmm4, xmm7
  0022b	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0022f	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN44@Find_Bull_:

; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00237	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  0023a	0f 57 f6	 xorps	 xmm6, xmm6
  0023d	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00240	89 45 e4	 mov	 DWORD PTR tv1366[ebp], eax
  00243	66 0f 6e c0	 movd	 xmm0, eax
  00247	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0024b	f2 0f 5c 45 cc	 subsd	 xmm0, QWORD PTR tv1348[ebp]
  00250	66 0f 2e c2	 ucomisd xmm0, xmm2
  00254	9f		 lahf
  00255	f6 c4 44	 test	 ah, 68			; 00000044H
  00258	7b 26		 jnp	 SHORT $LN47@Find_Bull_
  0025a	66 0f 2e ca	 ucomisd xmm1, xmm2
  0025e	9f		 lahf
  0025f	f6 c4 44	 test	 ah, 68			; 00000044H
  00262	7b 1c		 jnp	 SHORT $LN47@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00264	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  00267	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  0026c	f2 0f 5c f1	 subsd	 xmm6, xmm1
  00270	f2 0f 5e f1	 divsd	 xmm6, xmm1
  00274	f2 0f 5e f0	 divsd	 xmm6, xmm0
  00278	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN47@Find_Bull_:

; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))

  00280	66 0f 2f d4	 comisd	 xmm2, xmm4
  00284	0f 82 2d 02 00
	00		 jb	 $LN73@Find_Bull_
  0028a	66 0f 2f d3	 comisd	 xmm2, xmm3
  0028e	0f 82 23 02 00
	00		 jb	 $LN73@Find_Bull_
  00294	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  0029c	0f 28 c4	 movaps	 xmm0, xmm4
  0029f	f2 0f 5c c3	 subsd	 xmm0, xmm3
  002a3	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002aa	66 0f 2f c8	 comisd	 xmm1, xmm0
  002ae	0f 82 03 02 00
	00		 jb	 $LN73@Find_Bull_

; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))

  002b4	0f 28 cf	 movaps	 xmm1, xmm7
  002b7	0f 28 c7	 movaps	 xmm0, xmm7
  002ba	f2 0f 5c 49 28	 subsd	 xmm1, QWORD PTR [ecx+40]
  002bf	f2 0f 5c 42 28	 subsd	 xmm0, QWORD PTR [edx+40]
  002c4	f2 0f 58 c9	 addsd	 xmm1, xmm1
  002c8	66 0f 2f c1	 comisd	 xmm0, xmm1
  002cc	0f 86 e5 01 00
	00		 jbe	 $LN73@Find_Bull_

; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002d2	66 0f 2f eb	 comisd	 xmm5, xmm3
  002d6	0f 86 db 01 00
	00		 jbe	 $LN73@Find_Bull_
  002dc	66 0f 2f f4	 comisd	 xmm6, xmm4
  002e0	0f 86 d1 01 00
	00		 jbe	 $LN73@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002e6	f2 0f 10 45 c4	 movsd	 xmm0, QWORD PTR tv1296[ebp]
  002eb	0f 57 db	 xorps	 xmm3, xmm3
  002ee	66 0f 2e c2	 ucomisd xmm0, xmm2
  002f2	9f		 lahf
  002f3	f6 c4 44	 test	 ah, 68			; 00000044H
  002f6	7b 10		 jnp	 SHORT $LN50@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002f8	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  002fb	f2 0f 10 58 20	 movsd	 xmm3, QWORD PTR [eax+32]
  00300	f2 0f 5c df	 subsd	 xmm3, xmm7
  00304	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN50@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00308	f2 0f 10 4d bc	 movsd	 xmm1, QWORD PTR tv1299[ebp]
  0030d	0f 57 c0	 xorps	 xmm0, xmm0
  00310	66 0f 2e ca	 ucomisd xmm1, xmm2
  00314	9f		 lahf
  00315	f6 c4 44	 test	 ah, 68			; 00000044H
  00318	7b 14		 jnp	 SHORT $LN66@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0031a	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  0031f	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00324	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00328	f2 0f 5e c1	 divsd	 xmm0, xmm1
  0032c	eb 05		 jmp	 SHORT $LN64@Find_Bull_
$LN66@Find_Bull_:

; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0032e	f2 0f 10 65 b4	 movsd	 xmm4, QWORD PTR _dYPos1$1$[ebp]
$LN64@Find_Bull_:
  00333	8b 4d e4	 mov	 ecx, DWORD PTR tv1366[ebp]
  00336	0f 57 c9	 xorps	 xmm1, xmm1
  00339	66 0f 6e 77 08	 movd	 xmm6, DWORD PTR [edi+8]
  0033e	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  00342	66 0f 6e e9	 movd	 xmm5, ecx
  00346	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0034a	f2 0f 5c ee	 subsd	 xmm5, xmm6
  0034e	66 0f 2e ea	 ucomisd xmm5, xmm2
  00352	9f		 lahf
  00353	f6 c4 44	 test	 ah, 68			; 00000044H
  00356	7b 11		 jnp	 SHORT $LN65@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00358	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  0035b	f2 0f 10 48 20	 movsd	 xmm1, QWORD PTR [eax+32]
  00360	f2 0f 5c 4f 28	 subsd	 xmm1, QWORD PTR [edi+40]
  00365	f2 0f 5e cd	 divsd	 xmm1, xmm5
$LN65@Find_Bull_:

; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00369	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0036c	2b 45 f4	 sub	 eax, DWORD PTR tv1367[ebp]
  0036f	66 0f 6e e8	 movd	 xmm5, eax

; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00373	8b c1		 mov	 eax, ecx
  00375	2b 45 f4	 sub	 eax, DWORD PTR tv1367[ebp]
  00378	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0037c	66 0f 6e f0	 movd	 xmm6, eax

; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00380	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00383	2b 45 f0	 sub	 eax, DWORD PTR tv1369[ebp]
  00386	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0038a	66 0f 6e d0	 movd	 xmm2, eax

; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  0038e	8b c1		 mov	 eax, ecx
  00390	2b 45 f0	 sub	 eax, DWORD PTR tv1369[ebp]
  00393	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00397	f2 0f 59 eb	 mulsd	 xmm5, xmm3
  0039b	f2 0f 59 d0	 mulsd	 xmm2, xmm0
  0039f	f2 0f 59 f3	 mulsd	 xmm6, xmm3
  003a3	f2 0f 58 ef	 addsd	 xmm5, xmm7
  003a7	f2 0f 58 d4	 addsd	 xmm2, xmm4
  003ab	f2 0f 58 f7	 addsd	 xmm6, xmm7
  003af	f2 0f 11 55 bc	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm2
  003b4	66 0f 6e d0	 movd	 xmm2, eax
  003b8	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  003bc	f2 0f 59 d0	 mulsd	 xmm2, xmm0
  003c0	f2 0f 58 d4	 addsd	 xmm2, xmm4

; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)

  003c4	0f 28 e3	 movaps	 xmm4, xmm3
  003c7	f2 0f 5c e1	 subsd	 xmm4, xmm1
  003cb	f2 0f 11 55 b4	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm2
  003d0	0f 57 d2	 xorps	 xmm2, xmm2
  003d3	66 0f 2e e2	 ucomisd xmm4, xmm2
  003d7	9f		 lahf
  003d8	f6 c4 44	 test	 ah, 68			; 00000044H
  003db	7b 45		 jnp	 SHORT $LN67@Find_Bull_

; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  003dd	f2 0f 10 57 28	 movsd	 xmm2, QWORD PTR [edi+40]
  003e2	0f 28 c3	 movaps	 xmm0, xmm3
  003e5	f2 0f 59 45 e8	 mulsd	 xmm0, QWORD PTR _dXNeckPt1$1$[ebp]
  003ea	f2 0f 5c d7	 subsd	 xmm2, xmm7
  003ee	f2 0f 58 d0	 addsd	 xmm2, xmm0
  003f2	0f 57 c0	 xorps	 xmm0, xmm0
  003f5	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  003fa	f2 0f 59 c8	 mulsd	 xmm1, xmm0
  003fe	f2 0f 5c d1	 subsd	 xmm2, xmm1
  00402	f2 0f 5e d4	 divsd	 xmm2, xmm4

; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00406	0f 28 c2	 movaps	 xmm0, xmm2
  00409	f2 0f 11 55 ac	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm2
  0040e	f2 0f 5c 45 e8	 subsd	 xmm0, QWORD PTR _dXNeckPt1$1$[ebp]
  00413	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  00417	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0041b	f2 0f 11 45 a4	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm0
  00420	eb 05		 jmp	 SHORT $LN16@Find_Bull_
$LN67@Find_Bull_:

; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)

  00422	f2 0f 10 55 ac	 movsd	 xmm2, QWORD PTR _dXNeckPt2$2[ebp]
$LN16@Find_Bull_:

; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,

  00427	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  0042c	83 ec 70	 sub	 esp, 112		; 00000070H
  0042f	66 0f 6e c9	 movd	 xmm1, ecx
  00433	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00437	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0043d	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYNeckPt2$1[ebp]
  00442	f2 0f 11 7c 24
	60		 movsd	 QWORD PTR [esp+96], xmm7
  00448	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  0044e	f2 0f 10 45 e8	 movsd	 xmm0, QWORD PTR _dXNeckPt1$1$[ebp]
  00453	f2 0f 11 54 24
	50		 movsd	 QWORD PTR [esp+80], xmm2
  00459	f2 0f 11 7c 24
	48		 movsd	 QWORD PTR [esp+72], xmm7
  0045f	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  00465	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  0046a	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  00470	f2 0f 10 45 bc	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00475	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  0047b	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00481	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR tv1335[ebp]
  00486	f2 0f 11 44 24
	20		 movsd	 QWORD PTR [esp+32], xmm0
  0048c	f2 0f 11 74 24
	18		 movsd	 QWORD PTR [esp+24], xmm6
  00492	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  00498	f2 0f 11 6c 24
	08		 movsd	 QWORD PTR [esp+8], xmm5
  0049e	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  004a3	51		 push	 ecx
  004a4	ff 72 08	 push	 DWORD PTR [edx+8]
  004a7	8b 4d e0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  004aa	68 ad 0f 00 00	 push	 4013			; 00000fadH
  004af	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  004b2	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
$LN73@Find_Bull_:

; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  004b7	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
$LN2@Find_Bull_:
  004bf	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  004c2	46		 inc	 esi
  004c3	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  004c6	3b 45 dc	 cmp	 eax, DWORD PTR $T3[ebp]
  004c9	0f 8e 61 fb ff
	ff		 jle	 $LL4@Find_Bull_
  004cf	5f		 pop	 edi
  004d0	5e		 pop	 esi
$LN3@Find_Bull_:

; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;

  004d1	b8 01 00 00 00	 mov	 eax, 1

; 1666 : }

  004d6	8b e5		 mov	 esp, ebp
  004d8	5d		 pop	 ebp
  004d9	c2 08 00	 ret	 8
$LN19@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  004dc	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN74@Find_Bull_:
  004e1	cc		 int	 3
?Find_Bull_SquareFlag@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bull_SquareFlag
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -144					; size = 8
_dYNeckPt1$2 = -136					; size = 8
_dYNeckPt2$3 = -128					; size = 8
_dXNeckPt2$4 = -120					; size = 8
_dYPos1$1$ = -112					; size = 8
tv1318 = -104						; size = 8
_dYDrawPt2_1$1$ = -96					; size = 8
tv1284 = -96						; size = 8
_dYDrawPt1_1$1$ = -88					; size = 8
tv1281 = -88						; size = 8
tv1346 = -80						; size = 8
tv1272 = -80						; size = 8
_dXCrossPt1$5 = -72					; size = 8
_dXNeckPt1$6 = -64					; size = 8
$T7 = -56						; size = 4
_this$1$ = -52						; size = 4
tv1371 = -48						; size = 4
_pHighLowPtData2$1$ = -44				; size = 4
tv1338 = -40						; size = 8
tv1311 = -32						; size = 8
tv1302 = -32						; size = 8
tv1290 = -32						; size = 8
_pHighLowPtData1$1$ = -24				; size = 4
tv1344 = -20						; size = 8
_pHighLowPtData4$1$ = -12				; size = 4
tv1370 = -12						; size = 4
_pHighLowPtData6$1$ = -8				; size = 4
tv1372 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z PROC	; CWavePattern::Find_Bear_Wedge, COMDAT
; _this$ = ecx

; 1449 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 00 00
	00		 sub	 esp, 144		; 00000090H

; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d cc	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 c8	 mov	 DWORD PTR $T7[ebp], eax
  00018	0f 88 79 05 00
	00		 js	 $LN3@Find_Bear_

; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	f2 0f 10 2d 00
	00 00 00	 movsd	 xmm5, QWORD PTR __real@4059000000000000
  00026	0f 57 c9	 xorps	 xmm1, xmm1
  00029	56		 push	 esi
  0002a	57		 push	 edi
  0002b	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 67 05 00
	00		 js	 $LN20@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 5c 05 00
	00		 jge	 $LN20@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 e8	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 2d 05 00
	00		 je	 $LN2@Find_Bear_

; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00058	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005f	0f 85 20 05 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  00068	85 d2		 test	 edx, edx
  0006a	0f 88 32 05 00
	00		 js	 $LN20@Find_Bear_
  00070	3b d0		 cmp	 edx, eax
  00072	0f 8d 2a 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 54 b1 fc	 mov	 edx, DWORD PTR [ecx+esi*4-4]
  0007c	89 55 d4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edx
  0007f	85 d2		 test	 edx, edx
  00081	0f 84 fe 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 13 05 00
	00		 js	 $LN20@Find_Bear_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 0b 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 14 b1	 mov	 edx, DWORD PTR [ecx+esi*4]
  0009a	85 d2		 test	 edx, edx
  0009c	0f 84 e3 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 f5 04 00
	00		 js	 $LN20@Find_Bear_
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d ed 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d f4	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 c1 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 d3 04 00
	00		 js	 $LN20@Find_Bear_
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d cb 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	83 7c b1 08 00	 cmp	 DWORD PTR [ecx+esi*4+8], 0
  000dc	0f 84 a3 04 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e2	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e5	85 ff		 test	 edi, edi
  000e7	0f 88 b5 04 00
	00		 js	 $LN20@Find_Bear_
  000ed	3b f8		 cmp	 edi, eax
  000ef	0f 8d ad 04 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f5	8b 44 b1 0c	 mov	 eax, DWORD PTR [ecx+esi*4+12]
  000f9	89 45 f8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], eax
  000fc	85 c0		 test	 eax, eax
  000fe	0f 84 81 04 00
	00		 je	 $LN2@Find_Bear_

; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00104	8b 7c b1 f8	 mov	 edi, DWORD PTR [ecx+esi*4-8]

; 2456 : 	double	dGradient=0;

  00108	0f 28 d9	 movaps	 xmm3, xmm1
  0010b	66 0f 6e 62 08	 movd	 xmm4, DWORD PTR [edx+8]

; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00110	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00114	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  00117	89 45 fc	 mov	 DWORD PTR tv1372[ebp], eax
  0011a	66 0f 6e d0	 movd	 xmm2, eax
  0011e	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00122	0f 28 c4	 movaps	 xmm0, xmm4

; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00125	f2 0f 11 65 d8	 movsd	 QWORD PTR tv1338[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0012a	f2 0f 5c c2	 subsd	 xmm0, xmm2
  0012e	66 0f 2e c1	 ucomisd xmm0, xmm1
  00132	9f		 lahf
  00133	f6 c4 44	 test	 ah, 68			; 00000044H
  00136	7b 24		 jnp	 SHORT $LN39@Find_Bear_

; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00138	f2 0f 10 57 28	 movsd	 xmm2, QWORD PTR [edi+40]

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0013d	66 0f 2e d1	 ucomisd xmm2, xmm1
  00141	9f		 lahf
  00142	f6 c4 44	 test	 ah, 68			; 00000044H
  00145	7b 15		 jnp	 SHORT $LN39@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00147	f2 0f 10 5a 28	 movsd	 xmm3, QWORD PTR [edx+40]
  0014c	f2 0f 5c da	 subsd	 xmm3, xmm2
  00150	f2 0f 5e da	 divsd	 xmm3, xmm2
  00154	f2 0f 5e d8	 divsd	 xmm3, xmm0
  00158	f2 0f 59 dd	 mulsd	 xmm3, xmm5
$LN39@Find_Bear_:

; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0015c	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]

; 2456 : 	double	dGradient=0;

  00160	0f 28 d1	 movaps	 xmm2, xmm1

; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00163	f2 0f 10 72 28	 movsd	 xmm6, QWORD PTR [edx+40]
  00168	f2 0f 11 75 90	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm6
  0016d	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]
  00172	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00176	f2 0f 11 45 98	 movsd	 QWORD PTR tv1318[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0017b	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0017f	66 0f 2e c1	 ucomisd xmm0, xmm1
  00183	f2 0f 11 45 a0	 movsd	 QWORD PTR tv1284[ebp], xmm0
  00188	9f		 lahf
  00189	f6 c4 44	 test	 ah, 68			; 00000044H
  0018c	7b 1f		 jnp	 SHORT $LN42@Find_Bear_
  0018e	66 0f 2e f1	 ucomisd xmm6, xmm1
  00192	9f		 lahf
  00193	f6 c4 44	 test	 ah, 68			; 00000044H
  00196	7b 15		 jnp	 SHORT $LN42@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00198	f2 0f 10 57 28	 movsd	 xmm2, QWORD PTR [edi+40]
  0019d	f2 0f 5c d6	 subsd	 xmm2, xmm6
  001a1	f2 0f 5e d6	 divsd	 xmm2, xmm6
  001a5	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001a9	f2 0f 59 d5	 mulsd	 xmm2, xmm5
$LN42@Find_Bear_:

; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ad	8b 44 b1 fc	 mov	 eax, DWORD PTR [ecx+esi*4-4]

; 2456 : 	double	dGradient=0;

  001b1	0f 28 e1	 movaps	 xmm4, xmm1

; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001b4	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  001b7	89 4d d0	 mov	 DWORD PTR tv1371[ebp], ecx
  001ba	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  001bf	66 0f 6e e9	 movd	 xmm5, ecx
  001c3	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  001c6	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  001ca	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  001cf	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001d3	f2 0f 11 6d ec	 movsd	 QWORD PTR tv1344[ebp], xmm5
  001d8	f2 0f 11 45 b0	 movsd	 QWORD PTR tv1346[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001dd	f2 0f 5c c5	 subsd	 xmm0, xmm5
  001e1	66 0f 2e c1	 ucomisd xmm0, xmm1
  001e5	f2 0f 11 45 a8	 movsd	 QWORD PTR tv1281[ebp], xmm0
  001ea	9f		 lahf
  001eb	f6 c4 44	 test	 ah, 68			; 00000044H
  001ee	7b 23		 jnp	 SHORT $LN45@Find_Bear_
  001f0	66 0f 2e f9	 ucomisd xmm7, xmm1
  001f4	9f		 lahf
  001f5	f6 c4 44	 test	 ah, 68			; 00000044H
  001f8	7b 19		 jnp	 SHORT $LN45@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001fa	f2 0f 10 61 20	 movsd	 xmm4, QWORD PTR [ecx+32]
  001ff	f2 0f 5c e7	 subsd	 xmm4, xmm7
  00203	f2 0f 5e e7	 divsd	 xmm4, xmm7
  00207	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0020b	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN45@Find_Bear_:

; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00213	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  00216	0f 28 e9	 movaps	 xmm5, xmm1

; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00219	f2 0f 10 41 20	 movsd	 xmm0, QWORD PTR [ecx+32]
  0021e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00221	89 45 f4	 mov	 DWORD PTR tv1370[ebp], eax
  00224	66 0f 6e f8	 movd	 xmm7, eax
  00228	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  0022c	f2 0f 11 7d e0	 movsd	 QWORD PTR tv1290[ebp], xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00231	f2 0f 5c 7d b0	 subsd	 xmm7, QWORD PTR tv1346[ebp]
  00236	66 0f 2e f9	 ucomisd xmm7, xmm1
  0023a	f2 0f 11 7d b0	 movsd	 QWORD PTR tv1272[ebp], xmm7
  0023f	9f		 lahf
  00240	f6 c4 44	 test	 ah, 68			; 00000044H
  00243	8b 45 d4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00246	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  0024b	7b 27		 jnp	 SHORT $LN48@Find_Bear_
  0024d	66 0f 2e c1	 ucomisd xmm0, xmm1
  00251	9f		 lahf
  00252	f6 c4 44	 test	 ah, 68			; 00000044H
  00255	7b 1d		 jnp	 SHORT $LN48@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00257	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  0025a	f2 0f 10 68 20	 movsd	 xmm5, QWORD PTR [eax+32]
  0025f	f2 0f 5c e8	 subsd	 xmm5, xmm0
  00263	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00267	f2 0f 5e 6d b0	 divsd	 xmm5, QWORD PTR tv1272[ebp]
  0026c	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN48@Find_Bear_:

; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))

  00274	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bfd3333333333333
  0027c	66 0f 2f c3	 comisd	 xmm0, xmm3
  00280	0f 86 f7 02 00
	00		 jbe	 $LN82@Find_Bear_
  00286	66 0f 2f d4	 comisd	 xmm2, xmm4
  0028a	0f 86 ed 02 00
	00		 jbe	 $LN82@Find_Bear_
  00290	0f 28 c2	 movaps	 xmm0, xmm2
  00293	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00297	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0029e	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3fd3333333333333
  002a6	0f 86 d1 02 00
	00		 jbe	 $LN82@Find_Bear_

; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002ac	66 0f 2f da	 comisd	 xmm3, xmm2
  002b0	0f 86 c7 02 00
	00		 jbe	 $LN82@Find_Bear_
  002b6	66 0f 2f ec	 comisd	 xmm5, xmm4
  002ba	0f 86 bd 02 00
	00		 jbe	 $LN82@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002c0	f2 0f 10 45 a8	 movsd	 xmm0, QWORD PTR tv1281[ebp]
  002c5	0f 28 d1	 movaps	 xmm2, xmm1
  002c8	66 0f 2e c1	 ucomisd xmm0, xmm1
  002cc	9f		 lahf
  002cd	f6 c4 44	 test	 ah, 68			; 00000044H
  002d0	7b 0d		 jnp	 SHORT $LN66@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002d2	f2 0f 10 51 20	 movsd	 xmm2, QWORD PTR [ecx+32]
  002d7	f2 0f 5c d7	 subsd	 xmm2, xmm7
  002db	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN66@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002df	f2 0f 10 45 a0	 movsd	 xmm0, QWORD PTR tv1284[ebp]
  002e4	0f 28 d9	 movaps	 xmm3, xmm1
  002e7	66 0f 2e c1	 ucomisd xmm0, xmm1
  002eb	9f		 lahf
  002ec	f6 c4 44	 test	 ah, 68			; 00000044H
  002ef	7b 0d		 jnp	 SHORT $LN72@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002f1	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  002f6	f2 0f 5c de	 subsd	 xmm3, xmm6
  002fa	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN72@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002fe	f2 0f 10 45 e0	 movsd	 xmm0, QWORD PTR tv1290[ebp]
  00303	0f 28 f1	 movaps	 xmm6, xmm1
  00306	f2 0f 5c 45 98	 subsd	 xmm0, QWORD PTR tv1318[ebp]
  0030b	66 0f 2e c1	 ucomisd xmm0, xmm1
  0030f	9f		 lahf
  00310	f6 c4 44	 test	 ah, 68			; 00000044H
  00313	7b 11		 jnp	 SHORT $LN74@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00315	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  00318	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  0031d	f2 0f 5c 77 28	 subsd	 xmm6, QWORD PTR [edi+40]
  00322	f2 0f 5e f0	 divsd	 xmm6, xmm0
$LN74@Find_Bear_:
  00326	66 0f 6e 65 fc	 movd	 xmm4, DWORD PTR tv1372[ebp]

; 2444 : 	double dGradient=0;

  0032b	0f 28 e9	 movaps	 xmm5, xmm1

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0032e	f2 0f 10 45 ec	 movsd	 xmm0, QWORD PTR tv1344[ebp]
  00333	8b 4d e8	 mov	 ecx, DWORD PTR _pHighLowPtData1$1$[ebp]
  00336	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  0033a	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0033e	66 0f 2e c1	 ucomisd xmm0, xmm1
  00342	9f		 lahf
  00343	f6 c4 44	 test	 ah, 68			; 00000044H
  00346	7b 0c		 jnp	 SHORT $LN73@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00348	0f 28 ef	 movaps	 xmm5, xmm7
  0034b	f2 0f 5c 69 28	 subsd	 xmm5, QWORD PTR [ecx+40]
  00350	f2 0f 5e e8	 divsd	 xmm5, xmm0
$LN73@Find_Bear_:

; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;

  00354	66 0f 2f d3	 comisd	 xmm2, xmm3
  00358	0f 87 1f 02 00
	00		 ja	 $LN82@Find_Bear_

; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0035e	8b 45 fc	 mov	 eax, DWORD PTR tv1372[ebp]
  00361	2b 45 d0	 sub	 eax, DWORD PTR tv1371[ebp]
  00364	66 0f 6e c0	 movd	 xmm0, eax

; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00368	8b 45 fc	 mov	 eax, DWORD PTR tv1372[ebp]
  0036b	2b 42 08	 sub	 eax, DWORD PTR [edx+8]
  0036e	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00372	66 0f 6e e0	 movd	 xmm4, eax
  00376	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  0037a	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  0037e	f2 0f 59 e3	 mulsd	 xmm4, xmm3
  00382	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00386	f2 0f 11 45 a8	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  0038b	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  00390	f2 0f 58 e0	 addsd	 xmm4, xmm0
  00394	f2 0f 11 65 a0	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm4

; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)

  00399	0f 28 e2	 movaps	 xmm4, xmm2
  0039c	f2 0f 5c e3	 subsd	 xmm4, xmm3
  003a0	66 0f 2e e1	 ucomisd xmm4, xmm1
  003a4	f2 0f 11 65 e0	 movsd	 QWORD PTR tv1302[ebp], xmm4
  003a9	0f 28 e3	 movaps	 xmm4, xmm3
  003ac	f2 0f 59 65 d8	 mulsd	 xmm4, QWORD PTR tv1338[ebp]
  003b1	9f		 lahf
  003b2	f6 c4 44	 test	 ah, 68			; 00000044H
  003b5	7b 3e		 jnp	 SHORT $LN15@Find_Bear_

; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 

  003b7	f2 0f 5c c7	 subsd	 xmm0, xmm7
  003bb	0f 28 ca	 movaps	 xmm1, xmm2
  003be	f2 0f 59 4d ec	 mulsd	 xmm1, QWORD PTR tv1344[ebp]
  003c3	f2 0f 58 c8	 addsd	 xmm1, xmm0
  003c7	0f 28 c1	 movaps	 xmm0, xmm1
  003ca	f2 0f 11 4d b8	 movsd	 QWORD PTR _dXCrossPt1$5[ebp], xmm1
  003cf	f2 0f 5c c4	 subsd	 xmm0, xmm4
  003d3	0f 57 c9	 xorps	 xmm1, xmm1
  003d6	f2 0f 5e 45 e0	 divsd	 xmm0, QWORD PTR tv1302[ebp]
  003db	f2 0f 11 45 b8	 movsd	 QWORD PTR _dXCrossPt1$5[ebp], xmm0

; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  003e0	f2 0f 5c 45 ec	 subsd	 xmm0, QWORD PTR tv1344[ebp]
  003e5	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  003e9	f2 0f 58 c7	 addsd	 xmm0, xmm7
  003ed	f2 0f 11 85 70
	ff ff ff	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm0
$LN15@Find_Bear_:

; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)

  003f5	0f 28 c3	 movaps	 xmm0, xmm3
  003f8	f2 0f 5c c5	 subsd	 xmm0, xmm5
  003fc	66 0f 2e c1	 ucomisd xmm0, xmm1
  00400	f2 0f 11 45 e0	 movsd	 QWORD PTR tv1311[ebp], xmm0
  00405	9f		 lahf
  00406	f6 c4 44	 test	 ah, 68			; 00000044H
  00409	7b 54		 jnp	 SHORT $LN75@Find_Bear_

; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 

  0040b	f2 0f 10 41 28	 movsd	 xmm0, QWORD PTR [ecx+40]
  00410	f2 0f 5c 42 28	 subsd	 xmm0, QWORD PTR [edx+40]
  00415	8b 4d fc	 mov	 ecx, DWORD PTR tv1372[ebp]
  00418	f2 0f 58 c4	 addsd	 xmm0, xmm4
  0041c	f2 0f 11 45 c0	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm0
  00421	f2 0f 10 65 c0	 movsd	 xmm4, QWORD PTR _dXNeckPt1$6[ebp]
  00426	66 0f 6e c1	 movd	 xmm0, ecx
  0042a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0042e	f2 0f 59 c5	 mulsd	 xmm0, xmm5

; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00432	f2 0f 10 6a 28	 movsd	 xmm5, QWORD PTR [edx+40]
  00437	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0043b	f2 0f 5e 65 e0	 divsd	 xmm4, QWORD PTR tv1311[ebp]
  00440	0f 28 c4	 movaps	 xmm0, xmm4
  00443	f2 0f 11 65 c0	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm4
  00448	f2 0f 5c 45 d8	 subsd	 xmm0, QWORD PTR tv1338[ebp]
  0044d	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  00451	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00455	f2 0f 11 85 78
	ff ff ff	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm0
  0045d	eb 08		 jmp	 SHORT $LN70@Find_Bear_
$LN75@Find_Bear_:

; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)

  0045f	f2 0f 10 6d 90	 movsd	 xmm5, QWORD PTR _dYPos1$1$[ebp]
  00464	8b 4d fc	 mov	 ecx, DWORD PTR tv1372[ebp]
$LN70@Find_Bear_:

; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)

  00467	0f 28 e2	 movaps	 xmm4, xmm2
  0046a	f2 0f 5c e6	 subsd	 xmm4, xmm6
  0046e	66 0f 2e e1	 ucomisd xmm4, xmm1
  00472	9f		 lahf
  00473	f6 c4 44	 test	 ah, 68			; 00000044H
  00476	7b 42		 jnp	 SHORT $LN76@Find_Bear_

; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  00478	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  0047d	0f 28 c2	 movaps	 xmm0, xmm2
  00480	f2 0f 59 45 ec	 mulsd	 xmm0, QWORD PTR tv1344[ebp]
  00485	f2 0f 5c cf	 subsd	 xmm1, xmm7
  00489	f2 0f 58 c8	 addsd	 xmm1, xmm0
  0048d	f2 0f 10 45 98	 movsd	 xmm0, QWORD PTR tv1318[ebp]
  00492	f2 0f 59 c6	 mulsd	 xmm0, xmm6
  00496	f2 0f 5c c8	 subsd	 xmm1, xmm0
  0049a	f2 0f 5e cc	 divsd	 xmm1, xmm4

; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0049e	0f 28 c1	 movaps	 xmm0, xmm1
  004a1	f2 0f 11 4d 88	 movsd	 QWORD PTR _dXNeckPt2$4[ebp], xmm1
  004a6	f2 0f 5c 45 ec	 subsd	 xmm0, QWORD PTR tv1344[ebp]
  004ab	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  004af	f2 0f 58 c7	 addsd	 xmm0, xmm7
  004b3	f2 0f 11 45 80	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm0
  004b8	eb 05		 jmp	 SHORT $LN17@Find_Bear_
$LN76@Find_Bear_:

; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)

  004ba	f2 0f 10 4d 88	 movsd	 xmm1, QWORD PTR _dXNeckPt2$4[ebp]
$LN17@Find_Bear_:

; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  004bf	f2 0f 10 65 c0	 movsd	 xmm4, QWORD PTR _dXNeckPt1$6[ebp]

; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,

  004c4	83 ec 70	 sub	 esp, 112		; 00000070H
  004c7	0f 28 c4	 movaps	 xmm0, xmm4
  004ca	f2 0f 5c 45 ec	 subsd	 xmm0, QWORD PTR tv1344[ebp]
  004cf	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  004d3	66 0f 6e d1	 movd	 xmm2, ecx
  004d7	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  004db	f2 0f 58 c7	 addsd	 xmm0, xmm7
  004df	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  004e5	0f 28 c4	 movaps	 xmm0, xmm4
  004e8	f2 0f 5c 45 d8	 subsd	 xmm0, QWORD PTR tv1338[ebp]
  004ed	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  004f1	f2 0f 10 9d 70
	ff ff ff	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  004f9	f2 0f 58 c5	 addsd	 xmm0, xmm5
  004fd	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00503	f2 0f 10 45 80	 movsd	 xmm0, QWORD PTR _dYNeckPt2$3[ebp]
  00508	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  0050e	f2 0f 10 85 78
	ff ff ff	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00516	f2 0f 11 4c 24
	50		 movsd	 QWORD PTR [esp+80], xmm1
  0051c	f2 0f 10 4d b8	 movsd	 xmm1, QWORD PTR _dXCrossPt1$5[ebp]
  00521	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  00527	f2 0f 10 45 a0	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0052c	f2 0f 11 64 24
	40		 movsd	 QWORD PTR [esp+64], xmm4
  00532	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  00538	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  0053e	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00544	f2 0f 10 45 a8	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  00549	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  0054f	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  00555	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  0055b	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00561	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  00566	ff 75 f4	 push	 DWORD PTR tv1370[ebp]
  00569	51		 push	 ecx
  0056a	8b 4d cc	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0056d	68 ac 0f 00 00	 push	 4012			; 00000facH
  00572	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  00575	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  0057a	0f 57 c9	 xorps	 xmm1, xmm1
$LN82@Find_Bear_:

; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  0057d	f2 0f 10 2d 00
	00 00 00	 movsd	 xmm5, QWORD PTR __real@4059000000000000
$LN2@Find_Bear_:
  00585	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00588	46		 inc	 esi
  00589	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  0058c	3b 45 c8	 cmp	 eax, DWORD PTR $T7[ebp]
  0058f	0f 8e 9b fa ff
	ff		 jle	 $LL4@Find_Bear_
  00595	5f		 pop	 edi
  00596	5e		 pop	 esi
$LN3@Find_Bear_:

; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;

  00597	b8 01 00 00 00	 mov	 eax, 1

; 1561 : }

  0059c	8b e5		 mov	 esp, ebp
  0059e	5d		 pop	 ebp
  0059f	c2 08 00	 ret	 8
$LN20@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005a2	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN84@Find_Bear_:
  005a7	cc		 int	 3
?Find_Bear_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ENDP	; CWavePattern::Find_Bear_Wedge
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -136					; size = 8
_dYNeckPt1$2 = -128					; size = 8
_dYNeckPt2$3 = -120					; size = 8
_dXNeckPt2$4 = -112					; size = 8
_dYPos1$1$ = -104					; size = 8
tv1286 = -96						; size = 8
tv1353 = -88						; size = 8
_dYDrawPt2_1$1$ = -80					; size = 8
tv1299 = -80						; size = 8
_dYDrawPt1_1$1$ = -72					; size = 8
tv1290 = -72						; size = 8
$T5 = -64						; size = 4
_this$1$ = -60						; size = 4
tv1351 = -56						; size = 8
tv1349 = -48						; size = 8
tv1316 = -48						; size = 8
tv1307 = -48						; size = 8
_dXCrossPt1$6 = -40					; size = 8
_pHighLowPtData1$1$ = -32				; size = 4
_pHighLowPtData2$1$ = -28				; size = 4
_dXNeckPt1$7 = -24					; size = 8
_pHighLowPtData4$1$ = -16				; size = 4
tv1379 = -16						; size = 4
_pHighLowPtData5$1$ = -12				; size = 4
tv1380 = -12						; size = 4
_pHighLowPtData6$1$ = -8				; size = 4
tv1382 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z PROC	; CWavePattern::Find_Bull_Wedge, COMDAT
; _this$ = ecx

; 1331 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 88 00 00
	00		 sub	 esp, 136		; 00000088H

; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d c4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 c0	 mov	 DWORD PTR $T5[ebp], eax
  00018	0f 88 c0 05 00
	00		 js	 $LN3@Find_Bull_

; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00026	0f 57 d2	 xorps	 xmm2, xmm2
  00029	56		 push	 esi
  0002a	57		 push	 edi
  0002b	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 ae 05 00
	00		 js	 $LN20@Find_Bull_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d a3 05 00
	00		 jge	 $LN20@Find_Bull_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 e0	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 74 05 00
	00		 je	 $LN2@Find_Bull_

; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 67 05 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  00068	85 d2		 test	 edx, edx
  0006a	0f 88 79 05 00
	00		 js	 $LN20@Find_Bull_
  00070	3b d0		 cmp	 edx, eax
  00072	0f 8d 71 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 54 b1 fc	 mov	 edx, DWORD PTR [ecx+esi*4-4]
  0007c	89 55 e4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edx
  0007f	85 d2		 test	 edx, edx
  00081	0f 84 45 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 5a 05 00
	00		 js	 $LN20@Find_Bull_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 52 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 14 b1	 mov	 edx, DWORD PTR [ecx+esi*4]
  0009a	85 d2		 test	 edx, edx
  0009c	0f 84 2a 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 3c 05 00
	00		 js	 $LN20@Find_Bull_
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d 34 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d f0	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 08 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 1a 05 00
	00		 js	 $LN20@Find_Bull_
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d 12 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000db	89 7d f4	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000de	85 ff		 test	 edi, edi
  000e0	0f 84 e6 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e6	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e9	85 ff		 test	 edi, edi
  000eb	0f 88 f8 04 00
	00		 js	 $LN20@Find_Bull_
  000f1	3b f8		 cmp	 edi, eax
  000f3	0f 8d f0 04 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f9	8b 44 b1 0c	 mov	 eax, DWORD PTR [ecx+esi*4+12]
  000fd	89 45 f8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], eax
  00100	85 c0		 test	 eax, eax
  00102	0f 84 c4 04 00
	00		 je	 $LN2@Find_Bull_

; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00108	8b 7c b1 f8	 mov	 edi, DWORD PTR [ecx+esi*4-8]

; 2456 : 	double	dGradient=0;

  0010c	0f 28 da	 movaps	 xmm3, xmm2
  0010f	66 0f 6e 62 08	 movd	 xmm4, DWORD PTR [edx+8]

; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00114	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00118	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  0011b	89 45 fc	 mov	 DWORD PTR tv1382[ebp], eax
  0011e	66 0f 6e 4d fc	 movd	 xmm1, DWORD PTR tv1382[ebp]
  00123	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00127	0f 28 c4	 movaps	 xmm0, xmm4
  0012a	f2 0f 5c c1	 subsd	 xmm0, xmm1
  0012e	66 0f 2e c2	 ucomisd xmm0, xmm2
  00132	9f		 lahf
  00133	f6 c4 44	 test	 ah, 68			; 00000044H
  00136	7b 24		 jnp	 SHORT $LN39@Find_Bull_

; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00138	f2 0f 10 4f 20	 movsd	 xmm1, QWORD PTR [edi+32]

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0013d	66 0f 2e ca	 ucomisd xmm1, xmm2
  00141	9f		 lahf
  00142	f6 c4 44	 test	 ah, 68			; 00000044H
  00145	7b 15		 jnp	 SHORT $LN39@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00147	f2 0f 10 5a 20	 movsd	 xmm3, QWORD PTR [edx+32]
  0014c	f2 0f 5c d9	 subsd	 xmm3, xmm1
  00150	f2 0f 5e d9	 divsd	 xmm3, xmm1
  00154	f2 0f 5e d8	 divsd	 xmm3, xmm0
  00158	f2 0f 59 df	 mulsd	 xmm3, xmm7
$LN39@Find_Bull_:

; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0015c	8b 7d f4	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0015f	0f 28 ca	 movaps	 xmm1, xmm2

; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00162	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  00167	f2 0f 11 45 98	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0
  0016c	66 0f 6e 6f 08	 movd	 xmm5, DWORD PTR [edi+8]
  00171	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00175	0f 28 f5	 movaps	 xmm6, xmm5

; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00178	f2 0f 11 6d d0	 movsd	 QWORD PTR tv1349[ebp], xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0017d	f2 0f 5c f4	 subsd	 xmm6, xmm4
  00181	66 0f 2e f2	 ucomisd xmm6, xmm2
  00185	f2 0f 11 75 a0	 movsd	 QWORD PTR tv1286[ebp], xmm6
  0018a	9f		 lahf
  0018b	f6 c4 44	 test	 ah, 68			; 00000044H
  0018e	7b 1f		 jnp	 SHORT $LN42@Find_Bull_
  00190	66 0f 2e c2	 ucomisd xmm0, xmm2
  00194	9f		 lahf
  00195	f6 c4 44	 test	 ah, 68			; 00000044H
  00198	7b 15		 jnp	 SHORT $LN42@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0019a	f2 0f 10 4f 20	 movsd	 xmm1, QWORD PTR [edi+32]
  0019f	f2 0f 5c c8	 subsd	 xmm1, xmm0
  001a3	f2 0f 5e c8	 divsd	 xmm1, xmm0
  001a7	f2 0f 5e ce	 divsd	 xmm1, xmm6
  001ab	f2 0f 59 cf	 mulsd	 xmm1, xmm7
$LN42@Find_Bull_:

; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001af	8b 44 b1 fc	 mov	 eax, DWORD PTR [ecx+esi*4-4]

; 2456 : 	double	dGradient=0;

  001b3	0f 28 e2	 movaps	 xmm4, xmm2

; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001b6	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  001b9	89 4d f4	 mov	 DWORD PTR tv1380[ebp], ecx
  001bc	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  001c1	66 0f 6e e9	 movd	 xmm5, ecx
  001c5	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  001c8	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  001cc	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  001d1	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001d5	f2 0f 11 6d c8	 movsd	 QWORD PTR tv1351[ebp], xmm5
  001da	f2 0f 11 45 a8	 movsd	 QWORD PTR tv1353[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001df	f2 0f 5c c5	 subsd	 xmm0, xmm5
  001e3	66 0f 2e c2	 ucomisd xmm0, xmm2
  001e7	f2 0f 11 45 b8	 movsd	 QWORD PTR tv1290[ebp], xmm0
  001ec	9f		 lahf
  001ed	f6 c4 44	 test	 ah, 68			; 00000044H
  001f0	7b 23		 jnp	 SHORT $LN45@Find_Bull_
  001f2	66 0f 2e fa	 ucomisd xmm7, xmm2
  001f6	9f		 lahf
  001f7	f6 c4 44	 test	 ah, 68			; 00000044H
  001fa	7b 19		 jnp	 SHORT $LN45@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001fc	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00201	f2 0f 5c e7	 subsd	 xmm4, xmm7
  00205	f2 0f 5e e7	 divsd	 xmm4, xmm7
  00209	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0020d	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN45@Find_Bull_:

; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00215	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  00218	0f 28 ea	 movaps	 xmm5, xmm2

; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0021b	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0021e	89 45 f0	 mov	 DWORD PTR tv1379[ebp], eax
  00221	66 0f 6e c0	 movd	 xmm0, eax
  00225	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00229	f2 0f 11 45 b0	 movsd	 QWORD PTR tv1299[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0022e	f2 0f 5c 45 a8	 subsd	 xmm0, QWORD PTR tv1353[ebp]
  00233	66 0f 2e c2	 ucomisd xmm0, xmm2
  00237	9f		 lahf
  00238	f6 c4 44	 test	 ah, 68			; 00000044H
  0023b	7b 32		 jnp	 SHORT $LN48@Find_Bull_
  0023d	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  00242	66 0f 2e f2	 ucomisd xmm6, xmm2
  00246	f2 0f 10 75 a0	 movsd	 xmm6, QWORD PTR tv1286[ebp]
  0024b	9f		 lahf
  0024c	f6 c4 44	 test	 ah, 68			; 00000044H
  0024f	7b 1e		 jnp	 SHORT $LN48@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00251	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  00254	f2 0f 10 68 28	 movsd	 xmm5, QWORD PTR [eax+40]
  00259	f2 0f 5c 69 28	 subsd	 xmm5, QWORD PTR [ecx+40]
  0025e	f2 0f 5e 69 28	 divsd	 xmm5, QWORD PTR [ecx+40]
  00263	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00267	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN48@Find_Bull_:

; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))

  0026f	66 0f 2f 1d 00
	00 00 00	 comisd	 xmm3, QWORD PTR __real@3fd3333333333333
  00277	0f 86 47 03 00
	00		 jbe	 $LN83@Find_Bull_
  0027d	66 0f 2f e1	 comisd	 xmm4, xmm1
  00281	0f 86 3d 03 00
	00		 jbe	 $LN83@Find_Bull_
  00287	0f 28 c4	 movaps	 xmm0, xmm4
  0028a	f2 0f 5c c1	 subsd	 xmm0, xmm1
  0028e	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  00295	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3fd3333333333333
  0029d	0f 86 21 03 00
	00		 jbe	 $LN83@Find_Bull_

; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  002a3	66 0f 2f cb	 comisd	 xmm1, xmm3
  002a7	0f 86 17 03 00
	00		 jbe	 $LN83@Find_Bull_
  002ad	66 0f 2f e5	 comisd	 xmm4, xmm5
  002b1	0f 86 0d 03 00
	00		 jbe	 $LN83@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002b7	66 0f 2e f2	 ucomisd xmm6, xmm2
  002bb	0f 28 da	 movaps	 xmm3, xmm2
  002be	9f		 lahf
  002bf	f6 c4 44	 test	 ah, 68			; 00000044H
  002c2	7b 14		 jnp	 SHORT $LN75@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002c4	f2 0f 10 5f 20	 movsd	 xmm3, QWORD PTR [edi+32]
  002c9	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  002ce	f2 0f 5c d9	 subsd	 xmm3, xmm1
  002d2	f2 0f 5e de	 divsd	 xmm3, xmm6
  002d6	eb 05		 jmp	 SHORT $LN72@Find_Bull_
$LN75@Find_Bull_:

; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002d8	f2 0f 10 4d 98	 movsd	 xmm1, QWORD PTR _dYPos1$1$[ebp]
$LN72@Find_Bull_:
  002dd	f2 0f 10 45 b8	 movsd	 xmm0, QWORD PTR tv1290[ebp]
  002e2	0f 28 e2	 movaps	 xmm4, xmm2
  002e5	66 0f 2e c2	 ucomisd xmm0, xmm2
  002e9	9f		 lahf
  002ea	f6 c4 44	 test	 ah, 68			; 00000044H
  002ed	7b 0d		 jnp	 SHORT $LN66@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002ef	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  002f4	f2 0f 5c e7	 subsd	 xmm4, xmm7
  002f8	f2 0f 5e e0	 divsd	 xmm4, xmm0
$LN66@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002fc	8b 4d fc	 mov	 ecx, DWORD PTR tv1382[ebp]
  002ff	0f 28 f2	 movaps	 xmm6, xmm2
  00302	f2 0f 10 45 c8	 movsd	 xmm0, QWORD PTR tv1351[ebp]
  00307	66 0f 6e e9	 movd	 xmm5, ecx
  0030b	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0030f	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00313	66 0f 2e c2	 ucomisd xmm0, xmm2
  00317	9f		 lahf
  00318	f6 c4 44	 test	 ah, 68			; 00000044H
  0031b	7b 0f		 jnp	 SHORT $LN73@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0031d	8b 45 e0	 mov	 eax, DWORD PTR _pHighLowPtData1$1$[ebp]
  00320	0f 28 f7	 movaps	 xmm6, xmm7
  00323	f2 0f 5c 70 20	 subsd	 xmm6, QWORD PTR [eax+32]
  00328	f2 0f 5e f0	 divsd	 xmm6, xmm0
$LN73@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0032c	f2 0f 10 45 b0	 movsd	 xmm0, QWORD PTR tv1299[ebp]
  00331	0f 28 ea	 movaps	 xmm5, xmm2
  00334	f2 0f 5c 45 d0	 subsd	 xmm0, QWORD PTR tv1349[ebp]
  00339	66 0f 2e c2	 ucomisd xmm0, xmm2
  0033d	9f		 lahf
  0033e	f6 c4 44	 test	 ah, 68			; 00000044H
  00341	7b 11		 jnp	 SHORT $LN74@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00343	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  00346	f2 0f 10 68 28	 movsd	 xmm5, QWORD PTR [eax+40]
  0034b	f2 0f 5c 6f 20	 subsd	 xmm5, QWORD PTR [edi+32]
  00350	f2 0f 5e e8	 divsd	 xmm5, xmm0
$LN74@Find_Bull_:

; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;

  00354	66 0f 2f dc	 comisd	 xmm3, xmm4
  00358	0f 87 66 02 00
	00		 ja	 $LN83@Find_Bull_

; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  0035e	8b c1		 mov	 eax, ecx
  00360	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00363	2b c1		 sub	 eax, ecx
  00365	66 0f 6e c0	 movd	 xmm0, eax

; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00369	8b 45 fc	 mov	 eax, DWORD PTR tv1382[ebp]
  0036c	2b 45 f4	 sub	 eax, DWORD PTR tv1380[ebp]
  0036f	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00373	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  00377	f2 0f 58 c1	 addsd	 xmm0, xmm1
  0037b	f2 0f 11 45 b8	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  00380	66 0f 6e c0	 movd	 xmm0, eax
  00384	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00388	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0038c	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00390	f2 0f 11 45 b0	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0

; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)

  00395	0f 28 c3	 movaps	 xmm0, xmm3
  00398	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0039c	66 0f 2e c2	 ucomisd xmm0, xmm2
  003a0	f2 0f 11 45 d0	 movsd	 QWORD PTR tv1307[ebp], xmm0
  003a5	66 0f 6e c1	 movd	 xmm0, ecx
  003a9	8b 4d e4	 mov	 ecx, DWORD PTR _pHighLowPtData2$1$[ebp]
  003ac	f3 0f e6 f8	 cvtdq2pd xmm7, xmm0
  003b0	9f		 lahf
  003b1	f2 0f 59 fb	 mulsd	 xmm7, xmm3
  003b5	f6 c4 44	 test	 ah, 68			; 00000044H
  003b8	7b 58		 jnp	 SHORT $LN15@Find_Bull_

; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 

  003ba	f2 0f 10 41 28	 movsd	 xmm0, QWORD PTR [ecx+40]
  003bf	f2 0f 5c c1	 subsd	 xmm0, xmm1
  003c3	f2 0f 58 c7	 addsd	 xmm0, xmm7
  003c7	f2 0f 11 45 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm0
  003cc	0f 28 c4	 movaps	 xmm0, xmm4
  003cf	f2 0f 59 45 c8	 mulsd	 xmm0, QWORD PTR tv1351[ebp]
  003d4	f2 0f 10 55 d8	 movsd	 xmm2, QWORD PTR _dXCrossPt1$6[ebp]
  003d9	f2 0f 5c d0	 subsd	 xmm2, xmm0
  003dd	0f 28 c2	 movaps	 xmm0, xmm2
  003e0	f2 0f 11 55 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm2
  003e5	f2 0f 5e 45 d0	 divsd	 xmm0, QWORD PTR tv1307[ebp]

; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003ea	0f 28 d0	 movaps	 xmm2, xmm0
  003ed	f2 0f 11 45 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm0
  003f2	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  003f7	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003fb	f2 0f 5c d0	 subsd	 xmm2, xmm0
  003ff	f2 0f 59 d3	 mulsd	 xmm2, xmm3
  00403	f2 0f 58 d1	 addsd	 xmm2, xmm1
  00407	f2 0f 11 95 78
	ff ff ff	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm2
  0040f	0f 57 d2	 xorps	 xmm2, xmm2
$LN15@Find_Bull_:

; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)

  00412	0f 28 c6	 movaps	 xmm0, xmm6
  00415	f2 0f 5c c3	 subsd	 xmm0, xmm3
  00419	66 0f 2e c2	 ucomisd xmm0, xmm2
  0041d	f2 0f 11 45 d0	 movsd	 QWORD PTR tv1316[ebp], xmm0
  00422	9f		 lahf
  00423	f6 c4 44	 test	 ah, 68			; 00000044H
  00426	7b 70		 jnp	 SHORT $LN77@Find_Bull_

; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 

  00428	8b 45 e0	 mov	 eax, DWORD PTR _pHighLowPtData1$1$[ebp]
  0042b	0f 28 c6	 movaps	 xmm0, xmm6
  0042e	f2 0f 10 48 20	 movsd	 xmm1, QWORD PTR [eax+32]
  00433	8b 45 fc	 mov	 eax, DWORD PTR tv1382[ebp]
  00436	66 0f 6e d0	 movd	 xmm2, eax
  0043a	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0043e	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00442	f2 0f 11 45 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm0
  00447	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  0044c	f2 0f 10 55 e8	 movsd	 xmm2, QWORD PTR _dXNeckPt1$7[ebp]
  00451	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00455	f2 0f 58 d0	 addsd	 xmm2, xmm0
  00459	0f 28 c2	 movaps	 xmm0, xmm2
  0045c	f2 0f 11 55 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm2
  00461	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00465	0f 28 f8	 movaps	 xmm7, xmm0
  00468	f2 0f 11 45 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm0
  0046d	f2 0f 5e 7d d0	 divsd	 xmm7, QWORD PTR tv1316[ebp]
  00472	66 0f 6e c0	 movd	 xmm0, eax

; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;

  00476	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0047a	0f 28 d7	 movaps	 xmm2, xmm7
  0047d	f2 0f 11 7d e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm7
  00482	f2 0f 5c d0	 subsd	 xmm2, xmm0
  00486	f2 0f 59 d6	 mulsd	 xmm2, xmm6
  0048a	f2 0f 58 d1	 addsd	 xmm2, xmm1
  0048e	f2 0f 11 55 80	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm2
  00493	0f 57 d2	 xorps	 xmm2, xmm2
  00496	eb 05		 jmp	 SHORT $LN70@Find_Bull_
$LN77@Find_Bull_:

; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)

  00498	f2 0f 10 7d e8	 movsd	 xmm7, QWORD PTR _dXNeckPt1$7[ebp]
$LN70@Find_Bull_:

; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)

  0049d	0f 28 f5	 movaps	 xmm6, xmm5
  004a0	f2 0f 5c f4	 subsd	 xmm6, xmm4
  004a4	66 0f 2e f2	 ucomisd xmm6, xmm2
  004a8	9f		 lahf
  004a9	f6 c4 44	 test	 ah, 68			; 00000044H
  004ac	7b 4e		 jnp	 SHORT $LN76@Find_Bull_

; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  004ae	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  004b3	0f 57 c0	 xorps	 xmm0, xmm0
  004b6	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  004bb	f2 0f 5c 57 20	 subsd	 xmm2, QWORD PTR [edi+32]
  004c0	f2 0f 59 c5	 mulsd	 xmm0, xmm5
  004c4	f2 0f 58 d0	 addsd	 xmm2, xmm0
  004c8	0f 28 c4	 movaps	 xmm0, xmm4
  004cb	f2 0f 59 45 c8	 mulsd	 xmm0, QWORD PTR tv1351[ebp]
  004d0	f2 0f 5c d0	 subsd	 xmm2, xmm0
  004d4	0f 57 c0	 xorps	 xmm0, xmm0

; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  004d7	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  004dc	f2 0f 5e d6	 divsd	 xmm2, xmm6
  004e0	0f 28 f2	 movaps	 xmm6, xmm2
  004e3	f2 0f 11 55 90	 movsd	 QWORD PTR _dXNeckPt2$4[ebp], xmm2
  004e8	f2 0f 5c f0	 subsd	 xmm6, xmm0
  004ec	f2 0f 59 f5	 mulsd	 xmm6, xmm5
  004f0	f2 0f 58 77 20	 addsd	 xmm6, QWORD PTR [edi+32]
  004f5	f2 0f 11 75 88	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm6
  004fa	eb 0a		 jmp	 SHORT $LN17@Find_Bull_
$LN76@Find_Bull_:

; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)

  004fc	f2 0f 10 55 90	 movsd	 xmm2, QWORD PTR _dXNeckPt2$4[ebp]
  00501	f2 0f 10 75 88	 movsd	 xmm6, QWORD PTR _dYNeckPt2$3[ebp]
$LN17@Find_Bull_:

; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,

  00506	66 0f 6e 4a 08	 movd	 xmm1, DWORD PTR [edx+8]
  0050b	83 ec 70	 sub	 esp, 112		; 00000070H
  0050e	0f 28 c7	 movaps	 xmm0, xmm7
  00511	8b 45 fc	 mov	 eax, DWORD PTR tv1382[ebp]
  00514	f2 0f 5c 45 c8	 subsd	 xmm0, QWORD PTR tv1351[ebp]
  00519	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  0051d	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  00521	f2 0f 58 41 28	 addsd	 xmm0, QWORD PTR [ecx+40]
  00526	8b 4d c4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00529	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0052f	0f 28 c7	 movaps	 xmm0, xmm7
  00532	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00536	f2 0f 10 4d d8	 movsd	 xmm1, QWORD PTR _dXCrossPt1$6[ebp]
  0053b	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  0053f	f2 0f 10 9d 78
	ff ff ff	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  00547	f2 0f 58 42 20	 addsd	 xmm0, QWORD PTR [edx+32]
  0054c	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00552	f2 0f 10 45 80	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00557	f2 0f 11 74 24
	58		 movsd	 QWORD PTR [esp+88], xmm6
  0055d	f2 0f 11 54 24
	50		 movsd	 QWORD PTR [esp+80], xmm2
  00563	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  00569	f2 0f 10 45 b0	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0056e	f2 0f 11 7c 24
	40		 movsd	 QWORD PTR [esp+64], xmm7
  00574	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  0057a	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  00580	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  00586	f2 0f 10 45 b8	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  0058b	66 0f 6e d0	 movd	 xmm2, eax
  0058f	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00593	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  00599	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  0059f	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005a5	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005ab	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005b0	ff 75 f0	 push	 DWORD PTR tv1379[ebp]
  005b3	50		 push	 eax
  005b4	68 ab 0f 00 00	 push	 4011			; 00000fabH
  005b9	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005bc	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005c1	0f 57 d2	 xorps	 xmm2, xmm2
$LN83@Find_Bull_:

; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005c4	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
$LN2@Find_Bull_:
  005cc	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005cf	46		 inc	 esi
  005d0	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005d3	3b 45 c0	 cmp	 eax, DWORD PTR $T5[ebp]
  005d6	0f 8e 54 fa ff
	ff		 jle	 $LL4@Find_Bull_
  005dc	5f		 pop	 edi
  005dd	5e		 pop	 esi
$LN3@Find_Bull_:

; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;

  005de	b8 01 00 00 00	 mov	 eax, 1

; 1443 : }

  005e3	8b e5		 mov	 esp, ebp
  005e5	5d		 pop	 ebp
  005e6	c2 08 00	 ret	 8
$LN20@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005e9	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN84@Find_Bull_:
  005ee	cc		 int	 3
?Find_Bull_Wedge@CWavePattern@@QAEHPAVCObject@@0@Z ENDP	; CWavePattern::Find_Bull_Wedge
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bearish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt1$1 = -100					; size = 8
_dXNeckPt1$2 = -92					; size = 8
_dYDrawPt2_2$1$ = -84					; size = 8
_dYPos1$1$ = -84					; size = 8
_dYDrawPt2_1$1$ = -76					; size = 8
tv1440 = -76						; size = 8
_dYDrawPt1_2$1$ = -68					; size = 8
tv1493 = -68						; size = 8
tv1491 = -60						; size = 8
tv1460 = -52						; size = 8
$T3 = -44						; size = 4
_this$1$ = -40						; size = 4
tv1511 = -36						; size = 4
tv1512 = -32						; size = 4
_dYDrawPt1_1$1$ = -28					; size = 8
tv1443 = -28						; size = 8
_pHighLowPtData4$1$ = -24				; size = 4
_pHighLowPtData5$1$ = -20				; size = 4
tv1513 = -20						; size = 4
tv1514 = -16						; size = 4
_pHighLowPtData3$1$ = -12				; size = 4
_pHighLowPtData2$1$ = -8				; size = 4
_pHighLowPtData6$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bearish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bearish_WideTriangles, COMDAT
; _this$ = ecx

; 1219 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H

; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d d8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 07	 sub	 eax, 7
  00012	89 45 d4	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 bb 05 00
	00		 js	 $LN3@Find_Beari

; 1220 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1221 : 
; 1222 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1223 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1224 : 	int		nPointCnt;
; 1225 : 	int		nMininumData = 7;	// Bearish Wide Triangles    
; 1226 : 
; 1227 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1228 : 	
; 1229 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
  00022	0f 57 c9	 xorps	 xmm1, xmm1
$LL4@Find_Beari:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00025	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00028	85 c9		 test	 ecx, ecx
  0002a	0f 88 b1 05 00
	00		 js	 $LN20@Find_Beari
  00030	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00033	3b c8		 cmp	 ecx, eax
  00035	0f 8d a6 05 00
	00		 jge	 $LN20@Find_Beari

; 289  : 		return m_pData[nIndex];

  0003b	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1233 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003e	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  00042	85 d2		 test	 edx, edx
  00044	0f 84 7a 05 00
	00		 je	 $LN2@Find_Beari

; 1234 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  0004a	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  00051	0f 85 6d 05 00
	00		 jne	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00057	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  0005a	85 ff		 test	 edi, edi
  0005c	0f 88 7f 05 00
	00		 js	 $LN20@Find_Beari
  00062	3b f8		 cmp	 edi, eax
  00064	0f 8d 77 05 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1236 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  0006a	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0006e	89 7d f8	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  00071	85 ff		 test	 edi, edi
  00073	0f 84 4b 05 00
	00		 je	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00079	85 f6		 test	 esi, esi
  0007b	0f 88 60 05 00
	00		 js	 $LN20@Find_Beari
  00081	3b f0		 cmp	 esi, eax
  00083	0f 8d 58 05 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1237 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00089	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0008c	89 7d f4	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0008f	85 ff		 test	 edi, edi
  00091	0f 84 2d 05 00
	00		 je	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00097	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  0009a	85 ff		 test	 edi, edi
  0009c	0f 88 3f 05 00
	00		 js	 $LN20@Find_Beari
  000a2	3b f8		 cmp	 edi, eax
  000a4	0f 8d 37 05 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1238 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000aa	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000ae	89 7d e8	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000b1	85 ff		 test	 edi, edi
  000b3	0f 84 0b 05 00
	00		 je	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000b9	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000bc	85 ff		 test	 edi, edi
  000be	0f 88 1d 05 00
	00		 js	 $LN20@Find_Beari
  000c4	3b f8		 cmp	 edi, eax
  000c6	0f 8d 15 05 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1239 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000cc	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000d0	89 7d ec	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000d3	85 ff		 test	 edi, edi
  000d5	0f 84 e9 04 00
	00		 je	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000db	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000de	85 ff		 test	 edi, edi
  000e0	0f 88 fb 04 00
	00		 js	 $LN20@Find_Beari
  000e6	3b f8		 cmp	 edi, eax
  000e8	0f 8d f3 04 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1240 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000ee	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  000f2	89 7d fc	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edi
  000f5	85 ff		 test	 edi, edi
  000f7	0f 84 c7 04 00
	00		 je	 $LN2@Find_Beari
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000fd	8d 7e 04	 lea	 edi, DWORD PTR [esi+4]
  00100	85 ff		 test	 edi, edi
  00102	0f 88 d9 04 00
	00		 js	 $LN20@Find_Beari
  00108	3b f8		 cmp	 edi, eax
  0010a	0f 8d d1 04 00
	00		 jge	 $LN20@Find_Beari
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1241 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;

  00110	8b 7c b1 10	 mov	 edi, DWORD PTR [ecx+esi*4+16]
  00114	85 ff		 test	 edi, edi
  00116	0f 84 a8 04 00
	00		 je	 $LN2@Find_Beari

; 1242 : 
; 1243 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))

  0011c	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  0011f	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  00124	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  00129	66 0f 2f c7	 comisd	 xmm0, xmm7
  0012d	0f 86 91 04 00
	00		 jbe	 $LN2@Find_Beari
  00133	8b 4d ec	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00136	f2 0f 10 57 20	 movsd	 xmm2, QWORD PTR [edi+32]
  0013b	f2 0f 10 59 20	 movsd	 xmm3, QWORD PTR [ecx+32]
  00140	66 0f 2f d3	 comisd	 xmm2, xmm3
  00144	0f 86 7a 04 00
	00		 jbe	 $LN2@Find_Beari

; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0014a	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  0014d	0f 28 e9	 movaps	 xmm5, xmm1

; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00150	89 45 f0	 mov	 DWORD PTR tv1514[ebp], eax
  00153	66 0f 6e f0	 movd	 xmm6, eax
  00157	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0015a	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0015e	89 45 ec	 mov	 DWORD PTR tv1513[ebp], eax
  00161	66 0f 6e e0	 movd	 xmm4, eax
  00165	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00169	0f 28 d6	 movaps	 xmm2, xmm6
  0016c	f2 0f 5c d4	 subsd	 xmm2, xmm4
  00170	66 0f 2e d1	 ucomisd xmm2, xmm1
  00174	9f		 lahf
  00175	f6 c4 44	 test	 ah, 68			; 00000044H
  00178	7b 21		 jnp	 SHORT $LN42@Find_Beari
  0017a	66 0f 2e c1	 ucomisd xmm0, xmm1
  0017e	9f		 lahf
  0017f	f6 c4 44	 test	 ah, 68			; 00000044H
  00182	7b 17		 jnp	 SHORT $LN42@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00184	0f 28 ef	 movaps	 xmm5, xmm7
  00187	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0018b	f2 0f 5e e8	 divsd	 xmm5, xmm0
  0018f	f2 0f 5e ea	 divsd	 xmm5, xmm2
  00193	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN42@Find_Beari:
  0019b	66 0f 6e 61 08	 movd	 xmm4, DWORD PTR [ecx+8]

; 2456 : 	double	dGradient=0;

  001a0	0f 28 d1	 movaps	 xmm2, xmm1

; 1246 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1247 : 			
; 1248 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  001a3	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001a7	0f 28 c4	 movaps	 xmm0, xmm4
  001aa	f2 0f 5c c6	 subsd	 xmm0, xmm6
  001ae	66 0f 2e c1	 ucomisd xmm0, xmm1
  001b2	f2 0f 11 45 b4	 movsd	 QWORD PTR tv1440[ebp], xmm0
  001b7	9f		 lahf
  001b8	f6 c4 44	 test	 ah, 68			; 00000044H
  001bb	7b 21		 jnp	 SHORT $LN45@Find_Beari
  001bd	66 0f 2e f9	 ucomisd xmm7, xmm1
  001c1	9f		 lahf
  001c2	f6 c4 44	 test	 ah, 68			; 00000044H
  001c5	7b 17		 jnp	 SHORT $LN45@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001c7	0f 28 d3	 movaps	 xmm2, xmm3
  001ca	f2 0f 5c d7	 subsd	 xmm2, xmm7
  001ce	f2 0f 5e d7	 divsd	 xmm2, xmm7
  001d2	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001d6	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
$LN45@Find_Beari:
  001de	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  001e3	0f 28 f1	 movaps	 xmm6, xmm1

; 1249 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1250 : 
; 1251 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 

  001e6	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ea	f2 0f 5c c4	 subsd	 xmm0, xmm4
  001ee	66 0f 2e c1	 ucomisd xmm0, xmm1
  001f2	9f		 lahf
  001f3	f6 c4 44	 test	 ah, 68			; 00000044H
  001f6	7b 23		 jnp	 SHORT $LN48@Find_Beari
  001f8	66 0f 2e d9	 ucomisd xmm3, xmm1
  001fc	9f		 lahf
  001fd	f6 c4 44	 test	 ah, 68			; 00000044H
  00200	7b 19		 jnp	 SHORT $LN48@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00202	f2 0f 10 77 20	 movsd	 xmm6, QWORD PTR [edi+32]
  00207	f2 0f 5c f3	 subsd	 xmm6, xmm3
  0020b	f2 0f 5e f3	 divsd	 xmm6, xmm3
  0020f	f2 0f 5e f0	 divsd	 xmm6, xmm0
  00213	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN48@Find_Beari:

; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  0021b	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0021e	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00221	89 55 dc	 mov	 DWORD PTR tv1511[ebp], edx
  00224	f2 0f 10 58 28	 movsd	 xmm3, QWORD PTR [eax+40]
  00229	f2 0f 11 5d ac	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm3
  0022e	66 0f 6e c2	 movd	 xmm0, edx
  00232	8b 55 e8	 mov	 edx, DWORD PTR _pHighLowPtData4$1$[ebp]
  00235	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00239	66 0f 6e 62 08	 movd	 xmm4, DWORD PTR [edx+8]
  0023e	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00242	f2 0f 11 45 c4	 movsd	 QWORD PTR tv1491[ebp], xmm0

; 2456 : 	double	dGradient=0;

  00247	0f 28 c1	 movaps	 xmm0, xmm1

; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  0024a	f2 0f 11 65 bc	 movsd	 QWORD PTR tv1493[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0024f	f2 0f 5c 65 c4	 subsd	 xmm4, QWORD PTR tv1491[ebp]
  00254	66 0f 2e e1	 ucomisd xmm4, xmm1
  00258	9f		 lahf
  00259	f6 c4 44	 test	 ah, 68			; 00000044H
  0025c	7b 23		 jnp	 SHORT $LN51@Find_Beari
  0025e	66 0f 2e d9	 ucomisd xmm3, xmm1
  00262	9f		 lahf
  00263	f6 c4 44	 test	 ah, 68			; 00000044H
  00266	7b 19		 jnp	 SHORT $LN51@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00268	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  0026d	f2 0f 5c c3	 subsd	 xmm0, xmm3
  00271	f2 0f 5e c3	 divsd	 xmm0, xmm3
  00275	f2 0f 5e c4	 divsd	 xmm0, xmm4
  00279	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4059000000000000
$LN51@Find_Beari:

; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00281	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  00284	0f 28 e1	 movaps	 xmm4, xmm1
  00287	66 0f 6e 58 08	 movd	 xmm3, DWORD PTR [eax+8]

; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0028c	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  00290	f2 0f 11 5d cc	 movsd	 QWORD PTR tv1460[ebp], xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00295	f2 0f 5c 5d bc	 subsd	 xmm3, QWORD PTR tv1493[ebp]
  0029a	66 0f 2e d9	 ucomisd xmm3, xmm1
  0029e	9f		 lahf
  0029f	f6 c4 44	 test	 ah, 68			; 00000044H
  002a2	7b 35		 jnp	 SHORT $LN79@Find_Beari

; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  002a4	f2 0f 10 7a 28	 movsd	 xmm7, QWORD PTR [edx+40]

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  002a9	8b 55 f4	 mov	 edx, DWORD PTR _pHighLowPtData3$1$[ebp]
  002ac	66 0f 2e f9	 ucomisd xmm7, xmm1
  002b0	9f		 lahf
  002b1	f6 c4 44	 test	 ah, 68			; 00000044H
  002b4	7b 26		 jnp	 SHORT $LN54@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  002b6	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  002b9	f2 0f 10 60 28	 movsd	 xmm4, QWORD PTR [eax+40]
  002be	8b 45 e8	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  002c1	f2 0f 5c 60 28	 subsd	 xmm4, QWORD PTR [eax+40]
  002c6	f2 0f 5e 60 28	 divsd	 xmm4, QWORD PTR [eax+40]
  002cb	f2 0f 5e e3	 divsd	 xmm4, xmm3
  002cf	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
  002d7	eb 03		 jmp	 SHORT $LN54@Find_Beari
$LN79@Find_Beari:

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  002d9	8b 55 f4	 mov	 edx, DWORD PTR _pHighLowPtData3$1$[ebp]
$LN54@Find_Beari:
  002dc	f2 0f 10 7d cc	 movsd	 xmm7, QWORD PTR tv1460[ebp]
  002e1	0f 28 d9	 movaps	 xmm3, xmm1
  002e4	f2 0f 5c 7d c4	 subsd	 xmm7, QWORD PTR tv1491[ebp]
  002e9	66 0f 2e f9	 ucomisd xmm7, xmm1
  002ed	f2 0f 11 7d e4	 movsd	 QWORD PTR tv1443[ebp], xmm7
  002f2	f2 0f 10 7a 20	 movsd	 xmm7, QWORD PTR [edx+32]
  002f7	9f		 lahf
  002f8	f6 c4 44	 test	 ah, 68			; 00000044H
  002fb	7b 3b		 jnp	 SHORT $LN81@Find_Beari
  002fd	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00300	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  00305	66 0f 2e f9	 ucomisd xmm7, xmm1
  00309	f2 0f 10 7a 20	 movsd	 xmm7, QWORD PTR [edx+32]
  0030e	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
  00311	9f		 lahf
  00312	f6 c4 44	 test	 ah, 68			; 00000044H
  00315	7b 24		 jnp	 SHORT $LN57@Find_Beari

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00317	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0031a	f2 0f 10 5a 28	 movsd	 xmm3, QWORD PTR [edx+40]
  0031f	f2 0f 5c 58 28	 subsd	 xmm3, QWORD PTR [eax+40]
  00324	f2 0f 5e 58 28	 divsd	 xmm3, QWORD PTR [eax+40]
  00329	f2 0f 5e 5d e4	 divsd	 xmm3, QWORD PTR tv1443[ebp]
  0032e	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@4059000000000000
  00336	eb 03		 jmp	 SHORT $LN57@Find_Beari
$LN81@Find_Beari:

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00338	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
$LN57@Find_Beari:

; 1258 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1259 : 
; 1260 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1261 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1262 : 
; 1263 : 			if ( dGradient4 < -0.3 && dGradient5 < -0.3 && (fabs(dGradient4-dGradient5) < 0.3) )

  0033b	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bfd3333333333333
  00343	66 0f 2f c8	 comisd	 xmm1, xmm0
  00347	0f 57 c9	 xorps	 xmm1, xmm1
  0034a	0f 86 74 02 00
	00		 jbe	 $LN2@Find_Beari
  00350	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@bfd3333333333333
  00358	66 0f 2f cc	 comisd	 xmm1, xmm4
  0035c	0f 57 c9	 xorps	 xmm1, xmm1
  0035f	0f 86 5f 02 00
	00		 jbe	 $LN2@Find_Beari
  00365	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00369	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __real@3fd3333333333333
  00371	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  00378	66 0f 2f e0	 comisd	 xmm4, xmm0
  0037c	0f 86 42 02 00
	00		 jbe	 $LN2@Find_Beari

; 1264 : 			{
; 1265 : 				if ( dGradient2 > 0.3 && (fabs(dGradient2)-fabs(dGradient6) < 0.3) )

  00382	66 0f 2f d4	 comisd	 xmm2, xmm4
  00386	0f 86 38 02 00
	00		 jbe	 $LN2@Find_Beari
  0038c	0f 54 1d 00 00
	00 00		 andps	 xmm3, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  00393	0f 28 c2	 movaps	 xmm0, xmm2
  00396	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0039d	f2 0f 5c c3	 subsd	 xmm0, xmm3
  003a1	66 0f 2f e0	 comisd	 xmm4, xmm0
  003a5	0f 86 19 02 00
	00		 jbe	 $LN2@Find_Beari

; 1266 : 				{
; 1267 : 					if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)

  003ab	66 0f 2f d5	 comisd	 xmm2, xmm5
  003af	0f 86 0f 02 00
	00		 jbe	 $LN2@Find_Beari
  003b5	66 0f 2f f2	 comisd	 xmm6, xmm2
  003b9	0f 86 05 02 00
	00		 jbe	 $LN2@Find_Beari

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003bf	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv1440[ebp]
  003c4	0f 57 d2	 xorps	 xmm2, xmm2
  003c7	66 0f 2e c1	 ucomisd xmm0, xmm1
  003cb	9f		 lahf
  003cc	f6 c4 44	 test	 ah, 68			; 00000044H
  003cf	7b 0d		 jnp	 SHORT $LN72@Find_Beari

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003d1	f2 0f 10 51 20	 movsd	 xmm2, QWORD PTR [ecx+32]
  003d6	f2 0f 5c d7	 subsd	 xmm2, xmm7
  003da	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN72@Find_Beari:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003de	f2 0f 10 45 e4	 movsd	 xmm0, QWORD PTR tv1443[ebp]
  003e3	0f 57 e4	 xorps	 xmm4, xmm4
  003e6	66 0f 2e c1	 ucomisd xmm0, xmm1
  003ea	9f		 lahf
  003eb	f6 c4 44	 test	 ah, 68			; 00000044H
  003ee	7b 17		 jnp	 SHORT $LN77@Find_Beari

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003f0	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  003f3	f2 0f 10 62 28	 movsd	 xmm4, QWORD PTR [edx+40]
  003f8	f2 0f 10 68 28	 movsd	 xmm5, QWORD PTR [eax+40]
  003fd	f2 0f 5c e5	 subsd	 xmm4, xmm5
  00401	f2 0f 5e e0	 divsd	 xmm4, xmm0
  00405	eb 05		 jmp	 SHORT $LN75@Find_Beari
$LN77@Find_Beari:

; 1325 : 
; 1326 : 
; 1327 : // **********************************************
; 1328 : // Bull Wedge					()
; 1329 : // **********************************************
; 1330 : BOOL CWavePattern::Find_Bull_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1331 : {
; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1344 : 	{
; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1347 : 
; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))
; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;
; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)
; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)
; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)
; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;
; 1443 : }
; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00407	f2 0f 10 6d ac	 movsd	 xmm5, QWORD PTR _dYPos1$1$[ebp]
$LN75@Find_Beari:
  0040c	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]
  00411	0f 57 db	 xorps	 xmm3, xmm3
  00414	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00418	f2 0f 5c 45 cc	 subsd	 xmm0, QWORD PTR tv1460[ebp]
  0041d	66 0f 2e c1	 ucomisd xmm0, xmm1
  00421	9f		 lahf
  00422	f6 c4 44	 test	 ah, 68			; 00000044H
  00425	7b 0e		 jnp	 SHORT $LN76@Find_Beari

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00427	f2 0f 10 5f 20	 movsd	 xmm3, QWORD PTR [edi+32]
  0042c	f2 0f 5c 5a 28	 subsd	 xmm3, QWORD PTR [edx+40]
  00431	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN76@Find_Beari:

; 1268 : 					{
; 1269 : 						double dGradA, dGradB, dGradA_L;
; 1270 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1271 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1272 : 						double dXNeckPt1, dYNeckPt1;
; 1273 : 						double dXNeckPt2, dYNeckPt2;
; 1274 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1275 : 
; 1276 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1277 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1278 : 						
; 1279 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1280 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1281 : 
; 1282 : 						dGradA_L = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 1283 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 1284 : 
; 1285 : 						// First Draw Data
; 1286 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00435	8b 45 ec	 mov	 eax, DWORD PTR tv1513[ebp]

; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)

  00438	0f 28 f2	 movaps	 xmm6, xmm2
  0043b	2b 45 f0	 sub	 eax, DWORD PTR tv1514[ebp]
  0043e	f2 0f 5c f3	 subsd	 xmm6, xmm3
  00442	8b 7f 08	 mov	 edi, DWORD PTR [edi+8]
  00445	66 0f 6e c0	 movd	 xmm0, eax
  00449	8b c7		 mov	 eax, edi
  0044b	2b 45 f0	 sub	 eax, DWORD PTR tv1514[ebp]
  0044e	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00452	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00456	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0045a	f2 0f 11 45 e4	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  0045f	66 0f 6e c0	 movd	 xmm0, eax
  00463	8b 45 ec	 mov	 eax, DWORD PTR tv1513[ebp]
  00466	2b 45 dc	 sub	 eax, DWORD PTR tv1511[ebp]
  00469	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0046d	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00471	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00475	f2 0f 11 45 bc	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  0047a	66 0f 6e c0	 movd	 xmm0, eax
  0047e	8b c7		 mov	 eax, edi
  00480	2b 45 dc	 sub	 eax, DWORD PTR tv1511[ebp]
  00483	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00487	66 0f 2e f1	 ucomisd xmm6, xmm1
  0048b	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0048f	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00493	f2 0f 11 45 b4	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  00498	66 0f 6e c0	 movd	 xmm0, eax
  0049c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  004a0	9f		 lahf
  004a1	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  004a5	f6 c4 44	 test	 ah, 68			; 00000044H
  004a8	8b 45 f0	 mov	 eax, DWORD PTR tv1514[ebp]
  004ab	f2 0f 58 c5	 addsd	 xmm0, xmm5
  004af	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm0
  004b4	7b 4b		 jnp	 SHORT $LN78@Find_Beari

; 1295 : 						{
; 1296 : 							dXNeckPt1 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 

  004b6	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  004bb	0f 57 c0	 xorps	 xmm0, xmm0
  004be	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  004c2	f2 0f 5c cf	 subsd	 xmm1, xmm7
  004c6	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  004ca	f2 0f 58 c8	 addsd	 xmm1, xmm0
  004ce	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR tv1460[ebp]
  004d3	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  004d7	f2 0f 5c c8	 subsd	 xmm1, xmm0
  004db	0f 57 c0	 xorps	 xmm0, xmm0

; 1297 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradA_L*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1298 : 							dYNeckPt1 = dGradA*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  004de	f2 0f 2a c0	 cvtsi2sd xmm0, eax
  004e2	f2 0f 5e ce	 divsd	 xmm1, xmm6
  004e6	0f 28 d9	 movaps	 xmm3, xmm1
  004e9	f2 0f 11 4d a4	 movsd	 QWORD PTR _dXNeckPt1$2[ebp], xmm1
  004ee	f2 0f 5c d8	 subsd	 xmm3, xmm0
  004f2	f2 0f 59 da	 mulsd	 xmm3, xmm2
  004f6	f2 0f 58 df	 addsd	 xmm3, xmm7
  004fa	f2 0f 11 5d 9c	 movsd	 QWORD PTR _dYNeckPt1$1[ebp], xmm3
  004ff	eb 0a		 jmp	 SHORT $LN17@Find_Beari
$LN78@Find_Beari:

; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)

  00501	f2 0f 10 4d a4	 movsd	 xmm1, QWORD PTR _dXNeckPt1$2[ebp]
  00506	f2 0f 10 5d 9c	 movsd	 xmm3, QWORD PTR _dYNeckPt1$1[ebp]
$LN17@Find_Beari:

; 1299 : 						}
; 1300 : 						// Senond Neck Data
; 1301 : 						dXNeckPt2 = dXNeckPt1;
; 1302 : 						dYNeckPt2 = dYNeckPt1;
; 1303 : 
; 1304 : 						// Neck Base Data1
; 1305 : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1306 : 						// Neck Base Data2
; 1307 : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  0050b	0f 28 c1	 movaps	 xmm0, xmm1

; 1308 : 
; 1309 : 
; 1310 : 						AddNewWavePatternData(	pObjWavePatternData,

  0050e	8b 4d d8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00511	f2 0f 5c 45 c4	 subsd	 xmm0, QWORD PTR tv1491[ebp]
  00516	83 ec 70	 sub	 esp, 112		; 00000070H
  00519	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0051d	66 0f 6e e0	 movd	 xmm4, eax
  00521	8b 45 ec	 mov	 eax, DWORD PTR tv1513[ebp]
  00524	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00528	f2 0f 58 c5	 addsd	 xmm0, xmm5
  0052c	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00532	0f 28 c1	 movaps	 xmm0, xmm1
  00535	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00539	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  0053d	66 0f 6e d0	 movd	 xmm2, eax
  00541	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00545	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00549	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  0054f	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  00554	f2 0f 11 5c 24
	58		 movsd	 QWORD PTR [esp+88], xmm3
  0055a	f2 0f 11 4c 24
	50		 movsd	 QWORD PTR [esp+80], xmm1
  00560	f2 0f 11 5c 24
	48		 movsd	 QWORD PTR [esp+72], xmm3
  00566	f2 0f 11 4c 24
	40		 movsd	 QWORD PTR [esp+64], xmm1
  0056c	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  00572	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00577	66 0f 6e cf	 movd	 xmm1, edi
  0057b	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  0057f	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  00585	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  0058b	f2 0f 10 45 bc	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00590	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  00596	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  0059c	f2 0f 10 45 e4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005a1	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005a7	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005ad	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005b2	57		 push	 edi
  005b3	50		 push	 eax
  005b4	68 aa 0f 00 00	 push	 4010			; 00000faaH
  005b9	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005bc	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005c1	0f 57 c9	 xorps	 xmm1, xmm1
$LN2@Find_Beari:

; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005c4	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005c7	46		 inc	 esi
  005c8	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005cb	3b 45 d4	 cmp	 eax, DWORD PTR $T3[ebp]
  005ce	0f 8e 51 fa ff
	ff		 jle	 $LL4@Find_Beari
  005d4	5f		 pop	 edi
  005d5	5e		 pop	 esi
$LN3@Find_Beari:

; 1311 : 												PTN_BEARISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1312 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1313 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1314 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1315 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1316 : 
; 1317 : 					}
; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 
; 1323 : 	return TRUE;

  005d6	b8 01 00 00 00	 mov	 eax, 1

; 1324 : }

  005db	8b e5		 mov	 esp, ebp
  005dd	5d		 pop	 ebp
  005de	c2 08 00	 ret	 8
$LN20@Find_Beari:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005e1	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN82@Find_Beari:
  005e6	cc		 int	 3
?Find_Bearish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bearish_WideTriangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bullish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt1$1 = -108					; size = 8
_dYDrawPt2_2$1$ = -100					; size = 8
tv1414 = -100						; size = 8
_dYDrawPt2_1$1$ = -92					; size = 8
tv1465 = -92						; size = 8
_dYPos1$1$ = -84					; size = 8
tv1456 = -76						; size = 8
tv1463 = -68						; size = 8
_dXNeckPt1$2 = -60					; size = 8
$T3 = -52						; size = 4
_this$1$ = -48						; size = 4
tv1487 = -44						; size = 4
_dYDrawPt1_2$1$ = -40					; size = 8
tv1485 = -36						; size = 4
_dYDrawPt1_1$1$ = -32					; size = 8
tv1484 = -28						; size = 4
tv1411 = -24						; size = 8
_pHighLowPtData4$1$ = -20				; size = 4
_pHighLowPtData5$1$ = -16				; size = 4
tv1486 = -16						; size = 4
_pHighLowPtData2$1$ = -12				; size = 4
_pHighLowPtData3$1$ = -8				; size = 4
_pHighLowPtData6$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bullish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bullish_WideTriangles, COMDAT
; _this$ = ecx

; 1108 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 6c	 sub	 esp, 108		; 0000006cH

; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d d0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 07	 sub	 eax, 7
  00012	89 45 cc	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 db 05 00
	00		 js	 $LN3@Find_Bulli

; 1109 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1110 : 
; 1111 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1112 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1113 : 	int		nPointCnt;
; 1114 : 	int		nMininumData = 7;	// Bullish Wide Triangles    
; 1115 : 
; 1116 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1117 : 	
; 1118 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00023	0f 57 c9	 xorps	 xmm1, xmm1
  00026	56		 push	 esi
  00027	57		 push	 edi
  00028	be 02 00 00 00	 mov	 esi, 2
  0002d	0f 1f 00	 npad	 3
$LL4@Find_Bulli:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 c6 05 00
	00		 js	 $LN20@Find_Bulli
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d bb 05 00
	00		 jge	 $LN20@Find_Bulli

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1122 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	85 d2		 test	 edx, edx
  0004f	0f 84 8f 05 00
	00		 je	 $LN2@Find_Bulli

; 1123 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00055	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005c	0f 85 82 05 00
	00		 jne	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00062	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00065	85 ff		 test	 edi, edi
  00067	0f 88 94 05 00
	00		 js	 $LN20@Find_Bulli
  0006d	3b f8		 cmp	 edi, eax
  0006f	0f 8d 8c 05 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1125 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00075	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  00079	89 7d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007c	85 ff		 test	 edi, edi
  0007e	0f 84 60 05 00
	00		 je	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00084	85 f6		 test	 esi, esi
  00086	0f 88 75 05 00
	00		 js	 $LN20@Find_Bulli
  0008c	3b f0		 cmp	 esi, eax
  0008e	0f 8d 6d 05 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1126 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00094	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  00097	89 7d f8	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0009a	85 ff		 test	 edi, edi
  0009c	0f 84 42 05 00
	00		 je	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a5	85 ff		 test	 edi, edi
  000a7	0f 88 54 05 00
	00		 js	 $LN20@Find_Bulli
  000ad	3b f8		 cmp	 edi, eax
  000af	0f 8d 4c 05 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1127 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b5	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b9	89 7d ec	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bc	85 ff		 test	 edi, edi
  000be	0f 84 20 05 00
	00		 je	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c4	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c7	85 ff		 test	 edi, edi
  000c9	0f 88 32 05 00
	00		 js	 $LN20@Find_Bulli
  000cf	3b f8		 cmp	 edi, eax
  000d1	0f 8d 2a 05 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1128 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d7	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000db	89 7d f0	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000de	85 ff		 test	 edi, edi
  000e0	0f 84 fe 04 00
	00		 je	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e6	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e9	85 ff		 test	 edi, edi
  000eb	0f 88 10 05 00
	00		 js	 $LN20@Find_Bulli
  000f1	3b f8		 cmp	 edi, eax
  000f3	0f 8d 08 05 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1129 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f9	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  000fd	89 7d fc	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edi
  00100	85 ff		 test	 edi, edi
  00102	0f 84 dc 04 00
	00		 je	 $LN2@Find_Bulli
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00108	8d 7e 04	 lea	 edi, DWORD PTR [esi+4]
  0010b	85 ff		 test	 edi, edi
  0010d	0f 88 ee 04 00
	00		 js	 $LN20@Find_Bulli
  00113	3b f8		 cmp	 edi, eax
  00115	0f 8d e6 04 00
	00		 jge	 $LN20@Find_Bulli
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1130 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;

  0011b	8b 7c b1 10	 mov	 edi, DWORD PTR [ecx+esi*4+16]
  0011f	85 ff		 test	 edi, edi
  00121	0f 84 bd 04 00
	00		 je	 $LN2@Find_Bulli

; 1131 : 
; 1132 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))

  00127	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  0012a	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  0012f	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  00134	66 0f 2f f8	 comisd	 xmm7, xmm0
  00138	0f 86 a6 04 00
	00		 jbe	 $LN2@Find_Bulli
  0013e	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00141	f2 0f 10 59 28	 movsd	 xmm3, QWORD PTR [ecx+40]
  00146	66 0f 2f 5f 28	 comisd	 xmm3, QWORD PTR [edi+40]
  0014b	0f 86 93 04 00
	00		 jbe	 $LN2@Find_Bulli

; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00151	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  00154	0f 28 e9	 movaps	 xmm5, xmm1

; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00157	89 45 d4	 mov	 DWORD PTR tv1487[ebp], eax
  0015a	66 0f 6e d0	 movd	 xmm2, eax
  0015e	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00161	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00165	89 45 f0	 mov	 DWORD PTR tv1486[ebp], eax
  00168	66 0f 6e e0	 movd	 xmm4, eax
  0016c	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00170	f2 0f 11 55 b4	 movsd	 QWORD PTR tv1456[ebp], xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00175	f2 0f 5c d4	 subsd	 xmm2, xmm4
  00179	66 0f 2e d1	 ucomisd xmm2, xmm1
  0017d	9f		 lahf
  0017e	f6 c4 44	 test	 ah, 68			; 00000044H
  00181	7b 1d		 jnp	 SHORT $LN42@Find_Bulli
  00183	66 0f 2e c1	 ucomisd xmm0, xmm1
  00187	9f		 lahf
  00188	f6 c4 44	 test	 ah, 68			; 00000044H
  0018b	7b 13		 jnp	 SHORT $LN42@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0018d	0f 28 ef	 movaps	 xmm5, xmm7
  00190	f2 0f 5c e8	 subsd	 xmm5, xmm0
  00194	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00198	f2 0f 5e ea	 divsd	 xmm5, xmm2
  0019c	f2 0f 59 ee	 mulsd	 xmm5, xmm6
$LN42@Find_Bulli:
  001a0	66 0f 6e 61 08	 movd	 xmm4, DWORD PTR [ecx+8]

; 2456 : 	double	dGradient=0;

  001a5	0f 28 d1	 movaps	 xmm2, xmm1

; 1135 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1136 : 			
; 1137 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  001a8	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ac	0f 28 c4	 movaps	 xmm0, xmm4
  001af	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR tv1456[ebp]
  001b4	66 0f 2e c1	 ucomisd xmm0, xmm1
  001b8	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1414[ebp], xmm0
  001bd	9f		 lahf
  001be	f6 c4 44	 test	 ah, 68			; 00000044H
  001c1	7b 1d		 jnp	 SHORT $LN45@Find_Bulli
  001c3	66 0f 2e f9	 ucomisd xmm7, xmm1
  001c7	9f		 lahf
  001c8	f6 c4 44	 test	 ah, 68			; 00000044H
  001cb	7b 13		 jnp	 SHORT $LN45@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001cd	0f 28 d3	 movaps	 xmm2, xmm3
  001d0	f2 0f 5c d7	 subsd	 xmm2, xmm7
  001d4	f2 0f 5e d7	 divsd	 xmm2, xmm7
  001d8	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001dc	f2 0f 59 d6	 mulsd	 xmm2, xmm6
$LN45@Find_Bulli:
  001e0	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  001e5	0f 28 f1	 movaps	 xmm6, xmm1

; 1138 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1139 : 
; 1140 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 

  001e8	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ec	f2 0f 5c c4	 subsd	 xmm0, xmm4
  001f0	66 0f 2e c1	 ucomisd xmm0, xmm1
  001f4	9f		 lahf
  001f5	f6 c4 44	 test	 ah, 68			; 00000044H
  001f8	7b 23		 jnp	 SHORT $LN48@Find_Bulli
  001fa	66 0f 2e d9	 ucomisd xmm3, xmm1
  001fe	9f		 lahf
  001ff	f6 c4 44	 test	 ah, 68			; 00000044H
  00202	7b 19		 jnp	 SHORT $LN48@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00204	f2 0f 10 77 28	 movsd	 xmm6, QWORD PTR [edi+40]
  00209	f2 0f 5c f3	 subsd	 xmm6, xmm3
  0020d	f2 0f 5e f3	 divsd	 xmm6, xmm3
  00211	f2 0f 5e f0	 divsd	 xmm6, xmm0
  00215	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN48@Find_Bulli:

; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  0021d	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00220	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00223	89 55 e4	 mov	 DWORD PTR tv1484[ebp], edx
  00226	f2 0f 10 58 20	 movsd	 xmm3, QWORD PTR [eax+32]
  0022b	f2 0f 11 5d ac	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm3
  00230	66 0f 6e c2	 movd	 xmm0, edx
  00234	8b 55 ec	 mov	 edx, DWORD PTR _pHighLowPtData4$1$[ebp]
  00237	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0023b	66 0f 6e 62 08	 movd	 xmm4, DWORD PTR [edx+8]
  00240	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00244	f2 0f 11 45 bc	 movsd	 QWORD PTR tv1463[ebp], xmm0

; 2456 : 	double	dGradient=0;

  00249	0f 28 c1	 movaps	 xmm0, xmm1

; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  0024c	f2 0f 11 65 a4	 movsd	 QWORD PTR tv1465[ebp], xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00251	f2 0f 5c 65 bc	 subsd	 xmm4, QWORD PTR tv1463[ebp]
  00256	66 0f 2e e1	 ucomisd xmm4, xmm1
  0025a	9f		 lahf
  0025b	f6 c4 44	 test	 ah, 68			; 00000044H
  0025e	7b 23		 jnp	 SHORT $LN51@Find_Bulli
  00260	66 0f 2e d9	 ucomisd xmm3, xmm1
  00264	9f		 lahf
  00265	f6 c4 44	 test	 ah, 68			; 00000044H
  00268	7b 19		 jnp	 SHORT $LN51@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0026a	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  0026f	f2 0f 5c c3	 subsd	 xmm0, xmm3
  00273	f2 0f 5e c3	 divsd	 xmm0, xmm3
  00277	f2 0f 5e c4	 divsd	 xmm0, xmm4
  0027b	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@4059000000000000
$LN51@Find_Bulli:

; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00283	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]

; 2456 : 	double	dGradient=0;

  00286	0f 28 e1	 movaps	 xmm4, xmm1
  00289	66 0f 6e 58 08	 movd	 xmm3, DWORD PTR [eax+8]

; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0028e	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00292	f2 0f 5c 5d a4	 subsd	 xmm3, QWORD PTR tv1465[ebp]
  00297	66 0f 2e d9	 ucomisd xmm3, xmm1
  0029b	9f		 lahf
  0029c	f6 c4 44	 test	 ah, 68			; 00000044H
  0029f	7b 35		 jnp	 SHORT $LN86@Find_Bulli

; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  002a1	f2 0f 10 7a 20	 movsd	 xmm7, QWORD PTR [edx+32]

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  002a6	8b 55 f8	 mov	 edx, DWORD PTR _pHighLowPtData3$1$[ebp]
  002a9	66 0f 2e f9	 ucomisd xmm7, xmm1
  002ad	9f		 lahf
  002ae	f6 c4 44	 test	 ah, 68			; 00000044H
  002b1	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
  002b4	7b 26		 jnp	 SHORT $LN54@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  002b6	8b 55 ec	 mov	 edx, DWORD PTR _pHighLowPtData4$1$[ebp]
  002b9	f2 0f 10 60 20	 movsd	 xmm4, QWORD PTR [eax+32]
  002be	f2 0f 5c 62 20	 subsd	 xmm4, QWORD PTR [edx+32]
  002c3	f2 0f 5e 62 20	 divsd	 xmm4, QWORD PTR [edx+32]
  002c8	f2 0f 5e e3	 divsd	 xmm4, xmm3
  002cc	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
  002d4	eb 03		 jmp	 SHORT $LN91@Find_Bulli
$LN86@Find_Bulli:

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  002d6	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData6$1$[ebp]
$LN91@Find_Bulli:

; 2456 : 	double	dGradient=0;

  002d9	8b 55 f8	 mov	 edx, DWORD PTR _pHighLowPtData3$1$[ebp]
$LN54@Find_Bulli:
  002dc	66 0f 6e 78 08	 movd	 xmm7, DWORD PTR [eax+8]
  002e1	0f 28 d9	 movaps	 xmm3, xmm1

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  002e4	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  002e8	f2 0f 5c 7d bc	 subsd	 xmm7, QWORD PTR tv1463[ebp]
  002ed	66 0f 2e f9	 ucomisd xmm7, xmm1
  002f1	f2 0f 11 7d e8	 movsd	 QWORD PTR tv1411[ebp], xmm7
  002f6	f2 0f 10 7a 28	 movsd	 xmm7, QWORD PTR [edx+40]
  002fb	9f		 lahf
  002fc	f6 c4 44	 test	 ah, 68			; 00000044H
  002ff	7b 3b		 jnp	 SHORT $LN89@Find_Bulli
  00301	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00304	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  00309	66 0f 2e f9	 ucomisd xmm7, xmm1
  0030d	f2 0f 10 7a 28	 movsd	 xmm7, QWORD PTR [edx+40]
  00312	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
  00315	9f		 lahf
  00316	f6 c4 44	 test	 ah, 68			; 00000044H
  00319	7b 24		 jnp	 SHORT $LN57@Find_Bulli

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0031b	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0031e	f2 0f 10 5a 20	 movsd	 xmm3, QWORD PTR [edx+32]
  00323	f2 0f 5c 58 20	 subsd	 xmm3, QWORD PTR [eax+32]
  00328	f2 0f 5e 58 20	 divsd	 xmm3, QWORD PTR [eax+32]
  0032d	f2 0f 5e 5d e8	 divsd	 xmm3, QWORD PTR tv1411[ebp]
  00332	f2 0f 59 1d 00
	00 00 00	 mulsd	 xmm3, QWORD PTR __real@4059000000000000
  0033a	eb 03		 jmp	 SHORT $LN57@Find_Bulli
$LN89@Find_Bulli:

; 2457 : 
; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0033c	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
$LN57@Find_Bulli:

; 1147 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1148 : 
; 1149 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1150 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1151 : 
; 1152 : 			if ( dGradient4 > 0.3 && dGradient5 > 0.3 && (fabs(dGradient4-dGradient5) < 0.3) )

  0033f	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@3fd3333333333333
  00347	0f 86 8f 02 00
	00		 jbe	 $LN84@Find_Bulli
  0034d	66 0f 2f 25 00
	00 00 00	 comisd	 xmm4, QWORD PTR __real@3fd3333333333333
  00355	0f 86 81 02 00
	00		 jbe	 $LN84@Find_Bulli
  0035b	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0035f	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __real@3fd3333333333333
  00367	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0036e	66 0f 2f e0	 comisd	 xmm4, xmm0
  00372	0f 86 64 02 00
	00		 jbe	 $LN84@Find_Bulli

; 1153 : 			{
; 1154 : 				if ( dGradient2 < -0.3 && (fabs(dGradient6)-fabs(dGradient2) < 0.3) )

  00378	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bfd3333333333333
  00380	66 0f 2f c2	 comisd	 xmm0, xmm2
  00384	0f 86 52 02 00
	00		 jbe	 $LN84@Find_Bulli
  0038a	0f 54 1d 00 00
	00 00		 andps	 xmm3, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  00391	0f 28 c2	 movaps	 xmm0, xmm2
  00394	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0039b	f2 0f 5c d8	 subsd	 xmm3, xmm0
  0039f	66 0f 2f e3	 comisd	 xmm4, xmm3
  003a3	0f 86 33 02 00
	00		 jbe	 $LN84@Find_Bulli

; 1155 : 				{
; 1156 : 					if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)

  003a9	66 0f 2f ea	 comisd	 xmm5, xmm2
  003ad	0f 86 29 02 00
	00		 jbe	 $LN84@Find_Bulli
  003b3	66 0f 2f d6	 comisd	 xmm2, xmm6
  003b7	0f 86 1f 02 00
	00		 jbe	 $LN84@Find_Bulli

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003bd	f2 0f 10 45 e8	 movsd	 xmm0, QWORD PTR tv1411[ebp]
  003c2	0f 28 e1	 movaps	 xmm4, xmm1
  003c5	66 0f 2e c1	 ucomisd xmm0, xmm1
  003c9	9f		 lahf
  003ca	f6 c4 44	 test	 ah, 68			; 00000044H
  003cd	7b 17		 jnp	 SHORT $LN77@Find_Bulli

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003cf	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  003d2	f2 0f 10 62 20	 movsd	 xmm4, QWORD PTR [edx+32]
  003d7	f2 0f 10 68 20	 movsd	 xmm5, QWORD PTR [eax+32]
  003dc	f2 0f 5c e5	 subsd	 xmm4, xmm5
  003e0	f2 0f 5e e0	 divsd	 xmm4, xmm0
  003e4	eb 05		 jmp	 SHORT $LN75@Find_Bulli
$LN77@Find_Bulli:

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003e6	f2 0f 10 6d ac	 movsd	 xmm5, QWORD PTR _dYPos1$1$[ebp]
$LN75@Find_Bulli:
  003eb	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR tv1414[ebp]
  003f0	0f 28 d1	 movaps	 xmm2, xmm1
  003f3	66 0f 2e c1	 ucomisd xmm0, xmm1
  003f7	9f		 lahf
  003f8	f6 c4 44	 test	 ah, 68			; 00000044H
  003fb	7b 0d		 jnp	 SHORT $LN72@Find_Bulli

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  003fd	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  00402	f2 0f 5c d7	 subsd	 xmm2, xmm7
  00406	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN72@Find_Bulli:
  0040a	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]

; 2444 : 	double dGradient=0;

  0040f	0f 28 d9	 movaps	 xmm3, xmm1
  00412	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00417	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0041b	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0041f	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00423	66 0f 2e c1	 ucomisd xmm0, xmm1
  00427	9f		 lahf
  00428	f6 c4 44	 test	 ah, 68			; 00000044H
  0042b	7b 0e		 jnp	 SHORT $LN76@Find_Bulli

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0042d	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  00432	f2 0f 5c 5a 20	 subsd	 xmm3, QWORD PTR [edx+32]
  00437	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN76@Find_Bulli:

; 1157 : 					{
; 1158 : 						double dGradA, dGradB, dGradB_H;
; 1159 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1160 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1161 : 						double dXNeckPt1, dYNeckPt1;
; 1162 : 						double dXNeckPt2, dYNeckPt2;
; 1163 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1164 : 
; 1165 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1166 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1167 : 
; 1168 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1169 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1170 : 
; 1171 : 						dGradB_H = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 1172 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 1173 : 
; 1174 : 						// First Draw Data
; 1175 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0043b	8b 4d e4	 mov	 ecx, DWORD PTR tv1484[ebp]

; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)

  0043e	0f 28 f3	 movaps	 xmm6, xmm3
  00441	8b 45 f0	 mov	 eax, DWORD PTR tv1486[ebp]
  00444	f2 0f 5c f2	 subsd	 xmm6, xmm2
  00448	8b 7f 08	 mov	 edi, DWORD PTR [edi+8]
  0044b	2b c1		 sub	 eax, ecx
  0044d	66 0f 6e c0	 movd	 xmm0, eax
  00451	8b c7		 mov	 eax, edi
  00453	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00457	2b c1		 sub	 eax, ecx
  00459	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0045d	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00461	f2 0f 11 45 e0	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  00466	66 0f 6e c0	 movd	 xmm0, eax
  0046a	8b 45 f0	 mov	 eax, DWORD PTR tv1486[ebp]
  0046d	2b 45 d4	 sub	 eax, DWORD PTR tv1487[ebp]
  00470	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00474	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  00478	f2 0f 58 c5	 addsd	 xmm0, xmm5
  0047c	f2 0f 11 45 d8	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  00481	66 0f 6e c0	 movd	 xmm0, eax
  00485	8b c7		 mov	 eax, edi
  00487	2b 45 d4	 sub	 eax, DWORD PTR tv1487[ebp]
  0048a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0048e	66 0f 2e f1	 ucomisd xmm6, xmm1
  00492	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00496	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0049a	f2 0f 11 45 a4	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  0049f	66 0f 6e c0	 movd	 xmm0, eax
  004a3	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  004a7	9f		 lahf
  004a8	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  004ac	f2 0f 58 c7	 addsd	 xmm0, xmm7
  004b0	f2 0f 11 45 9c	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm0
  004b5	f6 c4 44	 test	 ah, 68			; 00000044H
  004b8	7b 66		 jnp	 SHORT $LN85@Find_Bulli

; 1184 : 						{
; 1185 : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 

  004ba	0f 28 c7	 movaps	 xmm0, xmm7
  004bd	f2 0f 5c 42 20	 subsd	 xmm0, QWORD PTR [edx+32]
  004c2	f2 0f 11 45 c4	 movsd	 QWORD PTR _dXNeckPt1$2[ebp], xmm0
  004c7	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  004cc	f2 0f 10 6d c4	 movsd	 xmm5, QWORD PTR _dXNeckPt1$2[ebp]
  004d1	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  004d5	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  004d9	f2 0f 58 e8	 addsd	 xmm5, xmm0
  004dd	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv1456[ebp]
  004e2	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  004e6	f2 0f 5c e8	 subsd	 xmm5, xmm0
  004ea	0f 28 c5	 movaps	 xmm0, xmm5
  004ed	f2 0f 11 6d c4	 movsd	 QWORD PTR _dXNeckPt1$2[ebp], xmm5
  004f2	f2 0f 5e c6	 divsd	 xmm0, xmm6
  004f6	f2 0f 10 6d ac	 movsd	 xmm5, QWORD PTR _dYPos1$1$[ebp]

; 1186 : 											dGradB_H*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1187 : 							dYNeckPt1 = dGradB_H*(dXNeckPt1-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;

  004fb	0f 28 f0	 movaps	 xmm6, xmm0
  004fe	f2 0f 11 45 c4	 movsd	 QWORD PTR _dXNeckPt1$2[ebp], xmm0
  00503	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  00508	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0050c	f2 0f 5c f0	 subsd	 xmm6, xmm0
  00510	f2 0f 59 f3	 mulsd	 xmm6, xmm3
  00514	f2 0f 58 72 20	 addsd	 xmm6, QWORD PTR [edx+32]
  00519	f2 0f 11 75 94	 movsd	 QWORD PTR _dYNeckPt1$1[ebp], xmm6
  0051e	eb 05		 jmp	 SHORT $LN17@Find_Bulli
$LN85@Find_Bulli:

; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)

  00520	f2 0f 10 75 94	 movsd	 xmm6, QWORD PTR _dYNeckPt1$1[ebp]
$LN17@Find_Bulli:

; 1188 : 						}
; 1189 : 						// Senond Neck Data
; 1190 : 						dXNeckPt2 = dXNeckPt1;
; 1191 : 						dYNeckPt2 = dYNeckPt1;
; 1192 : 
; 1193 : 						// Neck Base Data1
; 1194 : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1195 : 						// Neck Base Data2
; 1196 : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00525	f2 0f 10 4d c4	 movsd	 xmm1, QWORD PTR _dXNeckPt1$2[ebp]

; 1197 : 
; 1198 : 
; 1199 : 						AddNewWavePatternData(	pObjWavePatternData,

  0052a	83 ec 70	 sub	 esp, 112		; 00000070H
  0052d	0f 28 c1	 movaps	 xmm0, xmm1
  00530	8b 45 f0	 mov	 eax, DWORD PTR tv1486[ebp]
  00533	f2 0f 5c 45 bc	 subsd	 xmm0, QWORD PTR tv1463[ebp]
  00538	8b 4d d0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0053b	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0053f	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00543	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00549	0f 28 c1	 movaps	 xmm0, xmm1
  0054c	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR tv1456[ebp]
  00551	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00555	66 0f 6e d0	 movd	 xmm2, eax
  00559	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0055d	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00561	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00567	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  0056c	f2 0f 11 74 24
	58		 movsd	 QWORD PTR [esp+88], xmm6
  00572	f2 0f 11 4c 24
	50		 movsd	 QWORD PTR [esp+80], xmm1
  00578	f2 0f 11 74 24
	48		 movsd	 QWORD PTR [esp+72], xmm6
  0057e	f2 0f 11 4c 24
	40		 movsd	 QWORD PTR [esp+64], xmm1
  00584	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  0058a	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0058f	66 0f 6e cf	 movd	 xmm1, edi
  00593	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00597	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  0059d	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  005a3	f2 0f 10 45 d8	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  005a8	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  005ae	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  005b4	f2 0f 10 45 e0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005b9	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005bf	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005c5	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005ca	57		 push	 edi
  005cb	50		 push	 eax
  005cc	68 a9 0f 00 00	 push	 4009			; 00000fa9H
  005d1	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005d4	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005d9	0f 57 c9	 xorps	 xmm1, xmm1
$LN84@Find_Bulli:

; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005dc	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
$LN2@Find_Bulli:
  005e4	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005e7	46		 inc	 esi
  005e8	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005eb	3b 45 cc	 cmp	 eax, DWORD PTR $T3[ebp]
  005ee	0f 8e 3c fa ff
	ff		 jle	 $LL4@Find_Bulli
  005f4	5f		 pop	 edi
  005f5	5e		 pop	 esi
$LN3@Find_Bulli:

; 1200 : 												PTN_BULLISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1201 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1202 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1203 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1204 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1205 : 
; 1206 : 					}
; 1207 : 				}
; 1208 : 			}
; 1209 : 		}
; 1210 : 	}
; 1211 : 
; 1212 : 	return TRUE;

  005f6	b8 01 00 00 00	 mov	 eax, 1

; 1213 : }

  005fb	8b e5		 mov	 esp, ebp
  005fd	5d		 pop	 ebp
  005fe	c2 08 00	 ret	 8
$LN20@Find_Bulli:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00601	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN90@Find_Bulli:
  00606	cc		 int	 3
?Find_Bullish_WideTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bullish_WideTriangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -124					; size = 8
_dYNeckPt1$2 = -116					; size = 8
_dYNeckPt2$3 = -108					; size = 8
tv1370 = -100						; size = 8
tv1335 = -100						; size = 8
tv1326 = -100						; size = 8
_dYDrawPt2_1$1$ = -92					; size = 8
tv1319 = -92						; size = 8
_dYDrawPt1_1$1$ = -84					; size = 8
tv1310 = -84						; size = 8
tv1306 = -76						; size = 8
tv1374 = -68						; size = 8
tv1297 = -68						; size = 8
_dXCrossPt1$4 = -60					; size = 8
_dXNeckPt2$5 = -52					; size = 8
_dXNeckPt1$6 = -44					; size = 8
$T7 = -36						; size = 4
_this$1$ = -32						; size = 4
tv1398 = -28						; size = 4
_pHighLowPtData1$1$ = -28				; size = 4
_pHighLowPtData6$1$ = -24				; size = 4
tv1399 = -24						; size = 4
tv1372 = -20						; size = 8
tv1401 = -16						; size = 4
_pHighLowPtData4$1$ = -12				; size = 4
tv1400 = -12						; size = 4
_pHighLowPtData2$1$ = -8				; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bear_Triangles, COMDAT
; _this$ = ecx

; 992  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 7c	 sub	 esp, 124		; 0000007cH

; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 06	 sub	 eax, 6
  00012	89 45 dc	 mov	 DWORD PTR $T7[ebp], eax
  00015	0f 88 df 05 00
	00		 js	 $LN3@Find_Bear_

; 993  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 994  : 
; 995  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 996  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 997  : 	int		nPointCnt;
; 998  : 	int		nMininumData = 6;	// Bear Triangles    
; 999  : 
; 1000 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1001 : 	
; 1002 : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00023	0f 57 c9	 xorps	 xmm1, xmm1
  00026	56		 push	 esi
  00027	57		 push	 edi
  00028	be 02 00 00 00	 mov	 esi, 2
  0002d	0f 1f 00	 npad	 3
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 ca 05 00
	00		 js	 $LN20@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d bf 05 00
	00		 jge	 $LN20@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1006 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 e4	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 90 05 00
	00		 je	 $LN2@Find_Bear_

; 1007 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 83 05 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 95 05 00
	00		 js	 $LN20@Find_Bear_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 8d 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1009 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d f8	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 61 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 76 05 00
	00		 js	 $LN20@Find_Bear_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 6e 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1010 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  0009b	0f 84 47 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a1	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a4	85 ff		 test	 edi, edi
  000a6	0f 88 59 05 00
	00		 js	 $LN20@Find_Bear_
  000ac	3b f8		 cmp	 edi, eax
  000ae	0f 8d 51 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1011 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b4	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b8	89 7d f4	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bb	85 ff		 test	 edi, edi
  000bd	0f 84 25 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c3	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c6	85 ff		 test	 edi, edi
  000c8	0f 88 37 05 00
	00		 js	 $LN20@Find_Bear_
  000ce	3b f8		 cmp	 edi, eax
  000d0	0f 8d 2f 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1012 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d6	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000da	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000dd	85 ff		 test	 edi, edi
  000df	0f 84 03 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e5	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e8	85 ff		 test	 edi, edi
  000ea	0f 88 15 05 00
	00		 js	 $LN20@Find_Bear_
  000f0	3b f8		 cmp	 edi, eax
  000f2	0f 8d 0d 05 00
	00		 jge	 $LN20@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 1013 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f8	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  000fc	89 7d e8	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edi
  000ff	85 ff		 test	 edi, edi
  00101	0f 84 e1 04 00
	00		 je	 $LN2@Find_Bear_

; 1014 : 
; 1015 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))

  00107	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  0010a	f2 0f 10 52 20	 movsd	 xmm2, QWORD PTR [edx+32]
  0010f	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  00114	66 0f 2f d7	 comisd	 xmm2, xmm7
  00118	0f 86 ca 04 00
	00		 jbe	 $LN2@Find_Bear_
  0011e	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  00121	f2 0f 10 59 28	 movsd	 xmm3, QWORD PTR [ecx+40]
  00126	66 0f 2f 5f 28	 comisd	 xmm3, QWORD PTR [edi+40]
  0012b	0f 86 b7 04 00
	00		 jbe	 $LN2@Find_Bear_

; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00131	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  00134	0f 28 d9	 movaps	 xmm3, xmm1
  00137	66 0f 6e 6a 08	 movd	 xmm5, DWORD PTR [edx+8]

; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0013c	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  00140	89 45 f4	 mov	 DWORD PTR tv1400[ebp], eax
  00143	66 0f 6e e0	 movd	 xmm4, eax
  00147	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0014b	0f 28 c4	 movaps	 xmm0, xmm4
  0014e	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00152	66 0f 2e c1	 ucomisd xmm0, xmm1
  00156	9f		 lahf
  00157	f6 c4 44	 test	 ah, 68			; 00000044H
  0015a	7b 1d		 jnp	 SHORT $LN39@Find_Bear_
  0015c	66 0f 2e d1	 ucomisd xmm2, xmm1
  00160	9f		 lahf
  00161	f6 c4 44	 test	 ah, 68			; 00000044H
  00164	7b 13		 jnp	 SHORT $LN39@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00166	0f 28 df	 movaps	 xmm3, xmm7
  00169	f2 0f 5c da	 subsd	 xmm3, xmm2
  0016d	f2 0f 5e da	 divsd	 xmm3, xmm2
  00171	f2 0f 5e d8	 divsd	 xmm3, xmm0
  00175	f2 0f 59 de	 mulsd	 xmm3, xmm6
$LN39@Find_Bear_:

; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00179	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0017c	0f 28 d1	 movaps	 xmm2, xmm1
  0017f	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00184	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00188	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1370[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0018d	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00191	66 0f 2e c1	 ucomisd xmm0, xmm1
  00195	f2 0f 11 45 b4	 movsd	 QWORD PTR tv1306[ebp], xmm0
  0019a	9f		 lahf
  0019b	f6 c4 44	 test	 ah, 68			; 00000044H
  0019e	7b 22		 jnp	 SHORT $LN42@Find_Bear_
  001a0	66 0f 2e f9	 ucomisd xmm7, xmm1
  001a4	9f		 lahf
  001a5	f6 c4 44	 test	 ah, 68			; 00000044H
  001a8	7b 18		 jnp	 SHORT $LN42@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001aa	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001ad	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  001b2	f2 0f 5c d7	 subsd	 xmm2, xmm7
  001b6	f2 0f 5e d7	 divsd	 xmm2, xmm7
  001ba	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001be	f2 0f 59 d6	 mulsd	 xmm2, xmm6
$LN42@Find_Bear_:

; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001c2	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001c5	0f 28 e1	 movaps	 xmm4, xmm1
  001c8	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001cd	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001d1	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d4	89 55 e8	 mov	 DWORD PTR tv1399[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001d7	8b 55 e4	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]

; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001da	f2 0f 10 70 28	 movsd	 xmm6, QWORD PTR [eax+40]
  001df	f2 0f 11 45 ec	 movsd	 QWORD PTR tv1372[ebp], xmm0
  001e4	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  001e9	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ed	0f 28 e8	 movaps	 xmm5, xmm0

; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001f0	f2 0f 11 45 bc	 movsd	 QWORD PTR tv1374[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001f5	f2 0f 5c 6d ec	 subsd	 xmm5, QWORD PTR tv1372[ebp]
  001fa	66 0f 2e e9	 ucomisd xmm5, xmm1
  001fe	f2 0f 11 6d ac	 movsd	 QWORD PTR tv1310[ebp], xmm5
  00203	9f		 lahf
  00204	f6 c4 44	 test	 ah, 68			; 00000044H
  00207	7b 23		 jnp	 SHORT $LN45@Find_Bear_
  00209	66 0f 2e f1	 ucomisd xmm6, xmm1
  0020d	9f		 lahf
  0020e	f6 c4 44	 test	 ah, 68			; 00000044H
  00211	7b 19		 jnp	 SHORT $LN45@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00213	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00218	f2 0f 5c e6	 subsd	 xmm4, xmm6
  0021c	f2 0f 5e e6	 divsd	 xmm4, xmm6
  00220	f2 0f 5e e5	 divsd	 xmm4, xmm5
  00224	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN45@Find_Bear_:

; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  0022c	8b 47 08	 mov	 eax, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  0022f	0f 28 e9	 movaps	 xmm5, xmm1

; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00232	89 45 e4	 mov	 DWORD PTR tv1398[ebp], eax
  00235	66 0f 6e c0	 movd	 xmm0, eax
  00239	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0023d	f2 0f 11 45 a4	 movsd	 QWORD PTR tv1319[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00242	f2 0f 5c 45 bc	 subsd	 xmm0, QWORD PTR tv1374[ebp]
  00247	66 0f 2e c1	 ucomisd xmm0, xmm1
  0024b	f2 0f 11 45 bc	 movsd	 QWORD PTR tv1297[ebp], xmm0
  00250	f2 0f 10 41 28	 movsd	 xmm0, QWORD PTR [ecx+40]
  00255	9f		 lahf
  00256	f6 c4 44	 test	 ah, 68			; 00000044H
  00259	7b 24		 jnp	 SHORT $LN48@Find_Bear_
  0025b	66 0f 2e c1	 ucomisd xmm0, xmm1
  0025f	9f		 lahf
  00260	f6 c4 44	 test	 ah, 68			; 00000044H
  00263	7b 1a		 jnp	 SHORT $LN48@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00265	f2 0f 10 6f 28	 movsd	 xmm5, QWORD PTR [edi+40]
  0026a	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0026e	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00272	f2 0f 5e 6d bc	 divsd	 xmm5, QWORD PTR tv1297[ebp]
  00277	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN48@Find_Bear_:

; 1027 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1028 : 
; 1029 : 			if ( dGradient2 < -0.3 && fabs(dGradient3) < 0.3 )

  0027f	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bfd3333333333333
  00287	66 0f 2f c2	 comisd	 xmm0, xmm2
  0028b	0f 86 4f 03 00
	00		 jbe	 $LN78@Find_Bear_
  00291	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  00299	0f 28 c4	 movaps	 xmm0, xmm4
  0029c	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002a3	66 0f 2f c8	 comisd	 xmm1, xmm0
  002a7	0f 57 c9	 xorps	 xmm1, xmm1
  002aa	0f 86 30 03 00
	00		 jbe	 $LN78@Find_Bear_

; 1030 : 			{
; 1031 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  002b0	66 0f 2f d3	 comisd	 xmm2, xmm3
  002b4	0f 86 26 03 00
	00		 jbe	 $LN78@Find_Bear_
  002ba	66 0f 2f e5	 comisd	 xmm4, xmm5
  002be	0f 86 1c 03 00
	00		 jbe	 $LN78@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002c4	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv1306[ebp]
  002c9	0f 57 d2	 xorps	 xmm2, xmm2
  002cc	66 0f 2e c1	 ucomisd xmm0, xmm1
  002d0	9f		 lahf
  002d1	f6 c4 44	 test	 ah, 68			; 00000044H
  002d4	7b 10		 jnp	 SHORT $LN70@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002d6	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  002d9	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  002de	f2 0f 5c d7	 subsd	 xmm2, xmm7
  002e2	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN70@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002e6	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv1310[ebp]
  002eb	0f 57 db	 xorps	 xmm3, xmm3
  002ee	66 0f 2e c1	 ucomisd xmm0, xmm1
  002f2	9f		 lahf
  002f3	f6 c4 44	 test	 ah, 68			; 00000044H
  002f6	7b 0d		 jnp	 SHORT $LN54@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002f8	f2 0f 10 59 28	 movsd	 xmm3, QWORD PTR [ecx+40]
  002fd	f2 0f 5c de	 subsd	 xmm3, xmm6
  00301	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN54@Find_Bear_:
  00305	66 0f 6e 62 08	 movd	 xmm4, DWORD PTR [edx+8]
  0030a	0f 57 ed	 xorps	 xmm5, xmm5

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0030d	f2 0f 10 45 ec	 movsd	 xmm0, QWORD PTR tv1372[ebp]
  00312	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00316	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0031a	66 0f 2e c1	 ucomisd xmm0, xmm1
  0031e	9f		 lahf
  0031f	f6 c4 44	 test	 ah, 68			; 00000044H
  00322	7b 0c		 jnp	 SHORT $LN66@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00324	0f 28 ee	 movaps	 xmm5, xmm6
  00327	f2 0f 5c 6a 20	 subsd	 xmm5, QWORD PTR [edx+32]
  0032c	f2 0f 5e e8	 divsd	 xmm5, xmm0
$LN66@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00330	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv1319[ebp]
  00335	0f 57 e4	 xorps	 xmm4, xmm4
  00338	f2 0f 5c 45 9c	 subsd	 xmm0, QWORD PTR tv1370[ebp]
  0033d	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00340	66 0f 2e c1	 ucomisd xmm0, xmm1
  00344	9f		 lahf
  00345	f6 c4 44	 test	 ah, 68			; 00000044H
  00348	7b 0e		 jnp	 SHORT $LN72@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0034a	f2 0f 10 67 28	 movsd	 xmm4, QWORD PTR [edi+40]
  0034f	f2 0f 5c 61 20	 subsd	 xmm4, QWORD PTR [ecx+32]
  00354	f2 0f 5e e0	 divsd	 xmm4, xmm0
$LN72@Find_Bear_:

; 1032 : 				{
; 1033 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1034 : 					double dYDrawPt1_1;
; 1035 : 					double dYDrawPt2_1;
; 1036 : 					double dXCrossPt1, dYCrossPt1;
; 1037 : 					double dXNeckPt1, dYNeckPt1;
; 1038 : 					double dXNeckPt2, dYNeckPt2;
; 1039 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1040 : 
; 1041 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1042 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1043 : 
; 1044 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1045 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1046 : 
; 1047 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1048 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1049 : 
; 1050 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1051 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1052 : 
; 1053 : 					// First Draw Data
; 1054 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00358	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0035b	8b 7d f4	 mov	 edi, DWORD PTR tv1400[ebp]
  0035e	2b c7		 sub	 eax, edi
  00360	66 0f 6e c0	 movd	 xmm0, eax

; 1055 : 
; 1056 : 					// Second Draw Data
; 1057 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00364	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00367	2b 45 e8	 sub	 eax, DWORD PTR tv1399[ebp]
  0036a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0036e	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00372	f2 0f 58 c7	 addsd	 xmm0, xmm7
  00376	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  0037b	66 0f 6e c0	 movd	 xmm0, eax
  0037f	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00383	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  00387	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0038b	f2 0f 11 45 a4	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0

; 1058 : 
; 1059 : 					if ( (dGradA - dGradB) != 0)

  00390	0f 28 c2	 movaps	 xmm0, xmm2
  00393	f2 0f 5c c3	 subsd	 xmm0, xmm3
  00397	66 0f 2e c1	 ucomisd xmm0, xmm1
  0039b	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1326[ebp], xmm0
  003a0	9f		 lahf
  003a1	f6 c4 44	 test	 ah, 68			; 00000044H
  003a4	7b 69		 jnp	 SHORT $LN71@Find_Bear_

; 1060 : 					{
; 1061 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 

  003a6	66 0f 6e cf	 movd	 xmm1, edi
  003aa	0f 28 f2	 movaps	 xmm6, xmm2
  003ad	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
  003b0	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  003b4	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  003b9	f2 0f 59 f1	 mulsd	 xmm6, xmm1
  003bd	f2 0f 5c c7	 subsd	 xmm0, xmm7
  003c1	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003c5	f2 0f 11 45 c4	 movsd	 QWORD PTR _dXCrossPt1$4[ebp], xmm0
  003ca	0f 28 c3	 movaps	 xmm0, xmm3
  003cd	f2 0f 59 45 ec	 mulsd	 xmm0, QWORD PTR tv1372[ebp]
  003d2	f2 0f 10 4d c4	 movsd	 xmm1, QWORD PTR _dXCrossPt1$4[ebp]
  003d7	f2 0f 5c c8	 subsd	 xmm1, xmm0
  003db	0f 28 c1	 movaps	 xmm0, xmm1
  003de	f2 0f 11 4d c4	 movsd	 QWORD PTR _dXCrossPt1$4[ebp], xmm1
  003e3	f2 0f 5e 45 9c	 divsd	 xmm0, QWORD PTR tv1326[ebp]

; 1062 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1063 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003e8	0f 28 c8	 movaps	 xmm1, xmm0
  003eb	f2 0f 11 45 c4	 movsd	 QWORD PTR _dXCrossPt1$4[ebp], xmm0
  003f0	66 0f 6e 45 f4	 movd	 xmm0, DWORD PTR tv1400[ebp]
  003f5	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003f9	f2 0f 5c c8	 subsd	 xmm1, xmm0
  003fd	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  00401	f2 0f 58 cf	 addsd	 xmm1, xmm7
  00405	f2 0f 11 4d 84	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm1
  0040a	0f 57 c9	 xorps	 xmm1, xmm1
  0040d	eb 0f		 jmp	 SHORT $LN68@Find_Bear_
$LN71@Find_Bear_:
  0040f	66 0f 6e c7	 movd	 xmm0, edi
  00413	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
  00416	f3 0f e6 f0	 cvtdq2pd xmm6, xmm0
  0041a	f2 0f 59 f2	 mulsd	 xmm6, xmm2
$LN68@Find_Bear_:

; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)

  0041e	0f 28 c5	 movaps	 xmm0, xmm5
  00421	f2 0f 5c c2	 subsd	 xmm0, xmm2
  00425	66 0f 2e c1	 ucomisd xmm0, xmm1
  00429	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1335[ebp], xmm0
  0042e	9f		 lahf
  0042f	f6 c4 44	 test	 ah, 68			; 00000044H
  00432	7b 68		 jnp	 SHORT $LN73@Find_Bear_

; 1068 : 					{
; 1069 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 

  00434	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00437	0f 28 c5	 movaps	 xmm0, xmm5
  0043a	66 0f 6e c8	 movd	 xmm1, eax
  0043e	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00442	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00446	f2 0f 11 45 d4	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm0
  0044b	0f 28 c7	 movaps	 xmm0, xmm7
  0044e	f2 0f 5c 42 20	 subsd	 xmm0, QWORD PTR [edx+32]
  00453	f2 0f 10 4d d4	 movsd	 xmm1, QWORD PTR _dXNeckPt1$6[ebp]
  00458	f2 0f 58 c8	 addsd	 xmm1, xmm0
  0045c	0f 28 c1	 movaps	 xmm0, xmm1
  0045f	f2 0f 11 4d d4	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm1
  00464	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00468	0f 28 f0	 movaps	 xmm6, xmm0
  0046b	f2 0f 11 45 d4	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm0
  00470	f2 0f 5e 75 9c	 divsd	 xmm6, QWORD PTR tv1335[ebp]
  00475	66 0f 6e c0	 movd	 xmm0, eax

; 1070 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1071 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;

  00479	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0047d	0f 28 ce	 movaps	 xmm1, xmm6
  00480	f2 0f 11 75 d4	 movsd	 QWORD PTR _dXNeckPt1$6[ebp], xmm6
  00485	f2 0f 5c c8	 subsd	 xmm1, xmm0
  00489	f2 0f 59 cd	 mulsd	 xmm1, xmm5
  0048d	f2 0f 58 4a 20	 addsd	 xmm1, QWORD PTR [edx+32]
  00492	f2 0f 11 4d 8c	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm1
  00497	0f 57 c9	 xorps	 xmm1, xmm1
  0049a	eb 05		 jmp	 SHORT $LN16@Find_Bear_
$LN73@Find_Bear_:

; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)

  0049c	f2 0f 10 75 d4	 movsd	 xmm6, QWORD PTR _dXNeckPt1$6[ebp]
$LN16@Find_Bear_:

; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)

  004a1	0f 28 ec	 movaps	 xmm5, xmm4
  004a4	f2 0f 5c eb	 subsd	 xmm5, xmm3
  004a8	66 0f 2e e9	 ucomisd xmm5, xmm1
  004ac	9f		 lahf
  004ad	f6 c4 44	 test	 ah, 68			; 00000044H
  004b0	7b 6a		 jnp	 SHORT $LN74@Find_Bear_

; 1075 : 					{
; 1076 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  004b2	66 0f 6e 71 08	 movd	 xmm6, DWORD PTR [ecx+8]
  004b7	0f 28 c4	 movaps	 xmm0, xmm4
  004ba	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  004be	f2 0f 59 c6	 mulsd	 xmm0, xmm6
  004c2	f2 0f 11 45 cc	 movsd	 QWORD PTR _dXNeckPt2$5[ebp], xmm0
  004c7	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  004cc	f2 0f 5c 41 20	 subsd	 xmm0, QWORD PTR [ecx+32]
  004d1	f2 0f 10 75 cc	 movsd	 xmm6, QWORD PTR _dXNeckPt2$5[ebp]
  004d6	f2 0f 58 f0	 addsd	 xmm6, xmm0
  004da	0f 28 c3	 movaps	 xmm0, xmm3
  004dd	f2 0f 59 45 ec	 mulsd	 xmm0, QWORD PTR tv1372[ebp]
  004e2	f2 0f 5c f0	 subsd	 xmm6, xmm0
  004e6	0f 28 c6	 movaps	 xmm0, xmm6
  004e9	f2 0f 11 75 cc	 movsd	 QWORD PTR _dXNeckPt2$5[ebp], xmm6
  004ee	f2 0f 5e c5	 divsd	 xmm0, xmm5
  004f2	f2 0f 10 75 d4	 movsd	 xmm6, QWORD PTR _dXNeckPt1$6[ebp]

; 1077 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1078 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  004f7	0f 28 e8	 movaps	 xmm5, xmm0
  004fa	f2 0f 11 45 cc	 movsd	 QWORD PTR _dXNeckPt2$5[ebp], xmm0
  004ff	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  00504	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00508	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0050c	f2 0f 59 ec	 mulsd	 xmm5, xmm4
  00510	f2 0f 58 69 20	 addsd	 xmm5, QWORD PTR [ecx+32]
  00515	f2 0f 11 6d 94	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm5
  0051a	eb 05		 jmp	 SHORT $LN17@Find_Bear_
$LN74@Find_Bear_:

; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)

  0051c	f2 0f 10 6d 94	 movsd	 xmm5, QWORD PTR _dYNeckPt2$3[ebp]
$LN17@Find_Bear_:
  00521	66 0f 6e 4d f4	 movd	 xmm1, DWORD PTR tv1400[ebp]

; 1079 : 					}
; 1080 : 
; 1081 : 					// Neck Base Data1
; 1082 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1083 : 					// Neck Base Data2
; 1084 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1085 : 
; 1086 : 
; 1087 : 					AddNewWavePatternData(	pObjWavePatternData,

  00526	83 ec 70	 sub	 esp, 112		; 00000070H
  00529	0f 28 c6	 movaps	 xmm0, xmm6
  0052c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0052f	f2 0f 5c 45 ec	 subsd	 xmm0, QWORD PTR tv1372[ebp]
  00534	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00538	8b 4d e0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0053b	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  0053f	f2 0f 10 5d 84	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  00544	f2 0f 58 47 28	 addsd	 xmm0, QWORD PTR [edi+40]
  00549	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0054f	0f 28 c6	 movaps	 xmm0, xmm6
  00552	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00556	f2 0f 10 4d c4	 movsd	 xmm1, QWORD PTR _dXCrossPt1$4[ebp]
  0055b	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  0055f	66 0f 6e d0	 movd	 xmm2, eax
  00563	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00567	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0056b	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00571	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dXNeckPt2$5[ebp]
  00576	f2 0f 11 6c 24
	58		 movsd	 QWORD PTR [esp+88], xmm5
  0057c	f2 0f 11 44 24
	50		 movsd	 QWORD PTR [esp+80], xmm0
  00582	f2 0f 10 45 8c	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00587	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  0058d	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00592	f2 0f 11 74 24
	40		 movsd	 QWORD PTR [esp+64], xmm6
  00598	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  0059e	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  005a4	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  005aa	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005af	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  005b5	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  005bb	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005c1	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005c7	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005cc	ff 75 e4	 push	 DWORD PTR tv1398[ebp]
  005cf	50		 push	 eax
  005d0	68 a8 0f 00 00	 push	 4008			; 00000fa8H
  005d5	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005d8	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005dd	0f 57 c9	 xorps	 xmm1, xmm1
$LN78@Find_Bear_:

; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005e0	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
$LN2@Find_Bear_:
  005e8	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005eb	46		 inc	 esi
  005ec	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005ef	3b 45 dc	 cmp	 eax, DWORD PTR $T7[ebp]
  005f2	0f 8e 38 fa ff
	ff		 jle	 $LL4@Find_Bear_
  005f8	5f		 pop	 edi
  005f9	5e		 pop	 esi
$LN3@Find_Bear_:

; 1088 : 											PTN_BEAR_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1089 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1090 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1091 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1092 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1093 : 
; 1094 : 
; 1095 : 				}
; 1096 : 			}
; 1097 : 		}
; 1098 : 	}
; 1099 : 
; 1100 : 	return TRUE;

  005fa	b8 01 00 00 00	 mov	 eax, 1

; 1101 : }

  005ff	8b e5		 mov	 esp, ebp
  00601	5d		 pop	 ebp
  00602	c2 08 00	 ret	 8
$LN20@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00605	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN80@Find_Bear_:
  0060a	cc		 int	 3
?Find_Bear_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bear_Triangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -140					; size = 8
_dYNeckPt1$2 = -132					; size = 8
_dYNeckPt2$3 = -124					; size = 8
_dXNeckPt2$4 = -116					; size = 8
tv1283 = -108						; size = 8
tv1319 = -100						; size = 8
_dYDrawPt2_1$1$ = -92					; size = 8
tv1292 = -92						; size = 8
_dYDrawPt1_1$1$ = -84					; size = 8
tv1286 = -84						; size = 8
tv1350 = -76						; size = 8
tv1274 = -76						; size = 8
_dXNeckPt1$5 = -68					; size = 8
$T6 = -60						; size = 4
_this$1$ = -56						; size = 4
tv1374 = -52						; size = 4
_dXCrossPt1$7 = -48					; size = 8
_dYPos1$1$ = -40					; size = 8
tv1312 = -40						; size = 8
tv1303 = -40						; size = 8
tv1348 = -32						; size = 8
tv1373 = -24						; size = 4
_pHighLowPtData1$1$ = -24				; size = 4
tv1376 = -20						; size = 4
_pHighLowPtData3$1$ = -16				; size = 4
tv1375 = -16						; size = 4
_pHighLowPtData2$1$ = -12				; size = 4
_pHighLowPtData5$1$ = -8				; size = 4
_pHighLowPtData4$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bull_Triangles, COMDAT
; _this$ = ecx

; 878  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 8c 00 00
	00		 sub	 esp, 140		; 0000008cH

; 889  : 
; 890  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d c8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 c4	 mov	 DWORD PTR $T6[ebp], eax
  00018	0f 88 d4 05 00
	00		 js	 $LN3@Find_Bull_

; 879  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 880  : 
; 881  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 882  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 883  : 	int		nPointCnt;
; 884  : 	int		nMininumData = 6;	// Bull Triangles    
; 885  : 
; 886  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 887  : 	
; 888  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
  00026	0f 57 c9	 xorps	 xmm1, xmm1
  00029	56		 push	 esi
  0002a	57		 push	 edi
  0002b	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 c2 05 00
	00		 js	 $LN20@Find_Bull_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d b7 05 00
	00		 jge	 $LN20@Find_Bull_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 892  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 e8	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 88 05 00
	00		 je	 $LN2@Find_Bull_

; 893  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00058	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005f	0f 85 7b 05 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 8d 05 00
	00		 js	 $LN20@Find_Bull_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 85 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 895  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 59 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 6e 05 00
	00		 js	 $LN20@Find_Bull_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 66 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 896  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0009a	89 7d f0	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0009d	85 ff		 test	 edi, edi
  0009f	0f 84 3b 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a5	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a8	85 ff		 test	 edi, edi
  000aa	0f 88 4d 05 00
	00		 js	 $LN20@Find_Bull_
  000b0	3b f8		 cmp	 edi, eax
  000b2	0f 8d 45 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 897  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b8	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000bc	89 7d fc	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bf	85 ff		 test	 edi, edi
  000c1	0f 84 19 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c7	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000ca	85 ff		 test	 edi, edi
  000cc	0f 88 2b 05 00
	00		 js	 $LN20@Find_Bull_
  000d2	3b f8		 cmp	 edi, eax
  000d4	0f 8d 23 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 898  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000da	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000de	89 7d f8	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000e1	85 ff		 test	 edi, edi
  000e3	0f 84 f7 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e9	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000ec	85 ff		 test	 edi, edi
  000ee	0f 88 09 05 00
	00		 js	 $LN20@Find_Bull_
  000f4	3b f8		 cmp	 edi, eax
  000f6	0f 8d 01 05 00
	00		 jge	 $LN20@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 899  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000fc	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  00100	85 ff		 test	 edi, edi
  00102	0f 84 d8 04 00
	00		 je	 $LN2@Find_Bull_

; 900  : 
; 901  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))

  00108	8b 4d f0	 mov	 ecx, DWORD PTR _pHighLowPtData3$1$[ebp]
  0010b	f2 0f 10 62 28	 movsd	 xmm4, QWORD PTR [edx+40]
  00110	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  00115	66 0f 2f f4	 comisd	 xmm6, xmm4
  00119	0f 86 c1 04 00
	00		 jbe	 $LN2@Find_Bull_
  0011f	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  00122	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  00127	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  0012c	66 0f 2f c2	 comisd	 xmm0, xmm2
  00130	0f 86 aa 04 00
	00		 jbe	 $LN2@Find_Bull_

; 902  : 		{
; 903  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00136	8b 42 08	 mov	 eax, DWORD PTR [edx+8]

; 2456 : 	double	dGradient=0;

  00139	0f 28 d9	 movaps	 xmm3, xmm1
  0013c	66 0f 6e 69 08	 movd	 xmm5, DWORD PTR [ecx+8]

; 902  : 		{
; 903  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00141	89 45 ec	 mov	 DWORD PTR tv1376[ebp], eax
  00144	66 0f 6e 55 ec	 movd	 xmm2, DWORD PTR tv1376[ebp]
  00149	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0014d	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00151	0f 28 c5	 movaps	 xmm0, xmm5
  00154	f2 0f 5c c2	 subsd	 xmm0, xmm2
  00158	66 0f 2e c1	 ucomisd xmm0, xmm1
  0015c	9f		 lahf
  0015d	f6 c4 44	 test	 ah, 68			; 00000044H
  00160	7b 1d		 jnp	 SHORT $LN39@Find_Bull_
  00162	66 0f 2e e1	 ucomisd xmm4, xmm1
  00166	9f		 lahf
  00167	f6 c4 44	 test	 ah, 68			; 00000044H
  0016a	7b 13		 jnp	 SHORT $LN39@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0016c	0f 28 de	 movaps	 xmm3, xmm6
  0016f	f2 0f 5c dc	 subsd	 xmm3, xmm4
  00173	f2 0f 5e dc	 divsd	 xmm3, xmm4
  00177	f2 0f 5e d8	 divsd	 xmm3, xmm0
  0017b	f2 0f 59 df	 mulsd	 xmm3, xmm7
$LN39@Find_Bull_:

; 904  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 905  : 			
; 906  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0017f	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  00182	0f 28 d1	 movaps	 xmm2, xmm1
  00185	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 904  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 905  : 			
; 906  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  0018a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0018e	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1319[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00193	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00197	66 0f 2e c1	 ucomisd xmm0, xmm1
  0019b	f2 0f 11 45 ac	 movsd	 QWORD PTR tv1286[ebp], xmm0
  001a0	9f		 lahf
  001a1	f6 c4 44	 test	 ah, 68			; 00000044H
  001a4	7b 22		 jnp	 SHORT $LN42@Find_Bull_
  001a6	66 0f 2e f1	 ucomisd xmm6, xmm1
  001aa	9f		 lahf
  001ab	f6 c4 44	 test	 ah, 68			; 00000044H
  001ae	7b 18		 jnp	 SHORT $LN42@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001b0	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001b3	f2 0f 10 50 28	 movsd	 xmm2, QWORD PTR [eax+40]
  001b8	f2 0f 5c d6	 subsd	 xmm2, xmm6
  001bc	f2 0f 5e d6	 divsd	 xmm2, xmm6
  001c0	f2 0f 5e d0	 divsd	 xmm2, xmm0
  001c4	f2 0f 59 d7	 mulsd	 xmm2, xmm7
$LN42@Find_Bull_:

; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001c8	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001cb	0f 28 e1	 movaps	 xmm4, xmm1

; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ce	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d1	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]
  001d6	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  001db	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  001de	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001e2	89 55 cc	 mov	 DWORD PTR tv1374[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001e5	8b 55 e8	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001e8	66 0f 6e 68 08	 movd	 xmm5, DWORD PTR [eax+8]

; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ed	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  001f1	f2 0f 11 45 e0	 movsd	 QWORD PTR tv1348[ebp], xmm0
  001f6	f2 0f 11 6d b4	 movsd	 QWORD PTR tv1350[ebp], xmm5

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001fb	f2 0f 5c e8	 subsd	 xmm5, xmm0

; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ff	f2 0f 11 7d d8	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm7

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00204	66 0f 2e e9	 ucomisd xmm5, xmm1
  00208	f2 0f 11 6d 94	 movsd	 QWORD PTR tv1283[ebp], xmm5
  0020d	9f		 lahf
  0020e	f6 c4 44	 test	 ah, 68			; 00000044H
  00211	7b 26		 jnp	 SHORT $LN45@Find_Bull_
  00213	66 0f 2e f9	 ucomisd xmm7, xmm1
  00217	9f		 lahf
  00218	f6 c4 44	 test	 ah, 68			; 00000044H
  0021b	7b 1c		 jnp	 SHORT $LN45@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0021d	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  00220	f2 0f 10 60 20	 movsd	 xmm4, QWORD PTR [eax+32]
  00225	f2 0f 5c e7	 subsd	 xmm4, xmm7
  00229	f2 0f 5e e7	 divsd	 xmm4, xmm7
  0022d	f2 0f 5e e5	 divsd	 xmm4, xmm5
  00231	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN45@Find_Bull_:

; 910  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 911  : 
; 912  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00239	8b 47 08	 mov	 eax, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  0023c	0f 28 e9	 movaps	 xmm5, xmm1

; 910  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 911  : 
; 912  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0023f	89 45 e8	 mov	 DWORD PTR tv1373[ebp], eax
  00242	66 0f 6e c0	 movd	 xmm0, eax
  00246	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0024a	f2 0f 11 45 a4	 movsd	 QWORD PTR tv1292[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0024f	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR tv1350[ebp]
  00254	66 0f 2e c1	 ucomisd xmm0, xmm1
  00258	f2 0f 11 45 b4	 movsd	 QWORD PTR tv1274[ebp], xmm0
  0025d	9f		 lahf
  0025e	f6 c4 44	 test	 ah, 68			; 00000044H
  00261	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  00264	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  00269	7b 24		 jnp	 SHORT $LN48@Find_Bull_
  0026b	66 0f 2e c1	 ucomisd xmm0, xmm1
  0026f	9f		 lahf
  00270	f6 c4 44	 test	 ah, 68			; 00000044H
  00273	7b 1a		 jnp	 SHORT $LN48@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00275	f2 0f 10 6f 20	 movsd	 xmm5, QWORD PTR [edi+32]
  0027a	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0027e	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00282	f2 0f 5e 6d b4	 divsd	 xmm5, QWORD PTR tv1274[ebp]
  00287	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN48@Find_Bull_:

; 913  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 914  : 
; 915  : 			if ( fabs(dGradient3) < 0.3 && dGradient2 > 0.3 )

  0028f	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@3fd3333333333333
  00297	0f 28 c4	 movaps	 xmm0, xmm4
  0029a	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002a1	66 0f 2f c8	 comisd	 xmm1, xmm0
  002a5	0f 57 c9	 xorps	 xmm1, xmm1
  002a8	0f 86 2a 03 00
	00		 jbe	 $LN79@Find_Bull_
  002ae	66 0f 2f 15 00
	00 00 00	 comisd	 xmm2, QWORD PTR __real@3fd3333333333333
  002b6	0f 86 1c 03 00
	00		 jbe	 $LN79@Find_Bull_

; 916  : 			{
; 917  : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002bc	66 0f 2f da	 comisd	 xmm3, xmm2
  002c0	0f 86 12 03 00
	00		 jbe	 $LN79@Find_Bull_
  002c6	66 0f 2f ec	 comisd	 xmm5, xmm4
  002ca	0f 86 08 03 00
	00		 jbe	 $LN79@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002d0	f2 0f 10 45 94	 movsd	 xmm0, QWORD PTR tv1283[ebp]
  002d5	0f 57 d2	 xorps	 xmm2, xmm2
  002d8	66 0f 2e c1	 ucomisd xmm0, xmm1
  002dc	9f		 lahf
  002dd	f6 c4 44	 test	 ah, 68			; 00000044H
  002e0	7b 10		 jnp	 SHORT $LN51@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  002e2	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  002e5	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  002ea	f2 0f 5c d7	 subsd	 xmm2, xmm7
  002ee	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN51@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002f2	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR tv1286[ebp]
  002f7	0f 57 db	 xorps	 xmm3, xmm3
  002fa	66 0f 2e c1	 ucomisd xmm0, xmm1
  002fe	9f		 lahf
  002ff	f6 c4 44	 test	 ah, 68			; 00000044H
  00302	7b 10		 jnp	 SHORT $LN70@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00304	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  00307	f2 0f 10 58 28	 movsd	 xmm3, QWORD PTR [eax+40]
  0030c	f2 0f 5c de	 subsd	 xmm3, xmm6
  00310	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN70@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00314	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv1292[ebp]
  00319	0f 57 ff	 xorps	 xmm7, xmm7
  0031c	f2 0f 5c 45 9c	 subsd	 xmm0, QWORD PTR tv1319[ebp]
  00321	66 0f 2e c1	 ucomisd xmm0, xmm1
  00325	9f		 lahf
  00326	f6 c4 44	 test	 ah, 68			; 00000044H
  00329	7b 13		 jnp	 SHORT $LN80@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0032b	f2 0f 10 7f 20	 movsd	 xmm7, QWORD PTR [edi+32]
  00330	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]
  00333	f2 0f 5c 7f 28	 subsd	 xmm7, QWORD PTR [edi+40]
  00338	f2 0f 5e f8	 divsd	 xmm7, xmm0
  0033c	eb 03		 jmp	 SHORT $LN72@Find_Bull_
$LN80@Find_Bull_:

; 987  : 
; 988  : // **********************************************
; 989  : // Bear Triangles				()
; 990  : // **********************************************
; 991  : BOOL CWavePattern::Find_Bear_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 992  : {
; 993  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 994  : 
; 995  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 996  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 997  : 	int		nPointCnt;
; 998  : 	int		nMininumData = 6;	// Bear Triangles    
; 999  : 
; 1000 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1001 : 	
; 1002 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1005 : 	{
; 1006 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1007 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1008 : 
; 1009 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1010 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1011 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1012 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1013 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1014 : 
; 1015 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1027 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1028 : 
; 1029 : 			if ( dGradient2 < -0.3 && fabs(dGradient3) < 0.3 )
; 1030 : 			{
; 1031 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1032 : 				{
; 1033 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1034 : 					double dYDrawPt1_1;
; 1035 : 					double dYDrawPt2_1;
; 1036 : 					double dXCrossPt1, dYCrossPt1;
; 1037 : 					double dXNeckPt1, dYNeckPt1;
; 1038 : 					double dXNeckPt2, dYNeckPt2;
; 1039 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1040 : 
; 1041 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1042 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1043 : 
; 1044 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1045 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1046 : 
; 1047 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1048 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1049 : 
; 1050 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1051 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1052 : 
; 1053 : 					// First Draw Data
; 1054 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1055 : 
; 1056 : 					// Second Draw Data
; 1057 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1058 : 
; 1059 : 					if ( (dGradA - dGradB) != 0)
; 1060 : 					{
; 1061 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1062 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1063 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)
; 1068 : 					{
; 1069 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1070 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1071 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)
; 1075 : 					{
; 1076 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1077 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1078 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1079 : 					}
; 1080 : 
; 1081 : 					// Neck Base Data1
; 1082 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1083 : 					// Neck Base Data2
; 1084 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1085 : 
; 1086 : 
; 1087 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1088 : 											PTN_BEAR_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1089 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1090 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1091 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1092 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1093 : 
; 1094 : 
; 1095 : 				}
; 1096 : 			}
; 1097 : 		}
; 1098 : 	}
; 1099 : 
; 1100 : 	return TRUE;
; 1101 : }
; 1102 : 
; 1103 : 
; 1104 : // **********************************************
; 1105 : // Bullish Wide Triangles		()
; 1106 : // **********************************************
; 1107 : BOOL CWavePattern::Find_Bullish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1108 : {
; 1109 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1110 : 
; 1111 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1112 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1113 : 	int		nPointCnt;
; 1114 : 	int		nMininumData = 7;	// Bullish Wide Triangles    
; 1115 : 
; 1116 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1117 : 	
; 1118 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1121 : 	{
; 1122 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1123 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1124 : 
; 1125 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1126 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1127 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1128 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1129 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1130 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1131 : 
; 1132 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))
; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1135 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1136 : 			
; 1137 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1138 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1139 : 
; 1140 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1147 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1148 : 
; 1149 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1150 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1151 : 
; 1152 : 			if ( dGradient4 > 0.3 && dGradient5 > 0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1153 : 			{
; 1154 : 				if ( dGradient2 < -0.3 && (fabs(dGradient6)-fabs(dGradient2) < 0.3) )
; 1155 : 				{
; 1156 : 					if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)
; 1157 : 					{
; 1158 : 						double dGradA, dGradB, dGradB_H;
; 1159 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1160 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1161 : 						double dXNeckPt1, dYNeckPt1;
; 1162 : 						double dXNeckPt2, dYNeckPt2;
; 1163 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1164 : 
; 1165 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1166 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1167 : 
; 1168 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1169 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1170 : 
; 1171 : 						dGradB_H = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 1172 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 1173 : 
; 1174 : 						// First Draw Data
; 1175 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)
; 1184 : 						{
; 1185 : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 
; 1186 : 											dGradB_H*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1187 : 							dYNeckPt1 = dGradB_H*(dXNeckPt1-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;
; 1188 : 						}
; 1189 : 						// Senond Neck Data
; 1190 : 						dXNeckPt2 = dXNeckPt1;
; 1191 : 						dYNeckPt2 = dYNeckPt1;
; 1192 : 
; 1193 : 						// Neck Base Data1
; 1194 : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1195 : 						// Neck Base Data2
; 1196 : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1197 : 
; 1198 : 
; 1199 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1200 : 												PTN_BULLISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1201 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1202 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1203 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1204 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1205 : 
; 1206 : 					}
; 1207 : 				}
; 1208 : 			}
; 1209 : 		}
; 1210 : 	}
; 1211 : 
; 1212 : 	return TRUE;
; 1213 : }
; 1214 : 
; 1215 : // **********************************************
; 1216 : // Bearish Wide Triangles		()
; 1217 : // **********************************************
; 1218 : BOOL CWavePattern::Find_Bearish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1219 : {
; 1220 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1221 : 
; 1222 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1223 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1224 : 	int		nPointCnt;
; 1225 : 	int		nMininumData = 7;	// Bearish Wide Triangles    
; 1226 : 
; 1227 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1228 : 	
; 1229 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1232 : 	{
; 1233 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1234 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1235 : 
; 1236 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1237 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1238 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1239 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1240 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1241 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1242 : 
; 1243 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))
; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1246 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1247 : 			
; 1248 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1249 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1250 : 
; 1251 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1258 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1259 : 
; 1260 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1261 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1262 : 
; 1263 : 			if ( dGradient4 < -0.3 && dGradient5 < -0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1264 : 			{
; 1265 : 				if ( dGradient2 > 0.3 && (fabs(dGradient2)-fabs(dGradient6) < 0.3) )
; 1266 : 				{
; 1267 : 					if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)
; 1268 : 					{
; 1269 : 						double dGradA, dGradB, dGradA_L;
; 1270 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1271 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1272 : 						double dXNeckPt1, dYNeckPt1;
; 1273 : 						double dXNeckPt2, dYNeckPt2;
; 1274 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1275 : 
; 1276 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1277 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1278 : 						
; 1279 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1280 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1281 : 
; 1282 : 						dGradA_L = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 1283 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 1284 : 
; 1285 : 						// First Draw Data
; 1286 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)
; 1295 : 						{
; 1296 : 							dXNeckPt1 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1297 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradA_L*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1298 : 							dYNeckPt1 = dGradA*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1299 : 						}
; 1300 : 						// Senond Neck Data
; 1301 : 						dXNeckPt2 = dXNeckPt1;
; 1302 : 						dYNeckPt2 = dYNeckPt1;
; 1303 : 
; 1304 : 						// Neck Base Data1
; 1305 : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1306 : 						// Neck Base Data2
; 1307 : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1308 : 
; 1309 : 
; 1310 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1311 : 												PTN_BEARISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1312 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1313 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1314 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1315 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1316 : 
; 1317 : 					}
; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 
; 1323 : 	return TRUE;
; 1324 : }
; 1325 : 
; 1326 : 
; 1327 : // **********************************************
; 1328 : // Bull Wedge					()
; 1329 : // **********************************************
; 1330 : BOOL CWavePattern::Find_Bull_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1331 : {
; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1344 : 	{
; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1347 : 
; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))
; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;
; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)
; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)
; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)
; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;
; 1443 : }
; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0033e	8b 7d f8	 mov	 edi, DWORD PTR _pHighLowPtData5$1$[ebp]
$LN72@Find_Bull_:
  00341	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  00346	0f 57 e4	 xorps	 xmm4, xmm4
  00349	f2 0f 10 6d e0	 movsd	 xmm5, QWORD PTR tv1348[ebp]
  0034e	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00352	f2 0f 5c e8	 subsd	 xmm5, xmm0
  00356	66 0f 2e e9	 ucomisd xmm5, xmm1
  0035a	9f		 lahf
  0035b	f6 c4 44	 test	 ah, 68			; 00000044H
  0035e	7b 16		 jnp	 SHORT $LN73@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00360	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  00363	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  00368	0f 28 e0	 movaps	 xmm4, xmm0
  0036b	f2 0f 5c 62 28	 subsd	 xmm4, QWORD PTR [edx+40]
  00370	f2 0f 5e e5	 divsd	 xmm4, xmm5
  00374	eb 05		 jmp	 SHORT $LN66@Find_Bull_
$LN73@Find_Bull_:

; 987  : 
; 988  : // **********************************************
; 989  : // Bear Triangles				()
; 990  : // **********************************************
; 991  : BOOL CWavePattern::Find_Bear_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 992  : {
; 993  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 994  : 
; 995  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 996  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 997  : 	int		nPointCnt;
; 998  : 	int		nMininumData = 6;	// Bear Triangles    
; 999  : 
; 1000 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1001 : 	
; 1002 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1005 : 	{
; 1006 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1007 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1008 : 
; 1009 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1010 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1011 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1012 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1013 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1014 : 
; 1015 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1027 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1028 : 
; 1029 : 			if ( dGradient2 < -0.3 && fabs(dGradient3) < 0.3 )
; 1030 : 			{
; 1031 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1032 : 				{
; 1033 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1034 : 					double dYDrawPt1_1;
; 1035 : 					double dYDrawPt2_1;
; 1036 : 					double dXCrossPt1, dYCrossPt1;
; 1037 : 					double dXNeckPt1, dYNeckPt1;
; 1038 : 					double dXNeckPt2, dYNeckPt2;
; 1039 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1040 : 
; 1041 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1042 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1043 : 
; 1044 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1045 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1046 : 
; 1047 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1048 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1049 : 
; 1050 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1051 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1052 : 
; 1053 : 					// First Draw Data
; 1054 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1055 : 
; 1056 : 					// Second Draw Data
; 1057 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1058 : 
; 1059 : 					if ( (dGradA - dGradB) != 0)
; 1060 : 					{
; 1061 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1062 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1063 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)
; 1068 : 					{
; 1069 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1070 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1071 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)
; 1075 : 					{
; 1076 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1077 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1078 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1079 : 					}
; 1080 : 
; 1081 : 					// Neck Base Data1
; 1082 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1083 : 					// Neck Base Data2
; 1084 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1085 : 
; 1086 : 
; 1087 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1088 : 											PTN_BEAR_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1089 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1090 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1091 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1092 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1093 : 
; 1094 : 
; 1095 : 				}
; 1096 : 			}
; 1097 : 		}
; 1098 : 	}
; 1099 : 
; 1100 : 	return TRUE;
; 1101 : }
; 1102 : 
; 1103 : 
; 1104 : // **********************************************
; 1105 : // Bullish Wide Triangles		()
; 1106 : // **********************************************
; 1107 : BOOL CWavePattern::Find_Bullish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1108 : {
; 1109 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1110 : 
; 1111 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1112 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1113 : 	int		nPointCnt;
; 1114 : 	int		nMininumData = 7;	// Bullish Wide Triangles    
; 1115 : 
; 1116 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1117 : 	
; 1118 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1121 : 	{
; 1122 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1123 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1124 : 
; 1125 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1126 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1127 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1128 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1129 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1130 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1131 : 
; 1132 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))
; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1135 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1136 : 			
; 1137 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1138 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1139 : 
; 1140 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1147 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1148 : 
; 1149 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1150 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1151 : 
; 1152 : 			if ( dGradient4 > 0.3 && dGradient5 > 0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1153 : 			{
; 1154 : 				if ( dGradient2 < -0.3 && (fabs(dGradient6)-fabs(dGradient2) < 0.3) )
; 1155 : 				{
; 1156 : 					if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)
; 1157 : 					{
; 1158 : 						double dGradA, dGradB, dGradB_H;
; 1159 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1160 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1161 : 						double dXNeckPt1, dYNeckPt1;
; 1162 : 						double dXNeckPt2, dYNeckPt2;
; 1163 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1164 : 
; 1165 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1166 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1167 : 
; 1168 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1169 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1170 : 
; 1171 : 						dGradB_H = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 1172 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 1173 : 
; 1174 : 						// First Draw Data
; 1175 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)
; 1184 : 						{
; 1185 : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 
; 1186 : 											dGradB_H*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1187 : 							dYNeckPt1 = dGradB_H*(dXNeckPt1-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;
; 1188 : 						}
; 1189 : 						// Senond Neck Data
; 1190 : 						dXNeckPt2 = dXNeckPt1;
; 1191 : 						dYNeckPt2 = dYNeckPt1;
; 1192 : 
; 1193 : 						// Neck Base Data1
; 1194 : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1195 : 						// Neck Base Data2
; 1196 : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1197 : 
; 1198 : 
; 1199 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1200 : 												PTN_BULLISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1201 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1202 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1203 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1204 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1205 : 
; 1206 : 					}
; 1207 : 				}
; 1208 : 			}
; 1209 : 		}
; 1210 : 	}
; 1211 : 
; 1212 : 	return TRUE;
; 1213 : }
; 1214 : 
; 1215 : // **********************************************
; 1216 : // Bearish Wide Triangles		()
; 1217 : // **********************************************
; 1218 : BOOL CWavePattern::Find_Bearish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1219 : {
; 1220 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1221 : 
; 1222 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1223 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1224 : 	int		nPointCnt;
; 1225 : 	int		nMininumData = 7;	// Bearish Wide Triangles    
; 1226 : 
; 1227 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1228 : 	
; 1229 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1232 : 	{
; 1233 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1234 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1235 : 
; 1236 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1237 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1238 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1239 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1240 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1241 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1242 : 
; 1243 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))
; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1246 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1247 : 			
; 1248 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1249 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1250 : 
; 1251 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1258 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1259 : 
; 1260 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1261 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1262 : 
; 1263 : 			if ( dGradient4 < -0.3 && dGradient5 < -0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1264 : 			{
; 1265 : 				if ( dGradient2 > 0.3 && (fabs(dGradient2)-fabs(dGradient6) < 0.3) )
; 1266 : 				{
; 1267 : 					if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)
; 1268 : 					{
; 1269 : 						double dGradA, dGradB, dGradA_L;
; 1270 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1271 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1272 : 						double dXNeckPt1, dYNeckPt1;
; 1273 : 						double dXNeckPt2, dYNeckPt2;
; 1274 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1275 : 
; 1276 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1277 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1278 : 						
; 1279 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1280 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1281 : 
; 1282 : 						dGradA_L = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 1283 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 1284 : 
; 1285 : 						// First Draw Data
; 1286 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)
; 1295 : 						{
; 1296 : 							dXNeckPt1 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1297 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradA_L*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1298 : 							dYNeckPt1 = dGradA*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1299 : 						}
; 1300 : 						// Senond Neck Data
; 1301 : 						dXNeckPt2 = dXNeckPt1;
; 1302 : 						dYNeckPt2 = dYNeckPt1;
; 1303 : 
; 1304 : 						// Neck Base Data1
; 1305 : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1306 : 						// Neck Base Data2
; 1307 : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1308 : 
; 1309 : 
; 1310 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1311 : 												PTN_BEARISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1312 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1313 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1314 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1315 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1316 : 
; 1317 : 					}
; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 
; 1323 : 	return TRUE;
; 1324 : }
; 1325 : 
; 1326 : 
; 1327 : // **********************************************
; 1328 : // Bull Wedge					()
; 1329 : // **********************************************
; 1330 : BOOL CWavePattern::Find_Bull_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1331 : {
; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1344 : 	{
; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1347 : 
; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))
; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;
; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)
; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)
; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)
; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;
; 1443 : }
; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00376	f2 0f 10 45 d8	 movsd	 xmm0, QWORD PTR _dYPos1$1$[ebp]
$LN66@Find_Bull_:

; 918  : 				{
; 919  : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 920  : 					double dYDrawPt1_1;
; 921  : 					double dYDrawPt2_1;
; 922  : 					double dXCrossPt1, dYCrossPt1;
; 923  : 					double dXNeckPt1, dYNeckPt1;
; 924  : 					double dXNeckPt2, dYNeckPt2;
; 925  : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 926  : 
; 927  : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 928  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 929  : 
; 930  : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 931  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 932  : 
; 933  : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 934  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 935  : 
; 936  : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 937  : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 938  : 
; 939  : 					// First Draw Data
; 940  : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0037b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0037e	2b 45 cc	 sub	 eax, DWORD PTR tv1374[ebp]
  00381	66 0f 6e e8	 movd	 xmm5, eax

; 941  : 
; 942  : 					// Second Draw Data
; 943  : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00385	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00388	2b 41 08	 sub	 eax, DWORD PTR [ecx+8]
  0038b	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  0038f	f2 0f 59 ea	 mulsd	 xmm5, xmm2
  00393	f2 0f 58 e8	 addsd	 xmm5, xmm0
  00397	f2 0f 11 6d ac	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm5
  0039c	66 0f 6e e8	 movd	 xmm5, eax
  003a0	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  003a4	f2 0f 59 eb	 mulsd	 xmm5, xmm3
  003a8	f2 0f 58 ee	 addsd	 xmm5, xmm6
  003ac	f2 0f 11 6d a4	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm5

; 944  : 
; 945  : 					if ( (dGradA - dGradB) != 0)

  003b1	0f 28 ea	 movaps	 xmm5, xmm2
  003b4	f2 0f 5c eb	 subsd	 xmm5, xmm3
  003b8	66 0f 2e e9	 ucomisd xmm5, xmm1
  003bc	f2 0f 11 6d d8	 movsd	 QWORD PTR tv1303[ebp], xmm5
  003c1	9f		 lahf
  003c2	f6 c4 44	 test	 ah, 68			; 00000044H
  003c5	7b 69		 jnp	 SHORT $LN71@Find_Bull_

; 946  : 					{
; 947  : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 

  003c7	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  003cc	0f 28 eb	 movaps	 xmm5, xmm3
  003cf	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  003d2	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003d6	f2 0f 59 e8	 mulsd	 xmm5, xmm0
  003da	0f 28 c2	 movaps	 xmm0, xmm2
  003dd	f2 0f 59 45 e0	 mulsd	 xmm0, QWORD PTR tv1348[ebp]
  003e2	f2 0f 11 45 d0	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm0
  003e7	0f 28 c6	 movaps	 xmm0, xmm6
  003ea	f2 0f 5c 40 20	 subsd	 xmm0, QWORD PTR [eax+32]
  003ef	f2 0f 10 4d d0	 movsd	 xmm1, QWORD PTR _dXCrossPt1$7[ebp]
  003f4	f2 0f 58 c8	 addsd	 xmm1, xmm0
  003f8	0f 28 c1	 movaps	 xmm0, xmm1
  003fb	f2 0f 11 4d d0	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm1
  00400	f2 0f 5c c5	 subsd	 xmm0, xmm5
  00404	f2 0f 5e 45 d8	 divsd	 xmm0, QWORD PTR tv1303[ebp]

; 948  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 949  : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00409	0f 28 c8	 movaps	 xmm1, xmm0
  0040c	f2 0f 11 45 d0	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm0
  00411	f2 0f 5c 4d e0	 subsd	 xmm1, QWORD PTR tv1348[ebp]
  00416	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  0041b	f2 0f 59 ca	 mulsd	 xmm1, xmm2
  0041f	f2 0f 58 c8	 addsd	 xmm1, xmm0
  00423	f2 0f 11 8d 74
	ff ff ff	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm1
  0042b	0f 57 c9	 xorps	 xmm1, xmm1
  0042e	eb 0d		 jmp	 SHORT $LN68@Find_Bull_
$LN71@Find_Bull_:
  00430	66 0f 6e 69 08	 movd	 xmm5, DWORD PTR [ecx+8]
  00435	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  00439	f2 0f 59 eb	 mulsd	 xmm5, xmm3
$LN68@Find_Bull_:

; 950  : 					}
; 951  : 
; 952  : 					// First Neck Data
; 953  : 					if ( (dGradB - dGradB_L) != 0)

  0043d	0f 28 f3	 movaps	 xmm6, xmm3
  00440	f2 0f 5c f4	 subsd	 xmm6, xmm4
  00444	66 0f 2e f1	 ucomisd xmm6, xmm1
  00448	f2 0f 11 75 d8	 movsd	 QWORD PTR tv1312[ebp], xmm6
  0044d	f2 0f 10 71 28	 movsd	 xmm6, QWORD PTR [ecx+40]
  00452	8b 49 08	 mov	 ecx, DWORD PTR [ecx+8]
  00455	9f		 lahf
  00456	f6 c4 44	 test	 ah, 68			; 00000044H
  00459	7b 58		 jnp	 SHORT $LN75@Find_Bull_

; 954  : 					{
; 955  : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 

  0045b	f2 0f 10 4a 28	 movsd	 xmm1, QWORD PTR [edx+40]
  00460	8b 55 ec	 mov	 edx, DWORD PTR tv1376[ebp]
  00463	f2 0f 5c ce	 subsd	 xmm1, xmm6
  00467	f2 0f 58 cd	 addsd	 xmm1, xmm5
  0046b	f2 0f 11 4d bc	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm1
  00470	f2 0f 10 6d bc	 movsd	 xmm5, QWORD PTR _dXNeckPt1$5[ebp]
  00475	66 0f 6e ca	 movd	 xmm1, edx
  00479	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  0047d	f2 0f 59 e1	 mulsd	 xmm4, xmm1
  00481	66 0f 6e c9	 movd	 xmm1, ecx

; 956  : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 957  : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00485	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00489	f2 0f 5c ec	 subsd	 xmm5, xmm4
  0048d	f2 0f 5e 6d d8	 divsd	 xmm5, QWORD PTR tv1312[ebp]
  00492	0f 28 e5	 movaps	 xmm4, xmm5
  00495	f2 0f 11 6d bc	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm5
  0049a	f2 0f 5c e1	 subsd	 xmm4, xmm1
  0049e	0f 57 c9	 xorps	 xmm1, xmm1
  004a1	f2 0f 59 e3	 mulsd	 xmm4, xmm3
  004a5	f2 0f 58 e6	 addsd	 xmm4, xmm6
  004a9	f2 0f 11 a5 7c
	ff ff ff	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm4
  004b1	eb 08		 jmp	 SHORT $LN16@Find_Bull_
$LN75@Find_Bull_:

; 950  : 					}
; 951  : 
; 952  : 					// First Neck Data
; 953  : 					if ( (dGradB - dGradB_L) != 0)

  004b3	f2 0f 10 6d bc	 movsd	 xmm5, QWORD PTR _dXNeckPt1$5[ebp]
  004b8	8b 55 ec	 mov	 edx, DWORD PTR tv1376[ebp]
$LN16@Find_Bull_:

; 958  : 					}
; 959  : 					// Second Neck Data
; 960  : 					if ( (dGradA - dGradA_L) != 0)

  004bb	0f 28 e2	 movaps	 xmm4, xmm2
  004be	f2 0f 5c e7	 subsd	 xmm4, xmm7
  004c2	66 0f 2e e1	 ucomisd xmm4, xmm1
  004c6	9f		 lahf
  004c7	f6 c4 44	 test	 ah, 68			; 00000044H
  004ca	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  004cd	7b 43		 jnp	 SHORT $LN74@Find_Bull_

; 961  : 					{
; 962  : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  004cf	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  004d4	f2 0f 5c c8	 subsd	 xmm1, xmm0
  004d8	0f 28 c2	 movaps	 xmm0, xmm2
  004db	f2 0f 59 45 e0	 mulsd	 xmm0, QWORD PTR tv1348[ebp]
  004e0	f2 0f 58 c8	 addsd	 xmm1, xmm0
  004e4	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR tv1319[ebp]
  004e9	f2 0f 59 c7	 mulsd	 xmm0, xmm7
  004ed	f2 0f 5c c8	 subsd	 xmm1, xmm0
  004f1	f2 0f 5e cc	 divsd	 xmm1, xmm4

; 963  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 964  : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  004f5	0f 28 c1	 movaps	 xmm0, xmm1
  004f8	f2 0f 11 4d 8c	 movsd	 QWORD PTR _dXNeckPt2$4[ebp], xmm1
  004fd	f2 0f 5c 45 e0	 subsd	 xmm0, QWORD PTR tv1348[ebp]
  00502	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00506	f2 0f 58 40 20	 addsd	 xmm0, QWORD PTR [eax+32]
  0050b	f2 0f 11 45 84	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm0
  00510	eb 05		 jmp	 SHORT $LN17@Find_Bull_
$LN74@Find_Bull_:

; 958  : 					}
; 959  : 					// Second Neck Data
; 960  : 					if ( (dGradA - dGradA_L) != 0)

  00512	f2 0f 10 4d 8c	 movsd	 xmm1, QWORD PTR _dXNeckPt2$4[ebp]
$LN17@Find_Bull_:

; 965  : 					}
; 966  : 
; 967  : 					// Neck Base Data1
; 968  : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 969  : 					// Neck Base Data2
; 970  : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 971  : 
; 972  : 
; 973  : 					AddNewWavePatternData(	pObjWavePatternData,

  00517	83 ec 70	 sub	 esp, 112		; 00000070H
  0051a	0f 28 c5	 movaps	 xmm0, xmm5
  0051d	f2 0f 5c 45 e0	 subsd	 xmm0, QWORD PTR tv1348[ebp]
  00522	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00526	66 0f 6e d1	 movd	 xmm2, ecx
  0052a	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0052e	8b 4d c8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00531	f2 0f 58 40 20	 addsd	 xmm0, QWORD PTR [eax+32]
  00536	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0053c	0f 28 c5	 movaps	 xmm0, xmm5
  0053f	f2 0f 5c c2	 subsd	 xmm0, xmm2
  00543	66 0f 6e d2	 movd	 xmm2, edx
  00547	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0054b	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  0054f	f2 0f 10 9d 74
	ff ff ff	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  00557	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0055b	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00561	f2 0f 10 45 84	 movsd	 xmm0, QWORD PTR _dYNeckPt2$3[ebp]
  00566	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  0056c	f2 0f 10 85 7c
	ff ff ff	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00574	f2 0f 11 4c 24
	50		 movsd	 QWORD PTR [esp+80], xmm1
  0057a	f2 0f 10 4d d0	 movsd	 xmm1, QWORD PTR _dXCrossPt1$7[ebp]
  0057f	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  00585	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  0058a	f2 0f 11 6c 24
	40		 movsd	 QWORD PTR [esp+64], xmm5
  00590	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  00596	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  0059c	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  005a2	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005a7	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  005ad	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  005b3	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005b9	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005bf	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005c4	ff 75 e8	 push	 DWORD PTR tv1373[ebp]
  005c7	52		 push	 edx
  005c8	68 a7 0f 00 00	 push	 4007			; 00000fa7H
  005cd	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005d0	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005d5	0f 57 c9	 xorps	 xmm1, xmm1
$LN79@Find_Bull_:

; 889  : 
; 890  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005d8	f2 0f 10 3d 00
	00 00 00	 movsd	 xmm7, QWORD PTR __real@4059000000000000
$LN2@Find_Bull_:
  005e0	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005e3	46		 inc	 esi
  005e4	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005e7	3b 45 c4	 cmp	 eax, DWORD PTR $T6[ebp]
  005ea	0f 8e 40 fa ff
	ff		 jle	 $LL4@Find_Bull_
  005f0	5f		 pop	 edi
  005f1	5e		 pop	 esi
$LN3@Find_Bull_:

; 974  : 											PTN_BULL_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 975  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 976  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 977  : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 978  : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 979  : 
; 980  : 				}
; 981  : 			}
; 982  : 		}
; 983  : 	}
; 984  : 
; 985  : 	return TRUE;

  005f2	b8 01 00 00 00	 mov	 eax, 1

; 986  : }

  005f7	8b e5		 mov	 esp, ebp
  005f9	5d		 pop	 ebp
  005fa	c2 08 00	 ret	 8
$LN20@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005fd	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN81@Find_Bull_:
  00602	cc		 int	 3
?Find_Bull_Triangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bull_Triangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bear_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -132					; size = 8
_dYNeckPt1$2 = -124					; size = 8
_dYNeckPt2$3 = -116					; size = 8
_dXNeckPt2$4 = -108					; size = 8
tv1415 = -100						; size = 8
tv1515 = -92						; size = 8
_dYDrawPt2_1$1$ = -84					; size = 8
_dYPos1$1$ = -84					; size = 8
_dYDrawPt1_1$1$ = -76					; size = 8
tv1419 = -76						; size = 8
$T5 = -68						; size = 4
_this$1$ = -64						; size = 4
tv1542 = -60						; size = 4
_dYPos1$1$ = -56					; size = 8
tv1428 = -56						; size = 8
tv1511 = -48						; size = 8
tv1444 = -48						; size = 8
tv1435 = -48						; size = 8
_dXCrossPt1$6 = -40					; size = 8
tv1513 = -32						; size = 8
_dXNeckPt1$7 = -24					; size = 8
tv1541 = -16						; size = 4
_pHighLowPtData1$1$ = -16				; size = 4
_pHighLowPtData4$1$ = -12				; size = 4
tv1544 = -12						; size = 4
_pHighLowPtData2$1$ = -8				; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bear_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bear_IsoTriangles, COMDAT
; _this$ = ecx

; 759  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H

; 770  : 
; 771  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d c0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 bc	 mov	 DWORD PTR $T5[ebp], eax
  00018	0f 88 03 06 00
	00		 js	 $LN3@Find_Bear_

; 760  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 761  : 
; 762  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 763  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 764  : 	int		nPointCnt;
; 765  : 	int		nMininumData = 6;	// Bear Isosceles Triangles    
; 766  : 
; 767  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 768  : 	
; 769  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00026	0f 57 d2	 xorps	 xmm2, xmm2
  00029	56		 push	 esi
  0002a	57		 push	 edi
  0002b	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 f1 05 00
	00		 js	 $LN21@Find_Bear_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d e6 05 00
	00		 jge	 $LN21@Find_Bear_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 773  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 f0	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 b7 05 00
	00		 je	 $LN2@Find_Bear_

; 774  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00058	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  0005f	0f 85 aa 05 00
	00		 jne	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 bc 05 00
	00		 js	 $LN21@Find_Bear_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d b4 05 00
	00		 jge	 $LN21@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 776  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d f8	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 88 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 9d 05 00
	00		 js	 $LN21@Find_Bear_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 95 05 00
	00		 jge	 $LN21@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 777  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  0009b	0f 84 6e 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a1	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a4	85 ff		 test	 edi, edi
  000a6	0f 88 80 05 00
	00		 js	 $LN21@Find_Bear_
  000ac	3b f8		 cmp	 edi, eax
  000ae	0f 8d 78 05 00
	00		 jge	 $LN21@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 778  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b4	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b8	89 7d f4	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bb	85 ff		 test	 edi, edi
  000bd	0f 84 4c 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c3	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c6	85 ff		 test	 edi, edi
  000c8	0f 88 5e 05 00
	00		 js	 $LN21@Find_Bear_
  000ce	3b f8		 cmp	 edi, eax
  000d0	0f 8d 56 05 00
	00		 jge	 $LN21@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 779  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d6	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000da	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000dd	85 ff		 test	 edi, edi
  000df	0f 84 2a 05 00
	00		 je	 $LN2@Find_Bear_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e5	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e8	85 ff		 test	 edi, edi
  000ea	0f 88 3c 05 00
	00		 js	 $LN21@Find_Bear_
  000f0	3b f8		 cmp	 edi, eax
  000f2	0f 8d 34 05 00
	00		 jge	 $LN21@Find_Bear_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 780  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f8	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  000fc	85 ff		 test	 edi, edi
  000fe	0f 84 0b 05 00
	00		 je	 $LN2@Find_Bear_

; 781  : 
; 782  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))

  00104	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  00107	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  0010c	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]
  00111	66 0f 2f c7	 comisd	 xmm0, xmm7
  00115	0f 86 f4 04 00
	00		 jbe	 $LN2@Find_Bear_
  0011b	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  0011e	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00123	66 0f 2f 67 28	 comisd	 xmm4, QWORD PTR [edi+40]
  00128	f2 0f 11 65 c8	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm4
  0012d	0f 86 dc 04 00
	00		 jbe	 $LN2@Find_Bear_

; 783  : 		{
; 784  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00133	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  00136	0f 28 ea	 movaps	 xmm5, xmm2
  00139	66 0f 6e 5a 08	 movd	 xmm3, DWORD PTR [edx+8]

; 783  : 		{
; 784  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0013e	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  00142	89 45 f4	 mov	 DWORD PTR tv1544[ebp], eax
  00145	66 0f 6e e0	 movd	 xmm4, eax
  00149	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0014d	0f 28 cc	 movaps	 xmm1, xmm4
  00150	f2 0f 5c cb	 subsd	 xmm1, xmm3
  00154	66 0f 2e ca	 ucomisd xmm1, xmm2
  00158	9f		 lahf
  00159	f6 c4 44	 test	 ah, 68			; 00000044H
  0015c	7b 1d		 jnp	 SHORT $LN40@Find_Bear_
  0015e	66 0f 2e c2	 ucomisd xmm0, xmm2
  00162	9f		 lahf
  00163	f6 c4 44	 test	 ah, 68			; 00000044H
  00166	7b 13		 jnp	 SHORT $LN40@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00168	0f 28 ef	 movaps	 xmm5, xmm7
  0016b	f2 0f 5c e8	 subsd	 xmm5, xmm0
  0016f	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00173	f2 0f 5e e9	 divsd	 xmm5, xmm1
  00177	f2 0f 59 ee	 mulsd	 xmm5, xmm6
$LN40@Find_Bear_:

; 785  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 786  : 			
; 787  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0017b	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0017e	0f 28 da	 movaps	 xmm3, xmm2
  00181	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 785  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 786  : 			
; 787  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  00186	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0018a	f2 0f 11 45 d0	 movsd	 QWORD PTR tv1511[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0018f	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00193	66 0f 2e c2	 ucomisd xmm0, xmm2
  00197	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1415[ebp], xmm0
  0019c	9f		 lahf
  0019d	f6 c4 44	 test	 ah, 68			; 00000044H
  001a0	7b 22		 jnp	 SHORT $LN43@Find_Bear_
  001a2	66 0f 2e fa	 ucomisd xmm7, xmm2
  001a6	9f		 lahf
  001a7	f6 c4 44	 test	 ah, 68			; 00000044H
  001aa	7b 18		 jnp	 SHORT $LN43@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001ac	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001af	f2 0f 10 58 20	 movsd	 xmm3, QWORD PTR [eax+32]
  001b4	f2 0f 5c df	 subsd	 xmm3, xmm7
  001b8	f2 0f 5e df	 divsd	 xmm3, xmm7
  001bc	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001c0	f2 0f 59 de	 mulsd	 xmm3, xmm6
$LN43@Find_Bear_:

; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001c4	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001c7	0f 28 e2	 movaps	 xmm4, xmm2
  001ca	66 0f 6e 49 08	 movd	 xmm1, DWORD PTR [ecx+8]

; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001cf	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  001d3	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d6	89 55 c4	 mov	 DWORD PTR tv1542[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001d9	8b 55 f0	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001dc	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001e1	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001e5	0f 28 f1	 movaps	 xmm6, xmm1

; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001e8	f2 0f 11 4d a4	 movsd	 QWORD PTR tv1515[ebp], xmm1
  001ed	f2 0f 11 45 e0	 movsd	 QWORD PTR tv1513[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001f2	f2 0f 5c 75 e0	 subsd	 xmm6, QWORD PTR tv1513[ebp]

; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001f7	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  001fc	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00201	66 0f 2e f2	 ucomisd xmm6, xmm2
  00205	f2 0f 11 75 b4	 movsd	 QWORD PTR tv1419[ebp], xmm6
  0020a	9f		 lahf
  0020b	f6 c4 44	 test	 ah, 68			; 00000044H
  0020e	7b 28		 jnp	 SHORT $LN76@Find_Bear_
  00210	66 0f 2e c2	 ucomisd xmm0, xmm2
  00214	9f		 lahf
  00215	f6 c4 44	 test	 ah, 68			; 00000044H
  00218	7b 1e		 jnp	 SHORT $LN76@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0021a	f2 0f 10 49 28	 movsd	 xmm1, QWORD PTR [ecx+40]
  0021f	0f 28 e1	 movaps	 xmm4, xmm1
  00222	f2 0f 5c e0	 subsd	 xmm4, xmm0
  00226	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0022a	f2 0f 5e e6	 divsd	 xmm4, xmm6
  0022e	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
  00236	eb 05		 jmp	 SHORT $LN46@Find_Bear_
$LN76@Find_Bear_:

; 791  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 792  : 
; 793  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00238	f2 0f 10 4d c8	 movsd	 xmm1, QWORD PTR _dYPos1$1$[ebp]
$LN46@Find_Bear_:
  0023d	8b 47 08	 mov	 eax, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  00240	0f 28 f2	 movaps	 xmm6, xmm2

; 791  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 792  : 
; 793  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 

  00243	89 45 f0	 mov	 DWORD PTR tv1541[ebp], eax
  00246	66 0f 6e c0	 movd	 xmm0, eax
  0024a	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0024e	f2 0f 11 45 c8	 movsd	 QWORD PTR tv1428[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00253	f2 0f 5c 45 a4	 subsd	 xmm0, QWORD PTR tv1515[ebp]
  00258	66 0f 2e c2	 ucomisd xmm0, xmm2
  0025c	9f		 lahf
  0025d	f6 c4 44	 test	 ah, 68			; 00000044H
  00260	7b 23		 jnp	 SHORT $LN49@Find_Bear_
  00262	66 0f 2e ca	 ucomisd xmm1, xmm2
  00266	9f		 lahf
  00267	f6 c4 44	 test	 ah, 68			; 00000044H
  0026a	7b 19		 jnp	 SHORT $LN49@Find_Bear_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0026c	f2 0f 10 77 28	 movsd	 xmm6, QWORD PTR [edi+40]
  00271	f2 0f 5c f1	 subsd	 xmm6, xmm1
  00275	f2 0f 5e f1	 divsd	 xmm6, xmm1
  00279	f2 0f 5e f0	 divsd	 xmm6, xmm0
  0027d	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN49@Find_Bear_:

; 794  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 795  : 
; 796  : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 && (fabs(dGradient2)-fabs(dGradient3) < 0.3))

  00285	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bfd3333333333333
  0028d	66 0f 2f c3	 comisd	 xmm0, xmm3
  00291	0f 86 70 03 00
	00		 jbe	 $LN83@Find_Bear_
  00297	66 0f 2f 25 00
	00 00 00	 comisd	 xmm4, QWORD PTR __real@3fd3333333333333
  0029f	0f 86 62 03 00
	00		 jbe	 $LN83@Find_Bear_
  002a5	0f 28 c4	 movaps	 xmm0, xmm4
  002a8	0f 28 cb	 movaps	 xmm1, xmm3
  002ab	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002b2	0f 54 0d 00 00
	00 00		 andps	 xmm1, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002b9	f2 0f 5c c8	 subsd	 xmm1, xmm0
  002bd	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3fd3333333333333
  002c5	66 0f 2f c1	 comisd	 xmm0, xmm1
  002c9	0f 86 38 03 00
	00		 jbe	 $LN83@Find_Bear_

; 797  : 			{
; 798  : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) < 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))

  002cf	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  002d2	0f 28 cf	 movaps	 xmm1, xmm7
  002d5	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  002da	f2 0f 5c 48 28	 subsd	 xmm1, QWORD PTR [eax+40]
  002df	f2 0f 5c 40 28	 subsd	 xmm0, QWORD PTR [eax+40]
  002e4	f2 0f 58 c9	 addsd	 xmm1, xmm1
  002e8	66 0f 2f c8	 comisd	 xmm1, xmm0
  002ec	0f 86 15 03 00
	00		 jbe	 $LN83@Find_Bear_

; 799  : 				{
; 800  : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)

  002f2	66 0f 2f dd	 comisd	 xmm3, xmm5
  002f6	0f 86 0b 03 00
	00		 jbe	 $LN83@Find_Bear_
  002fc	66 0f 2f e6	 comisd	 xmm4, xmm6
  00300	0f 86 01 03 00
	00		 jbe	 $LN83@Find_Bear_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00306	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR tv1415[ebp]
  0030b	0f 28 da	 movaps	 xmm3, xmm2
  0030e	66 0f 2e c2	 ucomisd xmm0, xmm2
  00312	9f		 lahf
  00313	f6 c4 44	 test	 ah, 68			; 00000044H
  00316	7b 10		 jnp	 SHORT $LN72@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00318	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  0031b	f2 0f 10 58 20	 movsd	 xmm3, QWORD PTR [eax+32]
  00320	f2 0f 5c df	 subsd	 xmm3, xmm7
  00324	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN72@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00328	f2 0f 10 4d b4	 movsd	 xmm1, QWORD PTR tv1419[ebp]
  0032d	0f 28 e2	 movaps	 xmm4, xmm2
  00330	66 0f 2e ca	 ucomisd xmm1, xmm2
  00334	9f		 lahf
  00335	f6 c4 44	 test	 ah, 68			; 00000044H
  00338	7b 17		 jnp	 SHORT $LN74@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0033a	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0033d	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00342	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  00347	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0034b	f2 0f 5e e1	 divsd	 xmm4, xmm1
  0034f	eb 05		 jmp	 SHORT $LN55@Find_Bear_
$LN74@Find_Bear_:

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00351	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYPos1$1$[ebp]
$LN55@Find_Bear_:
  00356	66 0f 6e 72 08	 movd	 xmm6, DWORD PTR [edx+8]

; 2444 : 	double dGradient=0;

  0035b	0f 28 ca	 movaps	 xmm1, xmm2

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0035e	f2 0f 10 6d e0	 movsd	 xmm5, QWORD PTR tv1513[ebp]
  00363	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  00367	f2 0f 5c ee	 subsd	 xmm5, xmm6
  0036b	66 0f 2e ea	 ucomisd xmm5, xmm2
  0036f	9f		 lahf
  00370	f6 c4 44	 test	 ah, 68			; 00000044H
  00373	7b 0c		 jnp	 SHORT $LN67@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00375	0f 28 c8	 movaps	 xmm1, xmm0
  00378	f2 0f 5c 4a 20	 subsd	 xmm1, QWORD PTR [edx+32]
  0037d	f2 0f 5e cd	 divsd	 xmm1, xmm5
$LN67@Find_Bear_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00381	f2 0f 10 75 c8	 movsd	 xmm6, QWORD PTR tv1428[ebp]
  00386	0f 28 ea	 movaps	 xmm5, xmm2
  00389	f2 0f 5c 75 d0	 subsd	 xmm6, QWORD PTR tv1511[ebp]
  0038e	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00391	66 0f 2e f2	 ucomisd xmm6, xmm2
  00395	9f		 lahf
  00396	f6 c4 44	 test	 ah, 68			; 00000044H
  00399	7b 0e		 jnp	 SHORT $LN73@Find_Bear_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0039b	f2 0f 10 6f 28	 movsd	 xmm5, QWORD PTR [edi+40]
  003a0	f2 0f 5c 69 20	 subsd	 xmm5, QWORD PTR [ecx+32]
  003a5	f2 0f 5e ee	 divsd	 xmm5, xmm6
$LN73@Find_Bear_:

; 801  : 					{
; 802  : 						double dGradA, dGradB, dGradA_H, dGradB_H;
; 803  : 						double dYDrawPt1_1;
; 804  : 						double dYDrawPt2_1;
; 805  : 						double dXCrossPt1, dYCrossPt1;
; 806  : 						double dXNeckPt1, dYNeckPt1;
; 807  : 						double dXNeckPt2, dYNeckPt2;
; 808  : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 809  : 
; 810  : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 811  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 812  : 
; 813  : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 814  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 815  : 
; 816  : 						dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 817  : 												pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 818  : 
; 819  : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 820  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 821  : 
; 822  : 						// First Draw Data
; 823  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003a9	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  003ac	8b 7d f4	 mov	 edi, DWORD PTR tv1544[ebp]
  003af	2b c7		 sub	 eax, edi
  003b1	66 0f 6e f0	 movd	 xmm6, eax

; 824  : 
; 825  : 						// Second Draw Data
; 826  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  003b5	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  003b8	2b 45 c4	 sub	 eax, DWORD PTR tv1542[ebp]
  003bb	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  003bf	f2 0f 59 f3	 mulsd	 xmm6, xmm3
  003c3	f2 0f 58 f7	 addsd	 xmm6, xmm7
  003c7	f2 0f 11 75 b4	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm6
  003cc	66 0f 6e f0	 movd	 xmm6, eax
  003d0	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  003d4	f2 0f 59 f4	 mulsd	 xmm6, xmm4
  003d8	f2 0f 58 f0	 addsd	 xmm6, xmm0
  003dc	f2 0f 11 75 ac	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm6

; 827  : 
; 828  : 						if ( (dGradA - dGradB) != 0)

  003e1	0f 28 f3	 movaps	 xmm6, xmm3
  003e4	f2 0f 5c f4	 subsd	 xmm6, xmm4
  003e8	66 0f 2e f2	 ucomisd xmm6, xmm2
  003ec	f2 0f 11 75 d0	 movsd	 QWORD PTR tv1435[ebp], xmm6
  003f1	9f		 lahf
  003f2	f6 c4 44	 test	 ah, 68			; 00000044H
  003f5	7b 63		 jnp	 SHORT $LN68@Find_Bear_

; 829  : 						{
; 830  : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 

  003f7	66 0f 6e d7	 movd	 xmm2, edi
  003fb	f2 0f 5c c7	 subsd	 xmm0, xmm7
  003ff	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00403	0f 28 f3	 movaps	 xmm6, xmm3
  00406	f2 0f 59 f2	 mulsd	 xmm6, xmm2
  0040a	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0040e	f2 0f 11 45 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm0
  00413	0f 28 c4	 movaps	 xmm0, xmm4
  00416	f2 0f 59 45 e0	 mulsd	 xmm0, QWORD PTR tv1513[ebp]
  0041b	f2 0f 10 55 d8	 movsd	 xmm2, QWORD PTR _dXCrossPt1$6[ebp]
  00420	f2 0f 5c d0	 subsd	 xmm2, xmm0
  00424	0f 28 c2	 movaps	 xmm0, xmm2
  00427	f2 0f 11 55 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm2
  0042c	f2 0f 5e 45 d0	 divsd	 xmm0, QWORD PTR tv1435[ebp]

; 831  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 832  : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00431	0f 28 d0	 movaps	 xmm2, xmm0
  00434	f2 0f 11 45 d8	 movsd	 QWORD PTR _dXCrossPt1$6[ebp], xmm0
  00439	66 0f 6e c7	 movd	 xmm0, edi
  0043d	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00441	f2 0f 5c d0	 subsd	 xmm2, xmm0
  00445	f2 0f 59 d3	 mulsd	 xmm2, xmm3
  00449	f2 0f 58 d7	 addsd	 xmm2, xmm7
  0044d	f2 0f 11 95 7c
	ff ff ff	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm2
  00455	0f 57 d2	 xorps	 xmm2, xmm2
  00458	eb 0c		 jmp	 SHORT $LN16@Find_Bear_
$LN68@Find_Bear_:
  0045a	66 0f 6e c7	 movd	 xmm0, edi
  0045e	f3 0f e6 f0	 cvtdq2pd xmm6, xmm0
  00462	f2 0f 59 f3	 mulsd	 xmm6, xmm3
$LN16@Find_Bear_:

; 833  : 						}
; 834  : 
; 835  : 						// First Neck Data
; 836  : 						if ( (dGradA_H - dGradA) != 0)

  00466	0f 28 c1	 movaps	 xmm0, xmm1
  00469	f2 0f 5c c3	 subsd	 xmm0, xmm3
  0046d	66 0f 2e c2	 ucomisd xmm0, xmm2
  00471	f2 0f 11 45 d0	 movsd	 QWORD PTR tv1444[ebp], xmm0
  00476	9f		 lahf
  00477	f6 c4 44	 test	 ah, 68			; 00000044H
  0047a	7b 5b		 jnp	 SHORT $LN70@Find_Bear_

; 837  : 						{
; 838  : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 

  0047c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0047f	0f 28 c7	 movaps	 xmm0, xmm7
  00482	f2 0f 5c 42 20	 subsd	 xmm0, QWORD PTR [edx+32]
  00487	f2 0f 11 45 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm0
  0048c	f2 0f 10 55 e8	 movsd	 xmm2, QWORD PTR _dXNeckPt1$7[ebp]
  00491	66 0f 6e c0	 movd	 xmm0, eax
  00495	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00499	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0049d	f2 0f 58 d0	 addsd	 xmm2, xmm0
  004a1	0f 28 c2	 movaps	 xmm0, xmm2
  004a4	f2 0f 11 55 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm2
  004a9	f2 0f 5c c6	 subsd	 xmm0, xmm6
  004ad	f2 0f 5e 45 d0	 divsd	 xmm0, QWORD PTR tv1444[ebp]

; 839  : 											dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 840  : 							dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;

  004b2	0f 28 d0	 movaps	 xmm2, xmm0
  004b5	f2 0f 11 45 e8	 movsd	 QWORD PTR _dXNeckPt1$7[ebp], xmm0
  004ba	66 0f 6e c0	 movd	 xmm0, eax
  004be	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  004c2	f2 0f 5c d0	 subsd	 xmm2, xmm0
  004c6	f2 0f 59 d1	 mulsd	 xmm2, xmm1
  004ca	f2 0f 58 52 20	 addsd	 xmm2, QWORD PTR [edx+32]
  004cf	f2 0f 11 55 84	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm2
  004d4	0f 57 d2	 xorps	 xmm2, xmm2
$LN70@Find_Bear_:

; 841  : 						}
; 842  : 						// Second Neck Data
; 843  : 						if ( (dGradB_H - dGradB) != 0)

  004d7	0f 28 f5	 movaps	 xmm6, xmm5
  004da	f2 0f 5c f4	 subsd	 xmm6, xmm4
  004de	66 0f 2e f2	 ucomisd xmm6, xmm2
  004e2	9f		 lahf
  004e3	f6 c4 44	 test	 ah, 68			; 00000044H
  004e6	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  004e9	7b 51		 jnp	 SHORT $LN77@Find_Bear_

; 844  : 						{
; 845  : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 

  004eb	0f 57 c0	 xorps	 xmm0, xmm0
  004ee	0f 28 d5	 movaps	 xmm2, xmm5
  004f1	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  004f6	f2 0f 59 d0	 mulsd	 xmm2, xmm0
  004fa	f2 0f 10 40 28	 movsd	 xmm0, QWORD PTR [eax+40]
  004ff	f2 0f 5c 41 20	 subsd	 xmm0, QWORD PTR [ecx+32]
  00504	f2 0f 58 d0	 addsd	 xmm2, xmm0
  00508	0f 28 c4	 movaps	 xmm0, xmm4
  0050b	f2 0f 59 45 e0	 mulsd	 xmm0, QWORD PTR tv1513[ebp]
  00510	f2 0f 5c d0	 subsd	 xmm2, xmm0
  00514	0f 57 c0	 xorps	 xmm0, xmm0

; 846  : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 847  : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;

  00517	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  0051c	f2 0f 5e d6	 divsd	 xmm2, xmm6
  00520	0f 28 f2	 movaps	 xmm6, xmm2
  00523	f2 0f 11 55 94	 movsd	 QWORD PTR _dXNeckPt2$4[ebp], xmm2
  00528	f2 0f 5c f0	 subsd	 xmm6, xmm0
  0052c	f2 0f 59 f5	 mulsd	 xmm6, xmm5
  00530	f2 0f 58 71 20	 addsd	 xmm6, QWORD PTR [ecx+32]
  00535	f2 0f 11 75 8c	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm6
  0053a	eb 0a		 jmp	 SHORT $LN18@Find_Bear_
$LN77@Find_Bear_:

; 841  : 						}
; 842  : 						// Second Neck Data
; 843  : 						if ( (dGradB_H - dGradB) != 0)

  0053c	f2 0f 10 55 94	 movsd	 xmm2, QWORD PTR _dXNeckPt2$4[ebp]
  00541	f2 0f 10 75 8c	 movsd	 xmm6, QWORD PTR _dYNeckPt2$3[ebp]
$LN18@Find_Bear_:

; 848  : 						}
; 849  : 
; 850  : 						// Neck Base Data1
; 851  : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 852  : 						// Neck Base Data2
; 853  : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  00546	f2 0f 10 4d e8	 movsd	 xmm1, QWORD PTR _dXNeckPt1$7[ebp]

; 854  : 
; 855  : 
; 856  : 						AddNewWavePatternData(	pObjWavePatternData,

  0054b	83 ec 70	 sub	 esp, 112		; 00000070H
  0054e	0f 28 c1	 movaps	 xmm0, xmm1
  00551	8b 4d c0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00554	f2 0f 5c 45 e0	 subsd	 xmm0, QWORD PTR tv1513[ebp]
  00559	f2 0f 59 c4	 mulsd	 xmm0, xmm4
  0055d	66 0f 6e e7	 movd	 xmm4, edi
  00561	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00565	f2 0f 58 40 28	 addsd	 xmm0, QWORD PTR [eax+40]
  0056a	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0056d	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00573	0f 28 c1	 movaps	 xmm0, xmm1
  00576	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0057a	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  0057e	f2 0f 10 9d 7c
	ff ff ff	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  00586	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0058a	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00590	f2 0f 10 45 84	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00595	f2 0f 11 74 24
	58		 movsd	 QWORD PTR [esp+88], xmm6
  0059b	f2 0f 11 54 24
	50		 movsd	 QWORD PTR [esp+80], xmm2
  005a1	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  005a7	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  005ac	f2 0f 11 4c 24
	40		 movsd	 QWORD PTR [esp+64], xmm1
  005b2	f2 0f 10 4d d8	 movsd	 xmm1, QWORD PTR _dXCrossPt1$6[ebp]
  005b7	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  005bd	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  005c3	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  005c9	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005ce	66 0f 6e d0	 movd	 xmm2, eax
  005d2	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  005d6	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  005dc	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  005e2	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005e8	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005ee	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005f3	ff 75 f0	 push	 DWORD PTR tv1541[ebp]
  005f6	50		 push	 eax
  005f7	68 a6 0f 00 00	 push	 4006			; 00000fa6H
  005fc	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005ff	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  00604	0f 57 d2	 xorps	 xmm2, xmm2
$LN83@Find_Bear_:

; 770  : 
; 771  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00607	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
$LN2@Find_Bear_:
  0060f	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00612	46		 inc	 esi
  00613	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  00616	3b 45 bc	 cmp	 eax, DWORD PTR $T5[ebp]
  00619	0f 8e 11 fa ff
	ff		 jle	 $LL4@Find_Bear_
  0061f	5f		 pop	 edi
  00620	5e		 pop	 esi
$LN3@Find_Bear_:

; 857  : 												PTN_BEAR_ISOTRIANGLE,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 858  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 859  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 860  : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 861  : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 862  : 
; 863  : 
; 864  : 					}
; 865  : 				}
; 866  : 			}
; 867  : 		}
; 868  : 	}
; 869  : 
; 870  : 	return TRUE;

  00621	b8 01 00 00 00	 mov	 eax, 1

; 871  : }

  00626	8b e5		 mov	 esp, ebp
  00628	5d		 pop	 ebp
  00629	c2 08 00	 ret	 8
$LN21@Find_Bear_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  0062c	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN85@Find_Bear_:
  00631	cc		 int	 3
?Find_Bear_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bear_IsoTriangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_Bull_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYCrossPt1$1 = -140					; size = 8
_dYNeckPt1$2 = -132					; size = 8
_dYNeckPt2$3 = -124					; size = 8
_dXNeckPt2$4 = -116					; size = 8
tv1407 = -108						; size = 8
tv1443 = -100						; size = 8
_dYDrawPt2_1$1$ = -92					; size = 8
tv1410 = -92						; size = 8
_dYDrawPt1_1$1$ = -84					; size = 8
_dYPos1$1$ = -84					; size = 8
tv1511 = -76						; size = 8
tv1506 = -76						; size = 8
_dXNeckPt1$5 = -68					; size = 8
$T6 = -60						; size = 4
_this$1$ = -56						; size = 4
tv1535 = -52						; size = 4
tv1533 = -48						; size = 4
tv1436 = -44						; size = 8
tv1427 = -44						; size = 8
tv1416 = -44						; size = 8
_dXCrossPt1$7 = -36					; size = 8
tv1504 = -28						; size = 8
tv1532 = -20						; size = 4
_pHighLowPtData1$1$ = -20				; size = 4
_dGradient$1$ = -16					; size = 8
_pHighLowPtData2$1$ = -12				; size = 4
_pHighLowPtData4$1$ = -8				; size = 4
tv1534 = -8						; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_Bull_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_Bull_IsoTriangles, COMDAT
; _this$ = ecx

; 642  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 8c 00 00
	00		 sub	 esp, 140		; 0000008cH

; 653  : 
; 654  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00009	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0000c	89 4d c8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00012	83 e8 06	 sub	 eax, 6
  00015	89 45 c4	 mov	 DWORD PTR $T6[ebp], eax
  00018	0f 88 cf 05 00
	00		 js	 $LN3@Find_Bull_

; 643  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 644  : 
; 645  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 646  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 647  : 	int		nPointCnt;
; 648  : 	int		nMininumData = 6;	// Bull Isosceles Triangles    
; 649  : 
; 650  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 651  : 	
; 652  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001e	56		 push	 esi
  0001f	57		 push	 edi
  00020	be 02 00 00 00	 mov	 esi, 2
  00025	0f 57 d2	 xorps	 xmm2, xmm2
  00028	0f 1f 84 00 00
	00 00 00	 npad	 8
$LL4@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 bd 05 00
	00		 js	 $LN21@Find_Bull_
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d b2 05 00
	00		 jge	 $LN21@Find_Bull_

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 656  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  0004d	89 55 ec	 mov	 DWORD PTR _pHighLowPtData1$1$[ebp], edx
  00050	85 d2		 test	 edx, edx
  00052	0f 84 83 05 00
	00		 je	 $LN2@Find_Bull_

; 657  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00058	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  0005f	0f 85 76 05 00
	00		 jne	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00065	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  00068	85 ff		 test	 edi, edi
  0006a	0f 88 88 05 00
	00		 js	 $LN21@Find_Bull_
  00070	3b f8		 cmp	 edi, eax
  00072	0f 8d 80 05 00
	00		 jge	 $LN21@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 659  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00078	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0007c	89 7d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  0007f	85 ff		 test	 edi, edi
  00081	0f 84 54 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00087	85 f6		 test	 esi, esi
  00089	0f 88 69 05 00
	00		 js	 $LN21@Find_Bull_
  0008f	3b f0		 cmp	 esi, eax
  00091	0f 8d 61 05 00
	00		 jge	 $LN21@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 660  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00097	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  0009b	0f 84 3a 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a1	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  000a4	85 ff		 test	 edi, edi
  000a6	0f 88 4c 05 00
	00		 js	 $LN21@Find_Bull_
  000ac	3b f8		 cmp	 edi, eax
  000ae	0f 8d 44 05 00
	00		 jge	 $LN21@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 661  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b4	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000b8	89 7d f8	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edi
  000bb	85 ff		 test	 edi, edi
  000bd	0f 84 18 05 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c3	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000c6	85 ff		 test	 edi, edi
  000c8	0f 88 2a 05 00
	00		 js	 $LN21@Find_Bull_
  000ce	3b f8		 cmp	 edi, eax
  000d0	0f 8d 22 05 00
	00		 jge	 $LN21@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 662  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d6	8b 7c b1 08	 mov	 edi, DWORD PTR [ecx+esi*4+8]
  000da	89 7d fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edi
  000dd	85 ff		 test	 edi, edi
  000df	0f 84 f6 04 00
	00		 je	 $LN2@Find_Bull_
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e5	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  000e8	85 ff		 test	 edi, edi
  000ea	0f 88 08 05 00
	00		 js	 $LN21@Find_Bull_
  000f0	3b f8		 cmp	 edi, eax
  000f2	0f 8d 00 05 00
	00		 jge	 $LN21@Find_Bull_
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 663  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f8	8b 7c b1 0c	 mov	 edi, DWORD PTR [ecx+esi*4+12]
  000fc	85 ff		 test	 edi, edi
  000fe	0f 84 d7 04 00
	00		 je	 $LN2@Find_Bull_

; 664  : 
; 665  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))

  00104	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  00107	f2 0f 10 5a 28	 movsd	 xmm3, QWORD PTR [edx+40]
  0010c	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  00111	66 0f 2f fb	 comisd	 xmm7, xmm3
  00115	0f 86 c0 04 00
	00		 jbe	 $LN2@Find_Bull_
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  0011e	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  00123	f2 0f 10 49 20	 movsd	 xmm1, QWORD PTR [ecx+32]
  00128	66 0f 2f c1	 comisd	 xmm0, xmm1
  0012c	0f 86 a9 04 00
	00		 jbe	 $LN2@Find_Bull_

; 666  : 		{
; 667  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00132	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 2456 : 	double	dGradient=0;

  00135	0f 28 ea	 movaps	 xmm5, xmm2

; 666  : 		{
; 667  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00138	89 45 cc	 mov	 DWORD PTR tv1535[ebp], eax
  0013b	66 0f 6e e0	 movd	 xmm4, eax
  0013f	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00142	f3 0f e6 e4	 cvtdq2pd xmm4, xmm4
  00146	89 45 f8	 mov	 DWORD PTR tv1534[ebp], eax
  00149	66 0f 6e f0	 movd	 xmm6, eax
  0014d	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00151	0f 28 c4	 movaps	 xmm0, xmm4
  00154	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00158	f2 0f 10 35 00
	00 00 00	 movsd	 xmm6, QWORD PTR __real@4059000000000000
  00160	66 0f 2e c2	 ucomisd xmm0, xmm2
  00164	9f		 lahf
  00165	f6 c4 44	 test	 ah, 68			; 00000044H
  00168	7b 1d		 jnp	 SHORT $LN40@Find_Bull_
  0016a	66 0f 2e da	 ucomisd xmm3, xmm2
  0016e	9f		 lahf
  0016f	f6 c4 44	 test	 ah, 68			; 00000044H
  00172	7b 13		 jnp	 SHORT $LN40@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00174	0f 28 ef	 movaps	 xmm5, xmm7
  00177	f2 0f 5c eb	 subsd	 xmm5, xmm3
  0017b	f2 0f 5e eb	 divsd	 xmm5, xmm3
  0017f	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00183	f2 0f 59 ee	 mulsd	 xmm5, xmm6
$LN40@Find_Bull_:

; 668  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 669  : 			
; 670  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00187	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]

; 2456 : 	double	dGradient=0;

  0018a	0f 28 da	 movaps	 xmm3, xmm2
  0018d	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 668  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 669  : 			
; 670  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00192	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00196	f2 0f 11 45 9c	 movsd	 QWORD PTR tv1443[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0019b	f2 0f 5c c4	 subsd	 xmm0, xmm4
  0019f	66 0f 2e c2	 ucomisd xmm0, xmm2
  001a3	f2 0f 11 45 a4	 movsd	 QWORD PTR tv1410[ebp], xmm0
  001a8	9f		 lahf
  001a9	f6 c4 44	 test	 ah, 68			; 00000044H
  001ac	7b 22		 jnp	 SHORT $LN43@Find_Bull_
  001ae	66 0f 2e fa	 ucomisd xmm7, xmm2
  001b2	9f		 lahf
  001b3	f6 c4 44	 test	 ah, 68			; 00000044H
  001b6	7b 18		 jnp	 SHORT $LN43@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001b8	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData5$1$[ebp]
  001bb	f2 0f 10 58 28	 movsd	 xmm3, QWORD PTR [eax+40]
  001c0	f2 0f 5c df	 subsd	 xmm3, xmm7
  001c4	f2 0f 5e df	 divsd	 xmm3, xmm7
  001c8	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001cc	f2 0f 59 de	 mulsd	 xmm3, xmm6
$LN43@Find_Bull_:

; 671  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 672  : 			
; 673  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001d0	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001d3	0f 28 e2	 movaps	 xmm4, xmm2
  001d6	66 0f 6e 71 08	 movd	 xmm6, DWORD PTR [ecx+8]

; 671  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 672  : 			
; 673  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001db	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001df	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001e2	89 55 d0	 mov	 DWORD PTR tv1533[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001e5	8b 55 ec	 mov	 edx, DWORD PTR _pHighLowPtData1$1$[ebp]
  001e8	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 671  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 672  : 			
; 673  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ed	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001f1	f2 0f 11 75 b4	 movsd	 QWORD PTR tv1506[ebp], xmm6
  001f6	f2 0f 11 45 e4	 movsd	 QWORD PTR tv1504[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001fb	f2 0f 5c 75 e4	 subsd	 xmm6, QWORD PTR tv1504[ebp]

; 671  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 672  : 			
; 673  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  00200	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  00205	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYPos1$1$[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0020a	66 0f 2e f2	 ucomisd xmm6, xmm2
  0020e	f2 0f 11 75 94	 movsd	 QWORD PTR tv1407[ebp], xmm6
  00213	9f		 lahf
  00214	f6 c4 44	 test	 ah, 68			; 00000044H
  00217	7b 21		 jnp	 SHORT $LN46@Find_Bull_
  00219	66 0f 2e c2	 ucomisd xmm0, xmm2
  0021d	9f		 lahf
  0021e	f6 c4 44	 test	 ah, 68			; 00000044H
  00221	7b 17		 jnp	 SHORT $LN46@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00223	0f 28 e1	 movaps	 xmm4, xmm1
  00226	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0022a	f2 0f 5e e0	 divsd	 xmm4, xmm0
  0022e	f2 0f 5e e6	 divsd	 xmm4, xmm6
  00232	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN46@Find_Bull_:

; 674  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 675  : 
; 676  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  0023a	8b 47 08	 mov	 eax, DWORD PTR [edi+8]

; 2456 : 	double	dGradient=0;

  0023d	0f 28 f2	 movaps	 xmm6, xmm2

; 674  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 675  : 
; 676  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 

  00240	89 45 ec	 mov	 DWORD PTR tv1532[ebp], eax
  00243	66 0f 6e c0	 movd	 xmm0, eax
  00247	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0024b	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1416[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00250	f2 0f 5c 45 b4	 subsd	 xmm0, QWORD PTR tv1506[ebp]
  00255	66 0f 2e c2	 ucomisd xmm0, xmm2
  00259	9f		 lahf
  0025a	f6 c4 44	 test	 ah, 68			; 00000044H
  0025d	7b 23		 jnp	 SHORT $LN49@Find_Bull_
  0025f	66 0f 2e ca	 ucomisd xmm1, xmm2
  00263	9f		 lahf
  00264	f6 c4 44	 test	 ah, 68			; 00000044H
  00267	7b 19		 jnp	 SHORT $LN49@Find_Bull_

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00269	f2 0f 10 77 20	 movsd	 xmm6, QWORD PTR [edi+32]
  0026e	f2 0f 5c f1	 subsd	 xmm6, xmm1
  00272	f2 0f 5e f1	 divsd	 xmm6, xmm1
  00276	f2 0f 5e f0	 divsd	 xmm6, xmm0
  0027a	f2 0f 59 35 00
	00 00 00	 mulsd	 xmm6, QWORD PTR __real@4059000000000000
$LN49@Find_Bull_:

; 677  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 678  : 
; 679  : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 && (fabs(dGradient3)-fabs(dGradient2) < 0.3))

  00282	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@bfd3333333333333
  0028a	66 0f 2f c4	 comisd	 xmm0, xmm4
  0028e	0f 86 47 03 00
	00		 jbe	 $LN2@Find_Bull_
  00294	66 0f 2f 1d 00
	00 00 00	 comisd	 xmm3, QWORD PTR __real@3fd3333333333333
  0029c	0f 86 39 03 00
	00		 jbe	 $LN2@Find_Bull_
  002a2	0f 28 c3	 movaps	 xmm0, xmm3
  002a5	0f 28 cc	 movaps	 xmm1, xmm4
  002a8	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002af	0f 54 0d 00 00
	00 00		 andps	 xmm1, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002b6	f2 0f 5c c8	 subsd	 xmm1, xmm0
  002ba	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3fd3333333333333
  002c2	66 0f 2f c1	 comisd	 xmm0, xmm1
  002c6	0f 86 0f 03 00
	00		 jbe	 $LN2@Find_Bull_

; 680  : 			{
; 681  : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) < 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))

  002cc	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  002cf	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  002d4	0f 28 c8	 movaps	 xmm1, xmm0
  002d7	f2 0f 5c c7	 subsd	 xmm0, xmm7
  002db	f2 0f 5c 4a 28	 subsd	 xmm1, QWORD PTR [edx+40]
  002e0	f2 0f 58 c0	 addsd	 xmm0, xmm0
  002e4	f2 0f 11 4d b4	 movsd	 QWORD PTR tv1511[ebp], xmm1
  002e9	66 0f 2f c1	 comisd	 xmm0, xmm1
  002ed	0f 86 e8 02 00
	00		 jbe	 $LN2@Find_Bull_

; 682  : 				{
; 683  : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)

  002f3	66 0f 2f eb	 comisd	 xmm5, xmm3
  002f7	0f 86 de 02 00
	00		 jbe	 $LN2@Find_Bull_
  002fd	66 0f 2f f4	 comisd	 xmm6, xmm4
  00301	0f 86 d4 02 00
	00		 jbe	 $LN2@Find_Bull_

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00307	f2 0f 10 45 94	 movsd	 xmm0, QWORD PTR tv1407[ebp]
  0030c	0f 28 ca	 movaps	 xmm1, xmm2
  0030f	66 0f 2e c2	 ucomisd xmm0, xmm2
  00313	9f		 lahf
  00314	f6 c4 44	 test	 ah, 68			; 00000044H
  00317	7b 17		 jnp	 SHORT $LN73@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00319	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]
  0031c	f2 0f 10 49 20	 movsd	 xmm1, QWORD PTR [ecx+32]
  00321	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  00326	f2 0f 5c ce	 subsd	 xmm1, xmm6
  0032a	f2 0f 5e c8	 divsd	 xmm1, xmm0
  0032e	eb 05		 jmp	 SHORT $LN52@Find_Bull_
$LN73@Find_Bull_:

; 754  : 
; 755  : // **********************************************
; 756  : // Bear Isosceles Triangles		()
; 757  : // **********************************************
; 758  : BOOL CWavePattern::Find_Bear_IsoTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 759  : {
; 760  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 761  : 
; 762  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 763  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 764  : 	int		nPointCnt;
; 765  : 	int		nMininumData = 6;	// Bear Isosceles Triangles    
; 766  : 
; 767  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 768  : 	
; 769  : 	nPointCnt = paryHighLowPtData->GetSize();
; 770  : 
; 771  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 772  : 	{
; 773  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 774  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 775  : 
; 776  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 777  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 778  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 779  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 780  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 781  : 
; 782  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 783  : 		{
; 784  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 785  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 786  : 			
; 787  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 791  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 792  : 
; 793  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 794  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 795  : 
; 796  : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 && (fabs(dGradient2)-fabs(dGradient3) < 0.3))
; 797  : 			{
; 798  : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) < 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 799  : 				{
; 800  : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 801  : 					{
; 802  : 						double dGradA, dGradB, dGradA_H, dGradB_H;
; 803  : 						double dYDrawPt1_1;
; 804  : 						double dYDrawPt2_1;
; 805  : 						double dXCrossPt1, dYCrossPt1;
; 806  : 						double dXNeckPt1, dYNeckPt1;
; 807  : 						double dXNeckPt2, dYNeckPt2;
; 808  : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 809  : 
; 810  : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 811  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 812  : 
; 813  : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 814  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 815  : 
; 816  : 						dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 817  : 												pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 818  : 
; 819  : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 820  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 821  : 
; 822  : 						// First Draw Data
; 823  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 824  : 
; 825  : 						// Second Draw Data
; 826  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 827  : 
; 828  : 						if ( (dGradA - dGradB) != 0)
; 829  : 						{
; 830  : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 831  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 832  : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 833  : 						}
; 834  : 
; 835  : 						// First Neck Data
; 836  : 						if ( (dGradA_H - dGradA) != 0)
; 837  : 						{
; 838  : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 839  : 											dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 840  : 							dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 841  : 						}
; 842  : 						// Second Neck Data
; 843  : 						if ( (dGradB_H - dGradB) != 0)
; 844  : 						{
; 845  : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 846  : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 847  : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 848  : 						}
; 849  : 
; 850  : 						// Neck Base Data1
; 851  : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 852  : 						// Neck Base Data2
; 853  : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 854  : 
; 855  : 
; 856  : 						AddNewWavePatternData(	pObjWavePatternData,
; 857  : 												PTN_BEAR_ISOTRIANGLE,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 858  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 859  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 860  : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 861  : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 862  : 
; 863  : 
; 864  : 					}
; 865  : 				}
; 866  : 			}
; 867  : 		}
; 868  : 	}
; 869  : 
; 870  : 	return TRUE;
; 871  : }
; 872  : 
; 873  : 
; 874  : // **********************************************
; 875  : // Bull Triangles				()
; 876  : // **********************************************
; 877  : BOOL CWavePattern::Find_Bull_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 878  : {
; 879  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 880  : 
; 881  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 882  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 883  : 	int		nPointCnt;
; 884  : 	int		nMininumData = 6;	// Bull Triangles    
; 885  : 
; 886  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 887  : 	
; 888  : 	nPointCnt = paryHighLowPtData->GetSize();
; 889  : 
; 890  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 891  : 	{
; 892  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 893  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 894  : 
; 895  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 896  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 897  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 898  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 899  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 900  : 
; 901  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 902  : 		{
; 903  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 904  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 905  : 			
; 906  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 910  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 911  : 
; 912  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 913  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 914  : 
; 915  : 			if ( fabs(dGradient3) < 0.3 && dGradient2 > 0.3 )
; 916  : 			{
; 917  : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 918  : 				{
; 919  : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 920  : 					double dYDrawPt1_1;
; 921  : 					double dYDrawPt2_1;
; 922  : 					double dXCrossPt1, dYCrossPt1;
; 923  : 					double dXNeckPt1, dYNeckPt1;
; 924  : 					double dXNeckPt2, dYNeckPt2;
; 925  : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 926  : 
; 927  : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 928  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 929  : 
; 930  : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 931  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 932  : 
; 933  : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 934  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 935  : 
; 936  : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 937  : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 938  : 
; 939  : 					// First Draw Data
; 940  : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 941  : 
; 942  : 					// Second Draw Data
; 943  : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 944  : 
; 945  : 					if ( (dGradA - dGradB) != 0)
; 946  : 					{
; 947  : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 948  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 949  : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 950  : 					}
; 951  : 
; 952  : 					// First Neck Data
; 953  : 					if ( (dGradB - dGradB_L) != 0)
; 954  : 					{
; 955  : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 956  : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 957  : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 958  : 					}
; 959  : 					// Second Neck Data
; 960  : 					if ( (dGradA - dGradA_L) != 0)
; 961  : 					{
; 962  : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 963  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 964  : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 965  : 					}
; 966  : 
; 967  : 					// Neck Base Data1
; 968  : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 969  : 					// Neck Base Data2
; 970  : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 971  : 
; 972  : 
; 973  : 					AddNewWavePatternData(	pObjWavePatternData,
; 974  : 											PTN_BULL_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 975  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 976  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 977  : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 978  : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 979  : 
; 980  : 				}
; 981  : 			}
; 982  : 		}
; 983  : 	}
; 984  : 
; 985  : 	return TRUE;
; 986  : }
; 987  : 
; 988  : // **********************************************
; 989  : // Bear Triangles				()
; 990  : // **********************************************
; 991  : BOOL CWavePattern::Find_Bear_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 992  : {
; 993  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 994  : 
; 995  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 996  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 997  : 	int		nPointCnt;
; 998  : 	int		nMininumData = 6;	// Bear Triangles    
; 999  : 
; 1000 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1001 : 	
; 1002 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1005 : 	{
; 1006 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1007 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1008 : 
; 1009 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1010 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1011 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1012 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1013 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1014 : 
; 1015 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1027 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1028 : 
; 1029 : 			if ( dGradient2 < -0.3 && fabs(dGradient3) < 0.3 )
; 1030 : 			{
; 1031 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1032 : 				{
; 1033 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1034 : 					double dYDrawPt1_1;
; 1035 : 					double dYDrawPt2_1;
; 1036 : 					double dXCrossPt1, dYCrossPt1;
; 1037 : 					double dXNeckPt1, dYNeckPt1;
; 1038 : 					double dXNeckPt2, dYNeckPt2;
; 1039 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1040 : 
; 1041 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1042 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1043 : 
; 1044 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1045 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1046 : 
; 1047 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1048 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1049 : 
; 1050 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1051 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1052 : 
; 1053 : 					// First Draw Data
; 1054 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1055 : 
; 1056 : 					// Second Draw Data
; 1057 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1058 : 
; 1059 : 					if ( (dGradA - dGradB) != 0)
; 1060 : 					{
; 1061 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1062 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1063 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)
; 1068 : 					{
; 1069 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1070 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1071 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)
; 1075 : 					{
; 1076 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1077 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1078 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1079 : 					}
; 1080 : 
; 1081 : 					// Neck Base Data1
; 1082 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1083 : 					// Neck Base Data2
; 1084 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1085 : 
; 1086 : 
; 1087 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1088 : 											PTN_BEAR_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1089 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1090 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1091 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1092 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1093 : 
; 1094 : 
; 1095 : 				}
; 1096 : 			}
; 1097 : 		}
; 1098 : 	}
; 1099 : 
; 1100 : 	return TRUE;
; 1101 : }
; 1102 : 
; 1103 : 
; 1104 : // **********************************************
; 1105 : // Bullish Wide Triangles		()
; 1106 : // **********************************************
; 1107 : BOOL CWavePattern::Find_Bullish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1108 : {
; 1109 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1110 : 
; 1111 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1112 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1113 : 	int		nPointCnt;
; 1114 : 	int		nMininumData = 7;	// Bullish Wide Triangles    
; 1115 : 
; 1116 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1117 : 	
; 1118 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1121 : 	{
; 1122 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1123 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1124 : 
; 1125 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1126 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1127 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1128 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1129 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1130 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1131 : 
; 1132 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))
; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1135 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1136 : 			
; 1137 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1138 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1139 : 
; 1140 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1147 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1148 : 
; 1149 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1150 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1151 : 
; 1152 : 			if ( dGradient4 > 0.3 && dGradient5 > 0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1153 : 			{
; 1154 : 				if ( dGradient2 < -0.3 && (fabs(dGradient6)-fabs(dGradient2) < 0.3) )
; 1155 : 				{
; 1156 : 					if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)
; 1157 : 					{
; 1158 : 						double dGradA, dGradB, dGradB_H;
; 1159 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1160 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1161 : 						double dXNeckPt1, dYNeckPt1;
; 1162 : 						double dXNeckPt2, dYNeckPt2;
; 1163 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1164 : 
; 1165 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1166 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1167 : 
; 1168 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1169 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1170 : 
; 1171 : 						dGradB_H = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 1172 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 1173 : 
; 1174 : 						// First Draw Data
; 1175 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)
; 1184 : 						{
; 1185 : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 
; 1186 : 											dGradB_H*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1187 : 							dYNeckPt1 = dGradB_H*(dXNeckPt1-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;
; 1188 : 						}
; 1189 : 						// Senond Neck Data
; 1190 : 						dXNeckPt2 = dXNeckPt1;
; 1191 : 						dYNeckPt2 = dYNeckPt1;
; 1192 : 
; 1193 : 						// Neck Base Data1
; 1194 : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1195 : 						// Neck Base Data2
; 1196 : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1197 : 
; 1198 : 
; 1199 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1200 : 												PTN_BULLISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1201 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1202 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1203 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1204 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1205 : 
; 1206 : 					}
; 1207 : 				}
; 1208 : 			}
; 1209 : 		}
; 1210 : 	}
; 1211 : 
; 1212 : 	return TRUE;
; 1213 : }
; 1214 : 
; 1215 : // **********************************************
; 1216 : // Bearish Wide Triangles		()
; 1217 : // **********************************************
; 1218 : BOOL CWavePattern::Find_Bearish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1219 : {
; 1220 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1221 : 
; 1222 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1223 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1224 : 	int		nPointCnt;
; 1225 : 	int		nMininumData = 7;	// Bearish Wide Triangles    
; 1226 : 
; 1227 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1228 : 	
; 1229 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1232 : 	{
; 1233 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1234 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1235 : 
; 1236 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1237 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1238 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1239 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1240 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1241 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1242 : 
; 1243 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))
; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1246 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1247 : 			
; 1248 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1249 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1250 : 
; 1251 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1258 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1259 : 
; 1260 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1261 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1262 : 
; 1263 : 			if ( dGradient4 < -0.3 && dGradient5 < -0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1264 : 			{
; 1265 : 				if ( dGradient2 > 0.3 && (fabs(dGradient2)-fabs(dGradient6) < 0.3) )
; 1266 : 				{
; 1267 : 					if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)
; 1268 : 					{
; 1269 : 						double dGradA, dGradB, dGradA_L;
; 1270 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1271 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1272 : 						double dXNeckPt1, dYNeckPt1;
; 1273 : 						double dXNeckPt2, dYNeckPt2;
; 1274 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1275 : 
; 1276 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1277 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1278 : 						
; 1279 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1280 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1281 : 
; 1282 : 						dGradA_L = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 1283 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 1284 : 
; 1285 : 						// First Draw Data
; 1286 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)
; 1295 : 						{
; 1296 : 							dXNeckPt1 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1297 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradA_L*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1298 : 							dYNeckPt1 = dGradA*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1299 : 						}
; 1300 : 						// Senond Neck Data
; 1301 : 						dXNeckPt2 = dXNeckPt1;
; 1302 : 						dYNeckPt2 = dYNeckPt1;
; 1303 : 
; 1304 : 						// Neck Base Data1
; 1305 : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1306 : 						// Neck Base Data2
; 1307 : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1308 : 
; 1309 : 
; 1310 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1311 : 												PTN_BEARISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1312 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1313 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1314 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1315 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1316 : 
; 1317 : 					}
; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 
; 1323 : 	return TRUE;
; 1324 : }
; 1325 : 
; 1326 : 
; 1327 : // **********************************************
; 1328 : // Bull Wedge					()
; 1329 : // **********************************************
; 1330 : BOOL CWavePattern::Find_Bull_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1331 : {
; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1344 : 	{
; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1347 : 
; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))
; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;
; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)
; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)
; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)
; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;
; 1443 : }
; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00330	f2 0f 10 75 ac	 movsd	 xmm6, QWORD PTR _dYPos1$1$[ebp]
$LN52@Find_Bull_:
  00335	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR tv1410[ebp]
  0033a	0f 28 da	 movaps	 xmm3, xmm2
  0033d	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00340	66 0f 2e c2	 ucomisd xmm0, xmm2
  00344	9f		 lahf
  00345	f6 c4 44	 test	 ah, 68			; 00000044H
  00348	7b 0d		 jnp	 SHORT $LN66@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0034a	f2 0f 10 59 28	 movsd	 xmm3, QWORD PTR [ecx+40]
  0034f	f2 0f 5c df	 subsd	 xmm3, xmm7
  00353	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN66@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00357	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR tv1416[ebp]
  0035c	0f 28 ea	 movaps	 xmm5, xmm2
  0035f	f2 0f 5c 45 9c	 subsd	 xmm0, QWORD PTR tv1443[ebp]
  00364	66 0f 2e c2	 ucomisd xmm0, xmm2
  00368	9f		 lahf
  00369	f6 c4 44	 test	 ah, 68			; 00000044H
  0036c	7b 0e		 jnp	 SHORT $LN72@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0036e	f2 0f 10 6f 20	 movsd	 xmm5, QWORD PTR [edi+32]
  00373	f2 0f 5c 69 28	 subsd	 xmm5, QWORD PTR [ecx+40]
  00378	f2 0f 5e e8	 divsd	 xmm5, xmm0
$LN72@Find_Bull_:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0037c	8b 7a 08	 mov	 edi, DWORD PTR [edx+8]
  0037f	f2 0f 10 65 e4	 movsd	 xmm4, QWORD PTR tv1504[ebp]
  00384	f2 0f 11 55 f0	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm2
  00389	66 0f 6e c7	 movd	 xmm0, edi
  0038d	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00391	f2 0f 5c e0	 subsd	 xmm4, xmm0
  00395	66 0f 2e e2	 ucomisd xmm4, xmm2
  00399	9f		 lahf
  0039a	f6 c4 44	 test	 ah, 68			; 00000044H
  0039d	7b 0e		 jnp	 SHORT $LN67@Find_Bull_

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0039f	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR tv1511[ebp]
  003a4	f2 0f 5e c4	 divsd	 xmm0, xmm4
  003a8	f2 0f 11 45 f0	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0
$LN67@Find_Bull_:

; 684  : 					{
; 685  : 						double dGradA, dGradB, dGradA_L, dGradB_L;
; 686  : 						double dYDrawPt1_1;
; 687  : 						double dYDrawPt2_1;
; 688  : 						double dXCrossPt1, dYCrossPt1;
; 689  : 						double dXNeckPt1, dYNeckPt1;
; 690  : 						double dXNeckPt2, dYNeckPt2;
; 691  : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 692  : 
; 693  : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 694  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 695  : 
; 696  : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 697  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 698  : 
; 699  : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 700  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 701  : 
; 702  : 						dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 703  : 												pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 704  : 
; 705  : 						// First Draw Data
; 706  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  003ad	8b c7		 mov	 eax, edi

; 707  : 
; 708  : 						// Second Draw Data
; 709  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 710  : 
; 711  : 						if ( (dGradA - dGradB) != 0)

  003af	0f 28 e3	 movaps	 xmm4, xmm3
  003b2	2b 45 d0	 sub	 eax, DWORD PTR tv1533[ebp]
  003b5	66 0f 6e c0	 movd	 xmm0, eax
  003b9	8b c7		 mov	 eax, edi
  003bb	8b 7d cc	 mov	 edi, DWORD PTR tv1535[ebp]
  003be	2b c7		 sub	 eax, edi
  003c0	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003c4	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003c8	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003cc	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  003d1	66 0f 6e c0	 movd	 xmm0, eax
  003d5	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003d9	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  003dd	f2 0f 58 c7	 addsd	 xmm0, xmm7
  003e1	f2 0f 11 45 a4	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  003e6	0f 28 c1	 movaps	 xmm0, xmm1
  003e9	f2 0f 5c c3	 subsd	 xmm0, xmm3
  003ed	66 0f 2e c2	 ucomisd xmm0, xmm2
  003f1	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1427[ebp], xmm0
  003f6	66 0f 6e c7	 movd	 xmm0, edi
  003fa	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003fe	9f		 lahf
  003ff	f2 0f 59 e0	 mulsd	 xmm4, xmm0
  00403	f6 c4 44	 test	 ah, 68			; 00000044H
  00406	7b 4b		 jnp	 SHORT $LN16@Find_Bull_

; 712  : 						{
; 713  : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 

  00408	0f 28 c1	 movaps	 xmm0, xmm1
  0040b	f2 0f 59 45 e4	 mulsd	 xmm0, QWORD PTR tv1504[ebp]
  00410	f2 0f 11 45 dc	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm0
  00415	0f 28 c7	 movaps	 xmm0, xmm7
  00418	f2 0f 10 55 dc	 movsd	 xmm2, QWORD PTR _dXCrossPt1$7[ebp]
  0041d	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00421	f2 0f 58 d0	 addsd	 xmm2, xmm0
  00425	0f 28 c2	 movaps	 xmm0, xmm2
  00428	f2 0f 11 55 dc	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm2
  0042d	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00431	0f 57 d2	 xorps	 xmm2, xmm2
  00434	f2 0f 5e 45 d4	 divsd	 xmm0, QWORD PTR tv1427[ebp]
  00439	f2 0f 11 45 dc	 movsd	 QWORD PTR _dXCrossPt1$7[ebp], xmm0

; 714  : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 715  : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0043e	f2 0f 5c 45 e4	 subsd	 xmm0, QWORD PTR tv1504[ebp]
  00443	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00447	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0044b	f2 0f 11 85 74
	ff ff ff	 movsd	 QWORD PTR _dYCrossPt1$1[ebp], xmm0
$LN16@Find_Bull_:

; 716  : 						}
; 717  : 
; 718  : 						// First Neck Data
; 719  : 						if ( (dGradB - dGradB_L) != 0)

  00453	0f 28 c3	 movaps	 xmm0, xmm3
  00456	f2 0f 5c 45 f0	 subsd	 xmm0, QWORD PTR _dGradient$1$[ebp]
  0045b	66 0f 2e c2	 ucomisd xmm0, xmm2
  0045f	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1436[ebp], xmm0
  00464	9f		 lahf
  00465	f6 c4 44	 test	 ah, 68			; 00000044H
  00468	7b 51		 jnp	 SHORT $LN78@Find_Bull_

; 720  : 						{
; 721  : 							dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 

  0046a	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  0046f	8b 55 f8	 mov	 edx, DWORD PTR tv1534[ebp]
  00472	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00476	f2 0f 58 c4	 addsd	 xmm0, xmm4
  0047a	f2 0f 11 45 bc	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm0
  0047f	0f 57 c0	 xorps	 xmm0, xmm0
  00482	f2 0f 10 65 bc	 movsd	 xmm4, QWORD PTR _dXNeckPt1$5[ebp]
  00487	f2 0f 2a c2	 cvtsi2sd xmm0, edx
  0048b	f2 0f 59 45 f0	 mulsd	 xmm0, QWORD PTR _dGradient$1$[ebp]
  00490	f2 0f 5c e0	 subsd	 xmm4, xmm0
  00494	0f 57 c0	 xorps	 xmm0, xmm0

; 722  : 											dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 723  : 							dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00497	f2 0f 2a c7	 cvtsi2sd xmm0, edi
  0049b	f2 0f 5e 65 d4	 divsd	 xmm4, QWORD PTR tv1436[ebp]
  004a0	f2 0f 11 65 bc	 movsd	 QWORD PTR _dXNeckPt1$5[ebp], xmm4
  004a5	f2 0f 5c e0	 subsd	 xmm4, xmm0
  004a9	f2 0f 59 e3	 mulsd	 xmm4, xmm3
  004ad	f2 0f 58 e7	 addsd	 xmm4, xmm7
  004b1	f2 0f 11 a5 7c
	ff ff ff	 movsd	 QWORD PTR _dYNeckPt1$2[ebp], xmm4
  004b9	eb 03		 jmp	 SHORT $LN70@Find_Bull_
$LN78@Find_Bull_:

; 716  : 						}
; 717  : 
; 718  : 						// First Neck Data
; 719  : 						if ( (dGradB - dGradB_L) != 0)

  004bb	8b 55 f8	 mov	 edx, DWORD PTR tv1534[ebp]
$LN70@Find_Bull_:

; 724  : 						}
; 725  : 						// Second Neck Data
; 726  : 						if ( (dGradA - dGradA_L) != 0)

  004be	0f 28 e1	 movaps	 xmm4, xmm1
  004c1	f2 0f 5c e5	 subsd	 xmm4, xmm5
  004c5	66 0f 2e e2	 ucomisd xmm4, xmm2
  004c9	9f		 lahf
  004ca	f6 c4 44	 test	 ah, 68			; 00000044H
  004cd	7b 42		 jnp	 SHORT $LN74@Find_Bull_

; 727  : 						{
; 728  : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 

  004cf	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  004d4	0f 28 c1	 movaps	 xmm0, xmm1
  004d7	f2 0f 59 45 e4	 mulsd	 xmm0, QWORD PTR tv1504[ebp]
  004dc	f2 0f 5c d6	 subsd	 xmm2, xmm6
  004e0	f2 0f 58 d0	 addsd	 xmm2, xmm0
  004e4	f2 0f 10 45 9c	 movsd	 xmm0, QWORD PTR tv1443[ebp]
  004e9	f2 0f 59 c5	 mulsd	 xmm0, xmm5
  004ed	f2 0f 5c d0	 subsd	 xmm2, xmm0
  004f1	f2 0f 5e d4	 divsd	 xmm2, xmm4

; 729  : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 730  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  004f5	0f 28 c2	 movaps	 xmm0, xmm2
  004f8	f2 0f 11 55 8c	 movsd	 QWORD PTR _dXNeckPt2$4[ebp], xmm2
  004fd	f2 0f 5c 45 e4	 subsd	 xmm0, QWORD PTR tv1504[ebp]
  00502	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00506	f2 0f 58 c6	 addsd	 xmm0, xmm6
  0050a	f2 0f 11 45 84	 movsd	 QWORD PTR _dYNeckPt2$3[ebp], xmm0
  0050f	eb 05		 jmp	 SHORT $LN18@Find_Bull_
$LN74@Find_Bull_:

; 724  : 						}
; 725  : 						// Second Neck Data
; 726  : 						if ( (dGradA - dGradA_L) != 0)

  00511	f2 0f 10 55 8c	 movsd	 xmm2, QWORD PTR _dXNeckPt2$4[ebp]
$LN18@Find_Bull_:

; 731  : 						}
; 732  : 
; 733  : 						// Neck Base Data1
; 734  : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 735  : 						// Neck Base Data2
; 736  : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  00516	f2 0f 10 65 bc	 movsd	 xmm4, QWORD PTR _dXNeckPt1$5[ebp]

; 737  : 
; 738  : 
; 739  : 						AddNewWavePatternData(	pObjWavePatternData,

  0051b	83 ec 70	 sub	 esp, 112		; 00000070H
  0051e	0f 28 c4	 movaps	 xmm0, xmm4
  00521	8b 4d c8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00524	f2 0f 5c 45 e4	 subsd	 xmm0, QWORD PTR tv1504[ebp]
  00529	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0052d	66 0f 6e cf	 movd	 xmm1, edi
  00531	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00535	f2 0f 58 c6	 addsd	 xmm0, xmm6
  00539	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  0053f	0f 28 c4	 movaps	 xmm0, xmm4
  00542	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00546	f2 0f 10 4d dc	 movsd	 xmm1, QWORD PTR _dXCrossPt1$7[ebp]
  0054b	f2 0f 59 c3	 mulsd	 xmm0, xmm3
  0054f	f2 0f 10 9d 74
	ff ff ff	 movsd	 xmm3, QWORD PTR _dYCrossPt1$1[ebp]
  00557	f2 0f 58 c7	 addsd	 xmm0, xmm7
  0055b	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  00561	f2 0f 10 45 84	 movsd	 xmm0, QWORD PTR _dYNeckPt2$3[ebp]
  00566	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  0056c	f2 0f 10 85 7c
	ff ff ff	 movsd	 xmm0, QWORD PTR _dYNeckPt1$2[ebp]
  00574	f2 0f 11 54 24
	50		 movsd	 QWORD PTR [esp+80], xmm2
  0057a	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  00580	f2 0f 10 45 a4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  00585	f2 0f 11 64 24
	40		 movsd	 QWORD PTR [esp+64], xmm4
  0058b	f2 0f 11 5c 24
	38		 movsd	 QWORD PTR [esp+56], xmm3
  00591	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  00597	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  0059d	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  005a2	66 0f 6e d2	 movd	 xmm2, edx
  005a6	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  005aa	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  005b0	f2 0f 11 5c 24
	18		 movsd	 QWORD PTR [esp+24], xmm3
  005b6	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  005bc	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  005c2	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  005c7	ff 75 ec	 push	 DWORD PTR tv1532[ebp]
  005ca	52		 push	 edx
  005cb	68 a5 0f 00 00	 push	 4005			; 00000fa5H
  005d0	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  005d3	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  005d8	0f 57 d2	 xorps	 xmm2, xmm2
$LN2@Find_Bull_:

; 653  : 
; 654  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  005db	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  005de	46		 inc	 esi
  005df	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  005e2	3b 45 c4	 cmp	 eax, DWORD PTR $T6[ebp]
  005e5	0f 8e 45 fa ff
	ff		 jle	 $LL4@Find_Bull_
  005eb	5f		 pop	 edi
  005ec	5e		 pop	 esi
$LN3@Find_Bull_:

; 740  : 												PTN_BULL_ISOTRIANGLE,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 741  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 742  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 743  : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 744  : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 745  : 
; 746  : 					}
; 747  : 				}
; 748  : 			}
; 749  : 		}
; 750  : 	}
; 751  : 
; 752  : 	return TRUE;

  005ed	b8 01 00 00 00	 mov	 eax, 1

; 753  : }

  005f2	8b e5		 mov	 esp, ebp
  005f4	5d		 pop	 ebp
  005f5	c2 08 00	 ret	 8
$LN21@Find_Bull_:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  005f8	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN79@Find_Bull_:
  005fd	cc		 int	 3
?Find_Bull_IsoTriangles@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_Bull_IsoTriangles
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_R_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYDrawPt1_1$1$ = -80					; size = 8
tv1056 = -72						; size = 8
_dYNeckPt2$1 = -64					; size = 8
_dXNeckPt2$2 = -56					; size = 8
$T3 = -48						; size = 4
_this$1$ = -44						; size = 4
tv1046 = -40						; size = 8
tv1044 = -40						; size = 8
_pHighLowPtData2$1$ = -36				; size = 4
_dYDrawPt2_2$1$ = -32					; size = 8
tv1087 = -28						; size = 4
tv1082 = -28						; size = 4
tv1094 = -24						; size = 4
_pHighLowPtData3$1$ = -20				; size = 4
tv1050 = -20						; size = 4
_dYDrawPt2_1$1$ = -16					; size = 8
tv1092 = -12						; size = 4
_dYDrawPt1_2$1$ = -8					; size = 8
tv1093 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_R_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_R_DoubleTop, COMDAT
; _this$ = ecx

; 550  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H

; 561  : 
; 562  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d d4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 05	 sub	 eax, 5
  00012	89 45 d0	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 05 04 00
	00		 js	 $LN3@Find_R_Dou

; 551  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 552  : 
; 553  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 554  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 555  : 	int		nPointCnt;
; 556  : 	int		nMininumData = 5;	// Reversal Double Top    
; 557  : 
; 558  : 	double	dGradient1, dGradient2, dGradient3;		// 
; 559  : 	
; 560  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
  00022	0f 57 e4	 xorps	 xmm4, xmm4
$LL4@Find_R_Dou:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00025	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00028	85 c9		 test	 ecx, ecx
  0002a	0f 88 fb 03 00
	00		 js	 $LN18@Find_R_Dou
  00030	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00033	3b c8		 cmp	 ecx, eax
  00035	0f 8d f0 03 00
	00		 jge	 $LN18@Find_R_Dou

; 289  : 		return m_pData[nIndex];

  0003b	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 564  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003e	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  00042	85 d2		 test	 edx, edx
  00044	0f 84 c4 03 00
	00		 je	 $LN2@Find_R_Dou

; 565  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  0004a	81 7a 04 e9 03
	00 00		 cmp	 DWORD PTR [edx+4], 1001	; 000003e9H
  00051	0f 85 b7 03 00
	00		 jne	 $LN2@Find_R_Dou
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00057	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  0005a	85 ff		 test	 edi, edi
  0005c	0f 88 c9 03 00
	00		 js	 $LN18@Find_R_Dou
  00062	3b f8		 cmp	 edi, eax
  00064	0f 8d c1 03 00
	00		 jge	 $LN18@Find_R_Dou
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 567  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  0006a	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0006e	89 7d dc	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  00071	85 ff		 test	 edi, edi
  00073	0f 84 95 03 00
	00		 je	 $LN2@Find_R_Dou
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00079	85 f6		 test	 esi, esi
  0007b	0f 88 aa 03 00
	00		 js	 $LN18@Find_R_Dou
  00081	3b f0		 cmp	 esi, eax
  00083	0f 8d a2 03 00
	00		 jge	 $LN18@Find_R_Dou
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 568  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00089	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0008c	89 7d ec	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0008f	85 ff		 test	 edi, edi
  00091	0f 84 77 03 00
	00		 je	 $LN2@Find_R_Dou
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00097	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  0009a	85 ff		 test	 edi, edi
  0009c	0f 88 89 03 00
	00		 js	 $LN18@Find_R_Dou
  000a2	3b f8		 cmp	 edi, eax
  000a4	0f 8d 81 03 00
	00		 jge	 $LN18@Find_R_Dou
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 569  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000aa	83 7c b1 04 00	 cmp	 DWORD PTR [ecx+esi*4+4], 0
  000af	0f 84 59 03 00
	00		 je	 $LN2@Find_R_Dou
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000b5	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000b8	89 7d e4	 mov	 DWORD PTR tv1082[ebp], edi
  000bb	85 ff		 test	 edi, edi
  000bd	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000c1	0f 88 64 03 00
	00		 js	 $LN18@Find_R_Dou
  000c7	39 45 e4	 cmp	 DWORD PTR tv1082[ebp], eax
  000ca	0f 8d 5b 03 00
	00		 jge	 $LN18@Find_R_Dou
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 570  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d0	8b 4c b1 08	 mov	 ecx, DWORD PTR [ecx+esi*4+8]
  000d4	85 c9		 test	 ecx, ecx
  000d6	0f 84 32 03 00
	00		 je	 $LN2@Find_R_Dou

; 571  : 
; 572  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh < pHighLowPtData5->m_dHigh))

  000dc	8b 45 ec	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  000df	f2 0f 10 42 20	 movsd	 xmm0, QWORD PTR [edx+32]
  000e4	f2 0f 10 68 20	 movsd	 xmm5, QWORD PTR [eax+32]
  000e9	66 0f 2f c5	 comisd	 xmm0, xmm5
  000ed	0f 86 1b 03 00
	00		 jbe	 $LN2@Find_R_Dou
  000f3	f2 0f 10 71 20	 movsd	 xmm6, QWORD PTR [ecx+32]
  000f8	66 0f 2f f5	 comisd	 xmm6, xmm5
  000fc	0f 86 0c 03 00
	00		 jbe	 $LN2@Find_R_Dou

; 573  : 		{
; 574  : 			if ( (pHighLowPtData3->m_nDataSeq - pHighLowPtData1->m_nDataSeq) >= (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq))

  00102	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00105	8b 52 08	 mov	 edx, DWORD PTR [edx+8]
  00108	89 45 e8	 mov	 DWORD PTR tv1094[ebp], eax
  0010b	8b 45 ec	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  0010e	89 55 f4	 mov	 DWORD PTR tv1092[ebp], edx
  00111	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00114	89 45 fc	 mov	 DWORD PTR tv1093[ebp], eax
  00117	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  0011a	2b 45 fc	 sub	 eax, DWORD PTR tv1093[ebp]
  0011d	89 45 e4	 mov	 DWORD PTR tv1087[ebp], eax
  00120	8b 45 fc	 mov	 eax, DWORD PTR tv1093[ebp]
  00123	2b c2		 sub	 eax, edx
  00125	3b 45 e4	 cmp	 eax, DWORD PTR tv1087[ebp]
  00128	0f 8c e0 02 00
	00		 jl	 $LN2@Find_R_Dou
  0012e	66 0f 6e 7d fc	 movd	 xmm7, DWORD PTR tv1093[ebp]

; 2456 : 	double	dGradient=0;

  00133	0f 28 d4	 movaps	 xmm2, xmm4
  00136	66 0f 6e 5d f4	 movd	 xmm3, DWORD PTR tv1092[ebp]

; 575  : 			{
; 576  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  0013b	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  0013f	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00143	0f 28 cf	 movaps	 xmm1, xmm7
  00146	f2 0f 5c cb	 subsd	 xmm1, xmm3
  0014a	66 0f 2e cc	 ucomisd xmm1, xmm4
  0014e	9f		 lahf
  0014f	f6 c4 44	 test	 ah, 68			; 00000044H
  00152	7b 27		 jnp	 SHORT $LN58@Find_R_Dou
  00154	66 0f 2e c4	 ucomisd xmm0, xmm4
  00158	9f		 lahf
  00159	f6 c4 44	 test	 ah, 68			; 00000044H
  0015c	7b 1d		 jnp	 SHORT $LN58@Find_R_Dou

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0015e	0f 28 d5	 movaps	 xmm2, xmm5
  00161	f2 0f 5c d0	 subsd	 xmm2, xmm0
  00165	f2 0f 5e d0	 divsd	 xmm2, xmm0
  00169	f2 0f 5e d1	 divsd	 xmm2, xmm1
  0016d	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4059000000000000
  00175	f2 0f 59 d1	 mulsd	 xmm2, xmm1
  00179	eb 08		 jmp	 SHORT $LN34@Find_R_Dou
$LN58@Find_R_Dou:

; 577  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 578  : 				
; 579  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0017b	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4059000000000000
$LN34@Find_R_Dou:
  00183	66 0f 6e 45 e8	 movd	 xmm0, DWORD PTR tv1094[ebp]

; 2456 : 	double	dGradient=0;

  00188	0f 28 dc	 movaps	 xmm3, xmm4

; 577  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 578  : 				
; 579  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  0018b	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0018f	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00193	66 0f 2e c4	 ucomisd xmm0, xmm4
  00197	9f		 lahf
  00198	f6 c4 44	 test	 ah, 68			; 00000044H
  0019b	7b 1d		 jnp	 SHORT $LN37@Find_R_Dou
  0019d	66 0f 2e ec	 ucomisd xmm5, xmm4
  001a1	9f		 lahf
  001a2	f6 c4 44	 test	 ah, 68			; 00000044H
  001a5	7b 13		 jnp	 SHORT $LN37@Find_R_Dou

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001a7	0f 28 de	 movaps	 xmm3, xmm6
  001aa	f2 0f 5c dd	 subsd	 xmm3, xmm5
  001ae	f2 0f 5e dd	 divsd	 xmm3, xmm5
  001b2	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001b6	f2 0f 59 d9	 mulsd	 xmm3, xmm1
$LN37@Find_R_Dou:

; 580  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 581  : 				
; 582  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001ba	8b 45 dc	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001bd	0f 28 cc	 movaps	 xmm1, xmm4
  001c0	66 0f 6e 77 08	 movd	 xmm6, DWORD PTR [edi+8]

; 580  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 581  : 				
; 582  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001c5	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  001c9	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001cc	89 55 ec	 mov	 DWORD PTR tv1050[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001cf	8b 55 e4	 mov	 edx, DWORD PTR tv1087[ebp]
  001d2	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 580  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 581  : 				
; 582  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001d7	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  001dc	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001e0	f2 0f 11 75 d8	 movsd	 QWORD PTR tv1046[ebp], xmm6

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001e5	f2 0f 5c f0	 subsd	 xmm6, xmm0

; 580  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 581  : 				
; 582  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  001e9	f2 0f 11 45 b8	 movsd	 QWORD PTR tv1056[ebp], xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ee	66 0f 2e f4	 ucomisd xmm6, xmm4
  001f2	9f		 lahf
  001f3	f6 c4 44	 test	 ah, 68			; 00000044H
  001f6	7b 23		 jnp	 SHORT $LN40@Find_R_Dou
  001f8	66 0f 2e fc	 ucomisd xmm7, xmm4
  001fc	9f		 lahf
  001fd	f6 c4 44	 test	 ah, 68			; 00000044H
  00200	7b 19		 jnp	 SHORT $LN40@Find_R_Dou

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00202	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  00207	f2 0f 5c cf	 subsd	 xmm1, xmm7
  0020b	f2 0f 5e cf	 divsd	 xmm1, xmm7
  0020f	f2 0f 5e ce	 divsd	 xmm1, xmm6
  00213	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4059000000000000
$LN40@Find_R_Dou:

; 583  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 584  : 
; 585  : 				if ( fabs(dGradient3) <= 0.3)

  0021b	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __real@3fd3333333333333
  00223	0f 28 c1	 movaps	 xmm0, xmm1
  00226	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0022d	66 0f 2f e0	 comisd	 xmm4, xmm0
  00231	0f 57 e4	 xorps	 xmm4, xmm4
  00234	0f 82 d4 01 00
	00		 jb	 $LN2@Find_R_Dou

; 586  : 				{
; 587  : 					if ( dGradient1 < dGradient3 && dGradient3 < dGradient2)

  0023a	66 0f 2f ca	 comisd	 xmm1, xmm2
  0023e	0f 86 ca 01 00
	00		 jbe	 $LN2@Find_R_Dou
  00244	66 0f 2f d9	 comisd	 xmm3, xmm1
  00248	0f 86 c0 01 00
	00		 jbe	 $LN2@Find_R_Dou

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0024e	66 0f 2e f4	 ucomisd xmm6, xmm4
  00252	0f 57 c9	 xorps	 xmm1, xmm1
  00255	9f		 lahf
  00256	f6 c4 44	 test	 ah, 68			; 00000044H
  00259	7b 0d		 jnp	 SHORT $LN54@Find_R_Dou

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0025b	f2 0f 10 4f 28	 movsd	 xmm1, QWORD PTR [edi+40]
  00260	f2 0f 5c cf	 subsd	 xmm1, xmm7
  00264	f2 0f 5e ce	 divsd	 xmm1, xmm6
$LN54@Find_R_Dou:
  00268	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  0026d	0f 57 d2	 xorps	 xmm2, xmm2

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00270	f2 0f 10 75 d8	 movsd	 xmm6, QWORD PTR tv1046[ebp]
  00275	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00279	f2 0f 5c c6	 subsd	 xmm0, xmm6
  0027d	66 0f 2e c4	 ucomisd xmm0, xmm4
  00281	9f		 lahf
  00282	f6 c4 44	 test	 ah, 68			; 00000044H
  00285	7b 0e		 jnp	 SHORT $LN55@Find_R_Dou

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00287	f2 0f 10 51 20	 movsd	 xmm2, QWORD PTR [ecx+32]
  0028c	f2 0f 5c 57 28	 subsd	 xmm2, QWORD PTR [edi+40]
  00291	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN55@Find_R_Dou:

; 588  : 					{
; 589  : 						double dGradA, dGradB;
; 590  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 591  : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 592  : 						double dXNeckPt2, dYNeckPt2;
; 593  : 						double dNeckBaseYPt2;
; 594  : 
; 595  : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 596  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 597  : 
; 598  : 						dGradB = GetGradient(	pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 599  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 4-5
; 600  : 
; 601  : 						// First Draw Data
; 602  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00295	8b 45 f4	 mov	 eax, DWORD PTR tv1092[ebp]
  00298	8b 4d fc	 mov	 ecx, DWORD PTR tv1093[ebp]
  0029b	2b c1		 sub	 eax, ecx
  0029d	66 0f 6e c0	 movd	 xmm0, eax
  002a1	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002a5	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  002a9	f2 0f 58 c5	 addsd	 xmm0, xmm5
  002ad	f2 0f 11 45 b0	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  002b2	66 0f 6e c2	 movd	 xmm0, edx

; 603  : 						dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 604  : 
; 605  : 						// Second Draw Data
; 606  : 						dYDrawPt2_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  002b6	8b 55 f4	 mov	 edx, DWORD PTR tv1092[ebp]
  002b9	8b c2		 mov	 eax, edx
  002bb	2b 45 ec	 sub	 eax, DWORD PTR tv1050[ebp]
  002be	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002c2	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  002c6	f2 0f 58 c5	 addsd	 xmm0, xmm5
  002ca	f2 0f 11 45 f8	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  002cf	66 0f 6e c0	 movd	 xmm0, eax

; 607  : 						dYDrawPt2_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;

  002d3	8b 45 e8	 mov	 eax, DWORD PTR tv1094[ebp]
  002d6	2b 45 ec	 sub	 eax, DWORD PTR tv1050[ebp]
  002d9	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002dd	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  002e1	f2 0f 58 c7	 addsd	 xmm0, xmm7
  002e5	f2 0f 11 45 f0	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  002ea	66 0f 6e c0	 movd	 xmm0, eax
  002ee	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002f2	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  002f6	f2 0f 58 c7	 addsd	 xmm0, xmm7
  002fa	f2 0f 11 45 e0	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm0

; 608  : 
; 609  : 						// Second Neck Data
; 610  : 						if ( (dGradA - dGradB) != 0)

  002ff	0f 28 c1	 movaps	 xmm0, xmm1
  00302	f2 0f 5c c2	 subsd	 xmm0, xmm2
  00306	66 0f 2e c4	 ucomisd xmm0, xmm4
  0030a	f2 0f 11 45 d8	 movsd	 QWORD PTR tv1044[ebp], xmm0
  0030f	9f		 lahf
  00310	f6 c4 44	 test	 ah, 68			; 00000044H
  00313	7b 43		 jnp	 SHORT $LN56@Find_R_Dou

; 611  : 						{
; 612  : 							dXNeckPt2 = ( ( pHighLowPtData4->m_dLow - pHighLowPtData3->m_dHigh) + 

  00315	f2 0f 10 5f 28	 movsd	 xmm3, QWORD PTR [edi+40]
  0031a	0f 57 e4	 xorps	 xmm4, xmm4
  0031d	f2 0f 2a e1	 cvtsi2sd xmm4, ecx
  00321	f2 0f 5c dd	 subsd	 xmm3, xmm5
  00325	f2 0f 59 f2	 mulsd	 xmm6, xmm2
  00329	0f 28 c4	 movaps	 xmm0, xmm4
  0032c	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00330	f2 0f 58 d8	 addsd	 xmm3, xmm0
  00334	f2 0f 5c de	 subsd	 xmm3, xmm6
  00338	f2 0f 5e 5d d8	 divsd	 xmm3, QWORD PTR tv1044[ebp]

; 613  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData4->m_nDataSeq ) / ( dGradA-dGradB);
; 614  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  0033d	0f 28 c3	 movaps	 xmm0, xmm3
  00340	f2 0f 11 5d c8	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm3
  00345	f2 0f 5c c4	 subsd	 xmm0, xmm4
  00349	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0034d	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00351	f2 0f 11 45 c0	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm0
  00356	eb 05		 jmp	 SHORT $LN15@Find_R_Dou
$LN56@Find_R_Dou:

; 608  : 
; 609  : 						// Second Neck Data
; 610  : 						if ( (dGradA - dGradB) != 0)

  00358	f2 0f 10 5d c8	 movsd	 xmm3, QWORD PTR _dXNeckPt2$2[ebp]
$LN15@Find_R_Dou:

; 615  : 						}
; 616  : 
; 617  : 						// Neck Base Data2
; 618  : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData2->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  0035d	8b 45 ec	 mov	 eax, DWORD PTR tv1050[ebp]

; 619  : 
; 620  : 
; 621  : 						AddNewWavePatternData(	pObjWavePatternData,

  00360	83 ec 70	 sub	 esp, 112		; 00000070H
  00363	2b c1		 sub	 eax, ecx
  00365	66 0f 6e d2	 movd	 xmm2, edx
  00369	8b 4d d4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0036c	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00370	66 0f 6e c0	 movd	 xmm0, eax
  00374	8b 45 e8	 mov	 eax, DWORD PTR tv1094[ebp]
  00377	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0037b	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0037f	66 0f 6e c8	 movd	 xmm1, eax
  00383	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00387	f2 0f 58 c5	 addsd	 xmm0, xmm5
  0038b	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00391	f2 0f 10 45 c0	 movsd	 xmm0, QWORD PTR _dYNeckPt2$1[ebp]
  00396	f2 0f 11 7c 24
	60		 movsd	 QWORD PTR [esp+96], xmm7
  0039c	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  003a2	f2 0f 10 45 b8	 movsd	 xmm0, QWORD PTR tv1056[ebp]
  003a7	f2 0f 11 5c 24
	50		 movsd	 QWORD PTR [esp+80], xmm3
  003ad	f2 0f 11 7c 24
	48		 movsd	 QWORD PTR [esp+72], xmm7
  003b3	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  003b9	f2 0f 10 45 e0	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  003be	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  003c4	f2 0f 10 45 f0	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  003c9	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  003cf	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  003d5	f2 0f 10 45 f8	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  003da	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  003e0	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  003e6	f2 0f 10 45 b0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  003eb	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  003f1	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  003f7	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  003fc	50		 push	 eax
  003fd	52		 push	 edx
  003fe	68 a4 0f 00 00	 push	 4004			; 00000fa4H
  00403	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  00406	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  0040b	0f 57 e4	 xorps	 xmm4, xmm4
$LN2@Find_R_Dou:

; 561  : 
; 562  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  0040e	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00411	46		 inc	 esi
  00412	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  00415	3b 45 d0	 cmp	 eax, DWORD PTR $T3[ebp]
  00418	0f 8e 07 fc ff
	ff		 jle	 $LL4@Find_R_Dou
  0041e	5f		 pop	 edi
  0041f	5e		 pop	 esi
$LN3@Find_R_Dou:

; 622  : 												PTN_R_DOUBLETOP,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 623  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 624  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt2_2,
; 625  : 												pHighLowPtData2->m_nDataSeq,	pHighLowPtData2->m_dLow,		dXNeckPt2,						dYNeckPt2,
; 626  : 												pHighLowPtData2->m_dLow,		dNeckBaseYPt2	);
; 627  : 
; 628  : 					}
; 629  : 				}
; 630  : 			}
; 631  : 		}
; 632  : 	}
; 633  : 
; 634  : 	return TRUE;

  00420	b8 01 00 00 00	 mov	 eax, 1

; 635  : }

  00425	8b e5		 mov	 esp, ebp
  00427	5d		 pop	 ebp
  00428	c2 08 00	 ret	 8
$LN18@Find_R_Dou:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  0042b	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN59@Find_R_Dou:
  00430	cc		 int	 3
?Find_R_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_R_DoubleTop
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYDrawPt1_1$1$ = -84					; size = 8
_dYDrawPt1_2$1$ = -76					; size = 8
_dYNeckPt2$1 = -68					; size = 8
_dXNeckPt2$2 = -60					; size = 8
tv1042 = -52						; size = 8
tv1052 = -44						; size = 8
$T3 = -36						; size = 4
_this$1$ = -32						; size = 4
_dYDrawPt2_2$1$ = -28					; size = 8
tv1084 = -24						; size = 4
tv1079 = -24						; size = 4
_pHighLowPtData3$1$ = -20				; size = 4
tv1089 = -20						; size = 4
tv1091 = -16						; size = 4
_pHighLowPtData2$1$ = -12				; size = 4
tv1045 = -12						; size = 4
_dYDrawPt2_1$1$ = -8					; size = 8
tv1090 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z PROC	; CWavePattern::Find_DoubleTop, COMDAT
; _this$ = ecx

; 459  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H

; 470  : 
; 471  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 05	 sub	 eax, 5
  00012	89 45 dc	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 13 04 00
	00		 js	 $LN3@Find_Doubl

; 460  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 461  : 
; 462  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 463  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 464  : 	int		nPointCnt;
; 465  : 	int		nMininumData = 5;	// Double Top    
; 466  : 
; 467  : 	double	dGradient1, dGradient2, dGradient3;		// 
; 468  : 	
; 469  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
  00022	0f 57 e4	 xorps	 xmm4, xmm4
$LL4@Find_Doubl:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00025	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00028	85 c9		 test	 ecx, ecx
  0002a	0f 88 09 04 00
	00		 js	 $LN18@Find_Doubl
  00030	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00033	3b c8		 cmp	 ecx, eax
  00035	0f 8d fe 03 00
	00		 jge	 $LN18@Find_Doubl

; 289  : 		return m_pData[nIndex];

  0003b	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 473  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003e	8b 54 b1 f8	 mov	 edx, DWORD PTR [ecx+esi*4-8]
  00042	85 d2		 test	 edx, edx
  00044	0f 84 d2 03 00
	00		 je	 $LN2@Find_Doubl

; 474  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  0004a	81 7a 04 ea 03
	00 00		 cmp	 DWORD PTR [edx+4], 1002	; 000003eaH
  00051	0f 85 c5 03 00
	00		 jne	 $LN2@Find_Doubl
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00057	8d 7e ff	 lea	 edi, DWORD PTR [esi-1]
  0005a	85 ff		 test	 edi, edi
  0005c	0f 88 d7 03 00
	00		 js	 $LN18@Find_Doubl
  00062	3b f8		 cmp	 edi, eax
  00064	0f 8d cf 03 00
	00		 jge	 $LN18@Find_Doubl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 476  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  0006a	8b 7c b1 fc	 mov	 edi, DWORD PTR [ecx+esi*4-4]
  0006e	89 7d f4	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edi
  00071	85 ff		 test	 edi, edi
  00073	0f 84 a3 03 00
	00		 je	 $LN2@Find_Doubl
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00079	85 f6		 test	 esi, esi
  0007b	0f 88 b8 03 00
	00		 js	 $LN18@Find_Doubl
  00081	3b f0		 cmp	 esi, eax
  00083	0f 8d b0 03 00
	00		 jge	 $LN18@Find_Doubl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 477  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00089	8b 3c b1	 mov	 edi, DWORD PTR [ecx+esi*4]
  0008c	89 7d ec	 mov	 DWORD PTR _pHighLowPtData3$1$[ebp], edi
  0008f	85 ff		 test	 edi, edi
  00091	0f 84 85 03 00
	00		 je	 $LN2@Find_Doubl
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00097	8d 7e 01	 lea	 edi, DWORD PTR [esi+1]
  0009a	85 ff		 test	 edi, edi
  0009c	0f 88 97 03 00
	00		 js	 $LN18@Find_Doubl
  000a2	3b f8		 cmp	 edi, eax
  000a4	0f 8d 8f 03 00
	00		 jge	 $LN18@Find_Doubl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 478  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000aa	83 7c b1 04 00	 cmp	 DWORD PTR [ecx+esi*4+4], 0
  000af	0f 84 67 03 00
	00		 je	 $LN2@Find_Doubl
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000b5	8d 7e 02	 lea	 edi, DWORD PTR [esi+2]
  000b8	89 7d e8	 mov	 DWORD PTR tv1079[ebp], edi
  000bb	85 ff		 test	 edi, edi
  000bd	8b 7c b1 04	 mov	 edi, DWORD PTR [ecx+esi*4+4]
  000c1	0f 88 72 03 00
	00		 js	 $LN18@Find_Doubl
  000c7	39 45 e8	 cmp	 DWORD PTR tv1079[ebp], eax
  000ca	0f 8d 69 03 00
	00		 jge	 $LN18@Find_Doubl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 479  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d0	8b 4c b1 08	 mov	 ecx, DWORD PTR [ecx+esi*4+8]
  000d4	85 c9		 test	 ecx, ecx
  000d6	0f 84 40 03 00
	00		 je	 $LN2@Find_Doubl

; 480  : 
; 481  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow > pHighLowPtData5->m_dLow))

  000dc	8b 45 ec	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  000df	f2 0f 10 42 28	 movsd	 xmm0, QWORD PTR [edx+40]
  000e4	f2 0f 10 68 28	 movsd	 xmm5, QWORD PTR [eax+40]
  000e9	66 0f 2f e8	 comisd	 xmm5, xmm0
  000ed	0f 86 29 03 00
	00		 jbe	 $LN2@Find_Doubl
  000f3	f2 0f 10 79 28	 movsd	 xmm7, QWORD PTR [ecx+40]
  000f8	66 0f 2f ef	 comisd	 xmm5, xmm7
  000fc	0f 86 1a 03 00
	00		 jbe	 $LN2@Find_Doubl

; 482  : 		{
; 483  : 			if ( (pHighLowPtData3->m_nDataSeq - pHighLowPtData1->m_nDataSeq) >= (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq))

  00102	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00105	8b 52 08	 mov	 edx, DWORD PTR [edx+8]
  00108	89 45 f0	 mov	 DWORD PTR tv1091[ebp], eax
  0010b	8b 45 ec	 mov	 eax, DWORD PTR _pHighLowPtData3$1$[ebp]
  0010e	89 55 ec	 mov	 DWORD PTR tv1089[ebp], edx
  00111	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00114	89 45 fc	 mov	 DWORD PTR tv1090[ebp], eax
  00117	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  0011a	2b 45 fc	 sub	 eax, DWORD PTR tv1090[ebp]
  0011d	89 45 e8	 mov	 DWORD PTR tv1084[ebp], eax
  00120	8b 45 fc	 mov	 eax, DWORD PTR tv1090[ebp]
  00123	2b c2		 sub	 eax, edx
  00125	3b 45 e8	 cmp	 eax, DWORD PTR tv1084[ebp]
  00128	0f 8c ee 02 00
	00		 jl	 $LN2@Find_Doubl
  0012e	66 0f 6e 75 fc	 movd	 xmm6, DWORD PTR tv1090[ebp]

; 2456 : 	double	dGradient=0;

  00133	0f 28 d4	 movaps	 xmm2, xmm4
  00136	66 0f 6e 5d ec	 movd	 xmm3, DWORD PTR tv1089[ebp]

; 484  : 			{
; 485  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  0013b	f3 0f e6 f6	 cvtdq2pd xmm6, xmm6
  0013f	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00143	0f 28 ce	 movaps	 xmm1, xmm6

; 484  : 			{
; 485  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00146	f2 0f 11 75 cc	 movsd	 QWORD PTR tv1042[ebp], xmm6

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0014b	f2 0f 5c cb	 subsd	 xmm1, xmm3
  0014f	66 0f 2e cc	 ucomisd xmm1, xmm4
  00153	9f		 lahf
  00154	f6 c4 44	 test	 ah, 68			; 00000044H
  00157	7b 27		 jnp	 SHORT $LN58@Find_Doubl
  00159	66 0f 2e c4	 ucomisd xmm0, xmm4
  0015d	9f		 lahf
  0015e	f6 c4 44	 test	 ah, 68			; 00000044H
  00161	7b 1d		 jnp	 SHORT $LN58@Find_Doubl

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00163	0f 28 d5	 movaps	 xmm2, xmm5
  00166	f2 0f 5c d0	 subsd	 xmm2, xmm0
  0016a	f2 0f 5e d0	 divsd	 xmm2, xmm0
  0016e	f2 0f 5e d1	 divsd	 xmm2, xmm1
  00172	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4059000000000000
  0017a	f2 0f 59 d1	 mulsd	 xmm2, xmm1
  0017e	eb 08		 jmp	 SHORT $LN34@Find_Doubl
$LN58@Find_Doubl:

; 486  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 487  : 				
; 488  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00180	f2 0f 10 0d 00
	00 00 00	 movsd	 xmm1, QWORD PTR __real@4059000000000000
$LN34@Find_Doubl:
  00188	66 0f 6e 45 f0	 movd	 xmm0, DWORD PTR tv1091[ebp]

; 2456 : 	double	dGradient=0;

  0018d	0f 28 dc	 movaps	 xmm3, xmm4

; 486  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 487  : 				
; 488  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  00190	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00194	f2 0f 5c c6	 subsd	 xmm0, xmm6
  00198	66 0f 2e c4	 ucomisd xmm0, xmm4
  0019c	9f		 lahf
  0019d	f6 c4 44	 test	 ah, 68			; 00000044H
  001a0	7b 1d		 jnp	 SHORT $LN37@Find_Doubl
  001a2	66 0f 2e ec	 ucomisd xmm5, xmm4
  001a6	9f		 lahf
  001a7	f6 c4 44	 test	 ah, 68			; 00000044H
  001aa	7b 13		 jnp	 SHORT $LN37@Find_Doubl

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001ac	0f 28 df	 movaps	 xmm3, xmm7
  001af	f2 0f 5c dd	 subsd	 xmm3, xmm5
  001b3	f2 0f 5e dd	 divsd	 xmm3, xmm5
  001b7	f2 0f 5e d8	 divsd	 xmm3, xmm0
  001bb	f2 0f 59 d9	 mulsd	 xmm3, xmm1
$LN37@Find_Doubl:

; 489  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 490  : 				
; 491  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001bf	8b 45 f4	 mov	 eax, DWORD PTR _pHighLowPtData2$1$[ebp]

; 2456 : 	double	dGradient=0;

  001c2	0f 28 cc	 movaps	 xmm1, xmm4
  001c5	66 0f 6e 40 08	 movd	 xmm0, DWORD PTR [eax+8]

; 489  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 490  : 				
; 491  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001ca	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  001ce	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001d1	89 55 f4	 mov	 DWORD PTR tv1045[ebp], edx

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001d4	8b 55 e8	 mov	 edx, DWORD PTR tv1084[ebp]

; 489  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 490  : 				
; 491  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  001d7	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  001dc	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1052[ebp], xmm0
  001e1	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]
  001e6	f3 0f e6 f8	 cvtdq2pd xmm7, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001ea	f2 0f 5c 7d d4	 subsd	 xmm7, QWORD PTR tv1052[ebp]
  001ef	66 0f 2e fc	 ucomisd xmm7, xmm4
  001f3	9f		 lahf
  001f4	f6 c4 44	 test	 ah, 68			; 00000044H
  001f7	7b 23		 jnp	 SHORT $LN40@Find_Doubl
  001f9	66 0f 2e f4	 ucomisd xmm6, xmm4
  001fd	9f		 lahf
  001fe	f6 c4 44	 test	 ah, 68			; 00000044H
  00201	7b 19		 jnp	 SHORT $LN40@Find_Doubl

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00203	f2 0f 10 4f 20	 movsd	 xmm1, QWORD PTR [edi+32]
  00208	f2 0f 5c ce	 subsd	 xmm1, xmm6
  0020c	f2 0f 5e ce	 divsd	 xmm1, xmm6
  00210	f2 0f 5e cf	 divsd	 xmm1, xmm7
  00214	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4059000000000000
$LN40@Find_Doubl:

; 492  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 493  : 
; 494  : 				if ( fabs(dGradient3) <= 0.3)

  0021c	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __real@3fd3333333333333
  00224	0f 28 c1	 movaps	 xmm0, xmm1
  00227	0f 54 05 00 00
	00 00		 andps	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  0022e	66 0f 2f e0	 comisd	 xmm4, xmm0
  00232	0f 57 e4	 xorps	 xmm4, xmm4
  00235	0f 82 e1 01 00
	00		 jb	 $LN2@Find_Doubl

; 495  : 				{
; 496  : 					if ( dGradient1 > dGradient3 && dGradient3 > dGradient2)

  0023b	66 0f 2f d1	 comisd	 xmm2, xmm1
  0023f	0f 86 d7 01 00
	00		 jbe	 $LN2@Find_Doubl
  00245	66 0f 2f cb	 comisd	 xmm1, xmm3
  00249	0f 86 cd 01 00
	00		 jbe	 $LN2@Find_Doubl
  0024f	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  00254	0f 57 db	 xorps	 xmm3, xmm3
  00257	66 0f 6e 4f 08	 movd	 xmm1, DWORD PTR [edi+8]

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0025c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00260	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00264	f2 0f 5c c1	 subsd	 xmm0, xmm1
  00268	66 0f 2e c4	 ucomisd xmm0, xmm4
  0026c	9f		 lahf
  0026d	f6 c4 44	 test	 ah, 68			; 00000044H
  00270	7b 0e		 jnp	 SHORT $LN54@Find_Doubl

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00272	f2 0f 10 59 28	 movsd	 xmm3, QWORD PTR [ecx+40]
  00277	f2 0f 5c 5f 20	 subsd	 xmm3, QWORD PTR [edi+32]
  0027c	f2 0f 5e d8	 divsd	 xmm3, xmm0
$LN54@Find_Doubl:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00280	66 0f 2e fc	 ucomisd xmm7, xmm4
  00284	0f 57 d2	 xorps	 xmm2, xmm2
  00287	9f		 lahf
  00288	f6 c4 44	 test	 ah, 68			; 00000044H
  0028b	7b 0d		 jnp	 SHORT $LN55@Find_Doubl

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0028d	f2 0f 10 57 20	 movsd	 xmm2, QWORD PTR [edi+32]
  00292	f2 0f 5c d6	 subsd	 xmm2, xmm6
  00296	f2 0f 5e d7	 divsd	 xmm2, xmm7
$LN55@Find_Doubl:

; 497  : 					{
; 498  : 						double dGradA, dGradB;
; 499  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 500  : 						double dYDrawPt2_1, dYDrawPt2_2;
; 501  : 						double dXNeckPt2, dYNeckPt2;
; 502  : 						double dNeckBaseYPt2;
; 503  : 
; 504  : 						dGradA = GetGradient(	pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 505  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 4-5
; 506  : 
; 507  : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 508  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 509  : 
; 510  : 						// First Draw Data
; 511  : 						dYDrawPt1_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;

  0029a	8b 45 ec	 mov	 eax, DWORD PTR tv1089[ebp]

; 512  : 						dYDrawPt1_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 513  : 
; 514  : 						// Second Draw Data
; 515  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 516  : 						dYDrawPt2_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 517  : 
; 518  : 						// Second Neck Data
; 519  : 						if ( (dGradA - dGradB) != 0)

  0029d	0f 28 fb	 movaps	 xmm7, xmm3
  002a0	2b 45 f4	 sub	 eax, DWORD PTR tv1045[ebp]
  002a3	f2 0f 5c fa	 subsd	 xmm7, xmm2
  002a7	8b 4d fc	 mov	 ecx, DWORD PTR tv1090[ebp]
  002aa	66 0f 6e c0	 movd	 xmm0, eax
  002ae	8b 45 f0	 mov	 eax, DWORD PTR tv1091[ebp]
  002b1	2b 45 f4	 sub	 eax, DWORD PTR tv1045[ebp]
  002b4	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002b8	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  002bc	f2 0f 58 c6	 addsd	 xmm0, xmm6
  002c0	f2 0f 11 45 ac	 movsd	 QWORD PTR _dYDrawPt1_1$1$[ebp], xmm0
  002c5	66 0f 6e c0	 movd	 xmm0, eax
  002c9	8b 45 ec	 mov	 eax, DWORD PTR tv1089[ebp]
  002cc	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002d0	2b c1		 sub	 eax, ecx
  002d2	66 0f 2e fc	 ucomisd xmm7, xmm4
  002d6	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  002da	f2 0f 58 c6	 addsd	 xmm0, xmm6
  002de	f2 0f 11 45 b4	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  002e3	66 0f 6e c0	 movd	 xmm0, eax
  002e7	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  002eb	9f		 lahf
  002ec	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  002f0	f2 0f 58 c5	 addsd	 xmm0, xmm5
  002f4	f2 0f 11 45 f8	 movsd	 QWORD PTR _dYDrawPt2_1$1$[ebp], xmm0
  002f9	66 0f 6e c2	 movd	 xmm0, edx
  002fd	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00301	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00305	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00309	f2 0f 11 45 e4	 movsd	 QWORD PTR _dYDrawPt2_2$1$[ebp], xmm0
  0030e	f6 c4 44	 test	 ah, 68			; 00000044H
  00311	7b 50		 jnp	 SHORT $LN56@Find_Doubl

; 520  : 						{
; 521  : 							dXNeckPt2 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData4->m_dHigh) + 

  00313	0f 57 c0	 xorps	 xmm0, xmm0
  00316	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  0031b	0f 28 e0	 movaps	 xmm4, xmm0
  0031e	0f 28 c5	 movaps	 xmm0, xmm5
  00321	f2 0f 5c 47 20	 subsd	 xmm0, QWORD PTR [edi+32]
  00326	f2 0f 59 e3	 mulsd	 xmm4, xmm3
  0032a	f2 0f 58 e0	 addsd	 xmm4, xmm0
  0032e	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR tv1042[ebp]
  00333	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00337	f2 0f 5c e0	 subsd	 xmm4, xmm0
  0033b	0f 57 c0	 xorps	 xmm0, xmm0

; 522  : 											dGradA*pHighLowPtData4->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 523  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData4->m_nDataSeq) + pHighLowPtData4->m_dHigh;

  0033e	f2 0f 2a 47 08	 cvtsi2sd xmm0, DWORD PTR [edi+8]
  00343	f2 0f 5e e7	 divsd	 xmm4, xmm7
  00347	0f 28 fc	 movaps	 xmm7, xmm4
  0034a	f2 0f 11 65 c4	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm4
  0034f	f2 0f 5c f8	 subsd	 xmm7, xmm0
  00353	f2 0f 59 fb	 mulsd	 xmm7, xmm3
  00357	f2 0f 58 7f 20	 addsd	 xmm7, QWORD PTR [edi+32]
  0035c	f2 0f 11 7d bc	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm7
  00361	eb 0a		 jmp	 SHORT $LN15@Find_Doubl
$LN56@Find_Doubl:

; 512  : 						dYDrawPt1_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 513  : 
; 514  : 						// Second Draw Data
; 515  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 516  : 						dYDrawPt2_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 517  : 
; 518  : 						// Second Neck Data
; 519  : 						if ( (dGradA - dGradB) != 0)

  00363	f2 0f 10 65 c4	 movsd	 xmm4, QWORD PTR _dXNeckPt2$2[ebp]
  00368	f2 0f 10 7d bc	 movsd	 xmm7, QWORD PTR _dYNeckPt2$1[ebp]
$LN15@Find_Doubl:

; 524  : 						}
; 525  : 
; 526  : 						// Neck Base Data2
; 527  : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData2->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  0036d	8b 45 f4	 mov	 eax, DWORD PTR tv1045[ebp]

; 528  : 
; 529  : 
; 530  : 						AddNewWavePatternData(	pObjWavePatternData,

  00370	83 ec 70	 sub	 esp, 112		; 00000070H
  00373	2b c1		 sub	 eax, ecx
  00375	8b 4d f0	 mov	 ecx, DWORD PTR tv1091[ebp]
  00378	66 0f 6e c0	 movd	 xmm0, eax
  0037c	8b 45 ec	 mov	 eax, DWORD PTR tv1089[ebp]
  0037f	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00383	66 0f 6e c9	 movd	 xmm1, ecx
  00387	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  0038b	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  0038f	f2 0f 58 c5	 addsd	 xmm0, xmm5
  00393	66 0f 6e d0	 movd	 xmm2, eax
  00397	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  0039b	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  003a1	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR tv1052[ebp]
  003a6	f2 0f 11 74 24
	60		 movsd	 QWORD PTR [esp+96], xmm6
  003ac	f2 0f 11 7c 24
	58		 movsd	 QWORD PTR [esp+88], xmm7
  003b2	f2 0f 11 64 24
	50		 movsd	 QWORD PTR [esp+80], xmm4
  003b8	f2 0f 11 74 24
	48		 movsd	 QWORD PTR [esp+72], xmm6
  003be	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  003c4	f2 0f 10 45 e4	 movsd	 xmm0, QWORD PTR _dYDrawPt2_2$1$[ebp]
  003c9	f2 0f 11 44 24
	38		 movsd	 QWORD PTR [esp+56], xmm0
  003cf	f2 0f 10 45 f8	 movsd	 xmm0, QWORD PTR _dYDrawPt2_1$1$[ebp]
  003d4	f2 0f 11 4c 24
	30		 movsd	 QWORD PTR [esp+48], xmm1
  003da	f2 0f 11 44 24
	28		 movsd	 QWORD PTR [esp+40], xmm0
  003e0	f2 0f 10 45 b4	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  003e5	f2 0f 11 54 24
	20		 movsd	 QWORD PTR [esp+32], xmm2
  003eb	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  003f1	f2 0f 10 45 ac	 movsd	 xmm0, QWORD PTR _dYDrawPt1_1$1$[ebp]
  003f6	f2 0f 11 4c 24
	10		 movsd	 QWORD PTR [esp+16], xmm1
  003fc	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00402	f2 0f 11 14 24	 movsd	 QWORD PTR [esp], xmm2
  00407	51		 push	 ecx
  00408	8b 4d e0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0040b	50		 push	 eax
  0040c	68 a3 0f 00 00	 push	 4003			; 00000fa3H
  00411	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  00414	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
  00419	0f 57 e4	 xorps	 xmm4, xmm4
$LN2@Find_Doubl:

; 470  : 
; 471  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  0041c	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  0041f	46		 inc	 esi
  00420	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  00423	3b 45 dc	 cmp	 eax, DWORD PTR $T3[ebp]
  00426	0f 8e f9 fb ff
	ff		 jle	 $LL4@Find_Doubl
  0042c	5f		 pop	 edi
  0042d	5e		 pop	 esi
$LN3@Find_Doubl:

; 531  : 												PTN_DOUBLETOP,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 532  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 533  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt2_2,
; 534  : 												pHighLowPtData2->m_nDataSeq,	pHighLowPtData2->m_dHigh,		dXNeckPt2,						dYNeckPt2,
; 535  : 												pHighLowPtData2->m_dHigh,		dNeckBaseYPt2	);
; 536  : 
; 537  : 					}
; 538  : 				}
; 539  : 			}
; 540  : 		}
; 541  : 	}
; 542  : 
; 543  : 	return TRUE;

  0042e	b8 01 00 00 00	 mov	 eax, 1

; 544  : }

  00433	8b e5		 mov	 esp, ebp
  00435	5d		 pop	 ebp
  00436	c2 08 00	 ret	 8
$LN18@Find_Doubl:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00439	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN59@Find_Doubl:
  0043e	cc		 int	 3
?Find_DoubleTop@CWavePattern@@QAEHPAVCObject@@0@Z ENDP	; CWavePattern::Find_DoubleTop
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_R_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt2$1 = -68					; size = 8
_dXNeckPt2$2 = -60					; size = 8
_dYDrawPt1_2$1$ = -52					; size = 8
tv1140 = -52						; size = 8
tv1187 = -44						; size = 8
$T3 = -36						; size = 4
_this$1$ = -32						; size = 4
tv1250 = -28						; size = 4
tv1177 = -24						; size = 8
_pHighLowPtData2$1$ = -20				; size = 4
tv1200 = -16						; size = 8
_pHighLowPtData6$1$ = -12				; size = 4
_pHighLowPtData4$1$ = -8				; size = 4
_pHighLowPtData5$1$ = -4				; size = 4
tv1251 = -4						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_R_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_R_HeaderNShoulders, COMDAT
; _this$ = ecx

; 367  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H

; 378  : 
; 379  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e0	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 07	 sub	 eax, 7
  00012	89 45 dc	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 6a 04 00
	00		 js	 $LN3@Find_R_Hea

; 368  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 369  : 
; 370  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 371  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 372  : 	int		nPointCnt;
; 373  : 	int		nMininumData = 7;	// Reversal Head & Shoulder    
; 374  : 
; 375  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 376  : 	
; 377  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	56		 push	 esi
  0001c	57		 push	 edi
  0001d	be 02 00 00 00	 mov	 esi, 2
$LL4@Find_R_Hea:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00022	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00025	85 c9		 test	 ecx, ecx
  00027	0f 88 63 04 00
	00		 js	 $LN20@Find_R_Hea
  0002d	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00030	3b c8		 cmp	 ecx, eax
  00032	0f 8d 58 04 00
	00		 jge	 $LN20@Find_R_Hea

; 289  : 		return m_pData[nIndex];

  00038	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 381  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  0003b	8b 7c b1 f8	 mov	 edi, DWORD PTR [ecx+esi*4-8]
  0003f	85 ff		 test	 edi, edi
  00041	0f 84 2f 04 00
	00		 je	 $LN2@Find_R_Hea

; 382  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;

  00047	81 7f 04 e9 03
	00 00		 cmp	 DWORD PTR [edi+4], 1001	; 000003e9H
  0004e	0f 85 22 04 00
	00		 jne	 $LN2@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00054	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  00057	85 d2		 test	 edx, edx
  00059	0f 88 31 04 00
	00		 js	 $LN20@Find_R_Hea
  0005f	3b d0		 cmp	 edx, eax
  00061	0f 8d 29 04 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 384  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00067	8b 54 b1 fc	 mov	 edx, DWORD PTR [ecx+esi*4-4]
  0006b	89 55 ec	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edx
  0006e	85 d2		 test	 edx, edx
  00070	0f 84 fd 03 00
	00		 je	 $LN79@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00076	85 f6		 test	 esi, esi
  00078	0f 88 12 04 00
	00		 js	 $LN20@Find_R_Hea
  0007e	3b f0		 cmp	 esi, eax
  00080	0f 8d 0a 04 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 385  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00086	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  0008a	0f 84 e3 03 00
	00		 je	 $LN79@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00090	8d 56 01	 lea	 edx, DWORD PTR [esi+1]
  00093	85 d2		 test	 edx, edx
  00095	0f 88 f5 03 00
	00		 js	 $LN20@Find_R_Hea
  0009b	3b d0		 cmp	 edx, eax
  0009d	0f 8d ed 03 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 386  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000a3	8b 54 b1 04	 mov	 edx, DWORD PTR [ecx+esi*4+4]
  000a7	89 55 f8	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edx
  000aa	85 d2		 test	 edx, edx
  000ac	0f 84 c1 03 00
	00		 je	 $LN79@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000b2	8d 56 02	 lea	 edx, DWORD PTR [esi+2]
  000b5	85 d2		 test	 edx, edx
  000b7	0f 88 d3 03 00
	00		 js	 $LN20@Find_R_Hea
  000bd	3b d0		 cmp	 edx, eax
  000bf	0f 8d cb 03 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 387  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000c5	8b 54 b1 08	 mov	 edx, DWORD PTR [ecx+esi*4+8]
  000c9	89 55 fc	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edx
  000cc	85 d2		 test	 edx, edx
  000ce	0f 84 9f 03 00
	00		 je	 $LN79@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000d4	8d 56 03	 lea	 edx, DWORD PTR [esi+3]
  000d7	85 d2		 test	 edx, edx
  000d9	0f 88 b1 03 00
	00		 js	 $LN20@Find_R_Hea
  000df	3b d0		 cmp	 edx, eax
  000e1	0f 8d a9 03 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 388  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000e7	8b 54 b1 0c	 mov	 edx, DWORD PTR [ecx+esi*4+12]
  000eb	89 55 f4	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edx
  000ee	85 d2		 test	 edx, edx
  000f0	0f 84 7d 03 00
	00		 je	 $LN79@Find_R_Hea
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000f6	8d 56 04	 lea	 edx, DWORD PTR [esi+4]
  000f9	85 d2		 test	 edx, edx
  000fb	0f 88 8f 03 00
	00		 js	 $LN20@Find_R_Hea
  00101	3b d0		 cmp	 edx, eax
  00103	0f 8d 87 03 00
	00		 jge	 $LN20@Find_R_Hea
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 389  : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;

  00109	8b 54 b1 10	 mov	 edx, DWORD PTR [ecx+esi*4+16]
  0010d	85 d2		 test	 edx, edx
  0010f	0f 84 5e 03 00
	00		 je	 $LN79@Find_R_Hea

; 390  : 
; 391  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))

  00115	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  00118	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  0011d	f2 0f 10 70 20	 movsd	 xmm6, QWORD PTR [eax+32]
  00122	66 0f 2f c6	 comisd	 xmm0, xmm6
  00126	0f 86 47 03 00
	00		 jbe	 $LN79@Find_R_Hea
  0012c	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  0012f	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  00134	f2 0f 10 79 20	 movsd	 xmm7, QWORD PTR [ecx+32]
  00139	66 0f 2f cf	 comisd	 xmm1, xmm7
  0013d	0f 86 30 03 00
	00		 jbe	 $LN79@Find_R_Hea

; 392  : 		{
; 393  : 			if ( (pHighLowPtData2->m_dLow > pHighLowPtData4->m_dLow) && (pHighLowPtData4->m_dLow < pHighLowPtData6->m_dLow))

  00143	8b 4d ec	 mov	 ecx, DWORD PTR _pHighLowPtData2$1$[ebp]
  00146	f2 0f 10 49 28	 movsd	 xmm1, QWORD PTR [ecx+40]
  0014b	8b 4d f8	 mov	 ecx, DWORD PTR _pHighLowPtData4$1$[ebp]
  0014e	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  00153	66 0f 2f ca	 comisd	 xmm1, xmm2
  00157	0f 86 16 03 00
	00		 jbe	 $LN79@Find_R_Hea
  0015d	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData6$1$[ebp]
  00160	f2 0f 10 49 28	 movsd	 xmm1, QWORD PTR [ecx+40]
  00165	66 0f 2f ca	 comisd	 xmm1, xmm2
  00169	8b 4d fc	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  0016c	f2 0f 11 4d cc	 movsd	 QWORD PTR tv1140[ebp], xmm1
  00171	0f 86 fc 02 00
	00		 jbe	 $LN79@Find_R_Hea

; 394  : 			{
; 395  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 

  00177	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0017a	0f 57 db	 xorps	 xmm3, xmm3
  0017d	8b 7f 08	 mov	 edi, DWORD PTR [edi+8]
  00180	0f 57 e4	 xorps	 xmm4, xmm4
  00183	89 45 e4	 mov	 DWORD PTR tv1250[ebp], eax
  00186	89 7d fc	 mov	 DWORD PTR tv1251[ebp], edi
  00189	66 0f 6e e8	 movd	 xmm5, eax
  0018d	f3 0f e6 ed	 cvtdq2pd xmm5, xmm5
  00191	66 0f 6e d7	 movd	 xmm2, edi
  00195	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00199	0f 28 cd	 movaps	 xmm1, xmm5
  0019c	f2 0f 5c ca	 subsd	 xmm1, xmm2
  001a0	66 0f 2e cb	 ucomisd xmm1, xmm3
  001a4	9f		 lahf
  001a5	f6 c4 44	 test	 ah, 68			; 00000044H
  001a8	7b 21		 jnp	 SHORT $LN42@Find_R_Hea
  001aa	66 0f 2e c3	 ucomisd xmm0, xmm3
  001ae	9f		 lahf
  001af	f6 c4 44	 test	 ah, 68			; 00000044H
  001b2	7b 17		 jnp	 SHORT $LN42@Find_R_Hea

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001b4	0f 28 e6	 movaps	 xmm4, xmm6
  001b7	f2 0f 5c e0	 subsd	 xmm4, xmm0
  001bb	f2 0f 5e e0	 divsd	 xmm4, xmm0
  001bf	f2 0f 5e e1	 divsd	 xmm4, xmm1
  001c3	f2 0f 59 25 00
	00 00 00	 mulsd	 xmm4, QWORD PTR __real@4059000000000000
$LN42@Find_R_Hea:
  001cb	66 0f 6e 51 08	 movd	 xmm2, DWORD PTR [ecx+8]
  001d0	0f 57 c9	 xorps	 xmm1, xmm1

; 396  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 397  : 				
; 398  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 

  001d3	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001d7	0f 28 c2	 movaps	 xmm0, xmm2
  001da	f2 0f 5c c5	 subsd	 xmm0, xmm5
  001de	66 0f 2e c3	 ucomisd xmm0, xmm3
  001e2	f2 0f 11 45 d4	 movsd	 QWORD PTR tv1187[ebp], xmm0
  001e7	9f		 lahf
  001e8	f6 c4 44	 test	 ah, 68			; 00000044H
  001eb	7b 21		 jnp	 SHORT $LN45@Find_R_Hea
  001ed	66 0f 2e f3	 ucomisd xmm6, xmm3
  001f1	9f		 lahf
  001f2	f6 c4 44	 test	 ah, 68			; 00000044H
  001f5	7b 17		 jnp	 SHORT $LN45@Find_R_Hea

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001f7	0f 28 cf	 movaps	 xmm1, xmm7
  001fa	f2 0f 5c ce	 subsd	 xmm1, xmm6
  001fe	f2 0f 5e ce	 divsd	 xmm1, xmm6
  00202	f2 0f 5e c8	 divsd	 xmm1, xmm0
  00206	f2 0f 59 0d 00
	00 00 00	 mulsd	 xmm1, QWORD PTR __real@4059000000000000
$LN45@Find_R_Hea:
  0020e	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  00213	0f 57 ed	 xorps	 xmm5, xmm5

; 399  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 400  : 				
; 401  : 				dGradient3 = GetModifyGradient( pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 

  00216	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0021a	f2 0f 5c c2	 subsd	 xmm0, xmm2
  0021e	66 0f 2e c3	 ucomisd xmm0, xmm3
  00222	9f		 lahf
  00223	f6 c4 44	 test	 ah, 68			; 00000044H
  00226	7b 23		 jnp	 SHORT $LN48@Find_R_Hea
  00228	66 0f 2e fb	 ucomisd xmm7, xmm3
  0022c	9f		 lahf
  0022d	f6 c4 44	 test	 ah, 68			; 00000044H
  00230	7b 19		 jnp	 SHORT $LN48@Find_R_Hea

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00232	f2 0f 10 6a 20	 movsd	 xmm5, QWORD PTR [edx+32]
  00237	f2 0f 5c ef	 subsd	 xmm5, xmm7
  0023b	f2 0f 5e ef	 divsd	 xmm5, xmm7
  0023f	f2 0f 5e e8	 divsd	 xmm5, xmm0
  00243	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN48@Find_R_Hea:

; 402  : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 403  : 
; 404  : 				dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  0024b	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData6$1$[ebp]
  0024e	0f 57 d2	 xorps	 xmm2, xmm2
  00251	8b 7d ec	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
  00254	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  00259	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0025d	f2 0f 11 45 f0	 movsd	 QWORD PTR tv1200[ebp], xmm0
  00262	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00267	f2 0f 10 5d f0	 movsd	 xmm3, QWORD PTR tv1200[ebp]

; 402  : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 403  : 
; 404  : 				dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 

  0026c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  00270	f2 0f 5c d8	 subsd	 xmm3, xmm0
  00274	f2 0f 11 5d e8	 movsd	 QWORD PTR tv1177[ebp], xmm3
  00279	0f 57 db	 xorps	 xmm3, xmm3
  0027c	f2 0f 10 45 e8	 movsd	 xmm0, QWORD PTR tv1177[ebp]
  00281	66 0f 2e c3	 ucomisd xmm0, xmm3
  00285	9f		 lahf
  00286	f6 c4 44	 test	 ah, 68			; 00000044H
  00289	7b 29		 jnp	 SHORT $LN51@Find_R_Hea
  0028b	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  00290	66 0f 2e c3	 ucomisd xmm0, xmm3
  00294	9f		 lahf
  00295	f6 c4 44	 test	 ah, 68			; 00000044H
  00298	7b 1a		 jnp	 SHORT $LN51@Find_R_Hea

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0029a	f2 0f 10 51 28	 movsd	 xmm2, QWORD PTR [ecx+40]
  0029f	f2 0f 5c d0	 subsd	 xmm2, xmm0
  002a3	f2 0f 5e d0	 divsd	 xmm2, xmm0
  002a7	f2 0f 5e 55 e8	 divsd	 xmm2, QWORD PTR tv1177[ebp]
  002ac	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
$LN51@Find_R_Hea:

; 405  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 406  : 
; 407  : 				if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)

  002b4	66 0f 2f cc	 comisd	 xmm1, xmm4
  002b8	0f 86 b5 01 00
	00		 jbe	 $LN79@Find_R_Hea
  002be	66 0f 2f e9	 comisd	 xmm5, xmm1
  002c2	0f 86 ab 01 00
	00		 jbe	 $LN79@Find_R_Hea

; 408  : 				{
; 409  : 					if ( fabs(dGradient2) <= 0.3 && fabs(dGradient4) <= 0.3)

  002c8	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002d0	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __real@3fd3333333333333
  002d8	0f 54 cc	 andps	 xmm1, xmm4
  002db	66 0f 2f c1	 comisd	 xmm0, xmm1
  002df	0f 82 8e 01 00
	00		 jb	 $LN79@Find_R_Hea
  002e5	0f 54 d4	 andps	 xmm2, xmm4
  002e8	66 0f 2f c2	 comisd	 xmm0, xmm2
  002ec	0f 82 81 01 00
	00		 jb	 $LN79@Find_R_Hea

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002f2	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR tv1187[ebp]
  002f7	0f 57 c9	 xorps	 xmm1, xmm1
  002fa	66 0f 2e c3	 ucomisd xmm0, xmm3
  002fe	9f		 lahf
  002ff	f6 c4 44	 test	 ah, 68			; 00000044H
  00302	7b 0b		 jnp	 SHORT $LN54@Find_R_Hea

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00304	0f 28 cf	 movaps	 xmm1, xmm7
  00307	f2 0f 5c ce	 subsd	 xmm1, xmm6
  0030b	f2 0f 5e c8	 divsd	 xmm1, xmm0
$LN54@Find_R_Hea:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  0030f	8b 7a 08	 mov	 edi, DWORD PTR [edx+8]
  00312	0f 57 d2	 xorps	 xmm2, xmm2
  00315	66 0f 6e c7	 movd	 xmm0, edi
  00319	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0031d	f2 0f 5c 45 f0	 subsd	 xmm0, QWORD PTR tv1200[ebp]
  00322	66 0f 2e c3	 ucomisd xmm0, xmm3
  00326	9f		 lahf
  00327	f6 c4 44	 test	 ah, 68			; 00000044H
  0032a	7b 14		 jnp	 SHORT $LN65@Find_R_Hea

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0032c	f2 0f 10 52 20	 movsd	 xmm2, QWORD PTR [edx+32]
  00331	f2 0f 10 61 28	 movsd	 xmm4, QWORD PTR [ecx+40]
  00336	f2 0f 5c d4	 subsd	 xmm2, xmm4
  0033a	f2 0f 5e d0	 divsd	 xmm2, xmm0
  0033e	eb 05		 jmp	 SHORT $LN62@Find_R_Hea
$LN65@Find_R_Hea:

; 453  : 
; 454  : 
; 455  : // **********************************************
; 456  : // Double Top					()
; 457  : // **********************************************
; 458  : BOOL CWavePattern::Find_DoubleTop( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 459  : {
; 460  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 461  : 
; 462  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 463  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 464  : 	int		nPointCnt;
; 465  : 	int		nMininumData = 5;	// Double Top    
; 466  : 
; 467  : 	double	dGradient1, dGradient2, dGradient3;		// 
; 468  : 	
; 469  : 	nPointCnt = paryHighLowPtData->GetSize();
; 470  : 
; 471  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 472  : 	{
; 473  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 474  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 475  : 
; 476  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 477  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 478  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 479  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 480  : 
; 481  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow > pHighLowPtData5->m_dLow))
; 482  : 		{
; 483  : 			if ( (pHighLowPtData3->m_nDataSeq - pHighLowPtData1->m_nDataSeq) >= (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq))
; 484  : 			{
; 485  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 486  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 487  : 				
; 488  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 489  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 490  : 				
; 491  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 492  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 493  : 
; 494  : 				if ( fabs(dGradient3) <= 0.3)
; 495  : 				{
; 496  : 					if ( dGradient1 > dGradient3 && dGradient3 > dGradient2)
; 497  : 					{
; 498  : 						double dGradA, dGradB;
; 499  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 500  : 						double dYDrawPt2_1, dYDrawPt2_2;
; 501  : 						double dXNeckPt2, dYNeckPt2;
; 502  : 						double dNeckBaseYPt2;
; 503  : 
; 504  : 						dGradA = GetGradient(	pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 505  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 4-5
; 506  : 
; 507  : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 508  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 509  : 
; 510  : 						// First Draw Data
; 511  : 						dYDrawPt1_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 512  : 						dYDrawPt1_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 513  : 
; 514  : 						// Second Draw Data
; 515  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 516  : 						dYDrawPt2_2 = dGradB * (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 517  : 
; 518  : 						// Second Neck Data
; 519  : 						if ( (dGradA - dGradB) != 0)
; 520  : 						{
; 521  : 							dXNeckPt2 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData4->m_dHigh) + 
; 522  : 											dGradA*pHighLowPtData4->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 523  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData4->m_nDataSeq) + pHighLowPtData4->m_dHigh;
; 524  : 						}
; 525  : 
; 526  : 						// Neck Base Data2
; 527  : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData2->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 528  : 
; 529  : 
; 530  : 						AddNewWavePatternData(	pObjWavePatternData,
; 531  : 												PTN_DOUBLETOP,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 532  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 533  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt2_2,
; 534  : 												pHighLowPtData2->m_nDataSeq,	pHighLowPtData2->m_dHigh,		dXNeckPt2,						dYNeckPt2,
; 535  : 												pHighLowPtData2->m_dHigh,		dNeckBaseYPt2	);
; 536  : 
; 537  : 					}
; 538  : 				}
; 539  : 			}
; 540  : 		}
; 541  : 	}
; 542  : 
; 543  : 	return TRUE;
; 544  : }
; 545  : 
; 546  : // **********************************************
; 547  : // Reversal Double Top			()
; 548  : // **********************************************
; 549  : BOOL CWavePattern::Find_R_DoubleTop( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 550  : {
; 551  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 552  : 
; 553  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 554  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 555  : 	int		nPointCnt;
; 556  : 	int		nMininumData = 5;	// Reversal Double Top    
; 557  : 
; 558  : 	double	dGradient1, dGradient2, dGradient3;		// 
; 559  : 	
; 560  : 	nPointCnt = paryHighLowPtData->GetSize();
; 561  : 
; 562  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 563  : 	{
; 564  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 565  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 566  : 
; 567  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 568  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 569  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 570  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 571  : 
; 572  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh < pHighLowPtData5->m_dHigh))
; 573  : 		{
; 574  : 			if ( (pHighLowPtData3->m_nDataSeq - pHighLowPtData1->m_nDataSeq) >= (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq))
; 575  : 			{
; 576  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 577  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 578  : 				
; 579  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 580  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 581  : 				
; 582  : 				dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 583  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 584  : 
; 585  : 				if ( fabs(dGradient3) <= 0.3)
; 586  : 				{
; 587  : 					if ( dGradient1 < dGradient3 && dGradient3 < dGradient2)
; 588  : 					{
; 589  : 						double dGradA, dGradB;
; 590  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 591  : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 592  : 						double dXNeckPt2, dYNeckPt2;
; 593  : 						double dNeckBaseYPt2;
; 594  : 
; 595  : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 596  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 597  : 
; 598  : 						dGradB = GetGradient(	pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 599  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 4-5
; 600  : 
; 601  : 						// First Draw Data
; 602  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 603  : 						dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 604  : 
; 605  : 						// Second Draw Data
; 606  : 						dYDrawPt2_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 607  : 						dYDrawPt2_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 608  : 
; 609  : 						// Second Neck Data
; 610  : 						if ( (dGradA - dGradB) != 0)
; 611  : 						{
; 612  : 							dXNeckPt2 = ( ( pHighLowPtData4->m_dLow - pHighLowPtData3->m_dHigh) + 
; 613  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData4->m_nDataSeq ) / ( dGradA-dGradB);
; 614  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 615  : 						}
; 616  : 
; 617  : 						// Neck Base Data2
; 618  : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData2->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 619  : 
; 620  : 
; 621  : 						AddNewWavePatternData(	pObjWavePatternData,
; 622  : 												PTN_R_DOUBLETOP,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 623  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 624  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt2_2,
; 625  : 												pHighLowPtData2->m_nDataSeq,	pHighLowPtData2->m_dLow,		dXNeckPt2,						dYNeckPt2,
; 626  : 												pHighLowPtData2->m_dLow,		dNeckBaseYPt2	);
; 627  : 
; 628  : 					}
; 629  : 				}
; 630  : 			}
; 631  : 		}
; 632  : 	}
; 633  : 
; 634  : 	return TRUE;
; 635  : }
; 636  : 
; 637  : 
; 638  : // **********************************************
; 639  : // Bull Isosceles Triangles		()
; 640  : // **********************************************
; 641  : BOOL CWavePattern::Find_Bull_IsoTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 642  : {
; 643  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 644  : 
; 645  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 646  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 647  : 	int		nPointCnt;
; 648  : 	int		nMininumData = 6;	// Bull Isosceles Triangles    
; 649  : 
; 650  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 651  : 	
; 652  : 	nPointCnt = paryHighLowPtData->GetSize();
; 653  : 
; 654  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 655  : 	{
; 656  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 657  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 658  : 
; 659  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 660  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 661  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 662  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 663  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 664  : 
; 665  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 666  : 		{
; 667  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 668  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 669  : 			
; 670  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 671  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 672  : 			
; 673  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 674  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 675  : 
; 676  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 677  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 678  : 
; 679  : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 && (fabs(dGradient3)-fabs(dGradient2) < 0.3))
; 680  : 			{
; 681  : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) < 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 682  : 				{
; 683  : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 684  : 					{
; 685  : 						double dGradA, dGradB, dGradA_L, dGradB_L;
; 686  : 						double dYDrawPt1_1;
; 687  : 						double dYDrawPt2_1;
; 688  : 						double dXCrossPt1, dYCrossPt1;
; 689  : 						double dXNeckPt1, dYNeckPt1;
; 690  : 						double dXNeckPt2, dYNeckPt2;
; 691  : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 692  : 
; 693  : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 694  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 695  : 
; 696  : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 697  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 698  : 
; 699  : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 700  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 701  : 
; 702  : 						dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 703  : 												pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 704  : 
; 705  : 						// First Draw Data
; 706  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 707  : 
; 708  : 						// Second Draw Data
; 709  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 710  : 
; 711  : 						if ( (dGradA - dGradB) != 0)
; 712  : 						{
; 713  : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 714  : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 715  : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 716  : 						}
; 717  : 
; 718  : 						// First Neck Data
; 719  : 						if ( (dGradB - dGradB_L) != 0)
; 720  : 						{
; 721  : 							dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 722  : 											dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 723  : 							dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 724  : 						}
; 725  : 						// Second Neck Data
; 726  : 						if ( (dGradA - dGradA_L) != 0)
; 727  : 						{
; 728  : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 729  : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 730  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 731  : 						}
; 732  : 
; 733  : 						// Neck Base Data1
; 734  : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 735  : 						// Neck Base Data2
; 736  : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 737  : 
; 738  : 
; 739  : 						AddNewWavePatternData(	pObjWavePatternData,
; 740  : 												PTN_BULL_ISOTRIANGLE,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 741  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 742  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 743  : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 744  : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 745  : 
; 746  : 					}
; 747  : 				}
; 748  : 			}
; 749  : 		}
; 750  : 	}
; 751  : 
; 752  : 	return TRUE;
; 753  : }
; 754  : 
; 755  : // **********************************************
; 756  : // Bear Isosceles Triangles		()
; 757  : // **********************************************
; 758  : BOOL CWavePattern::Find_Bear_IsoTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 759  : {
; 760  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 761  : 
; 762  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 763  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 764  : 	int		nPointCnt;
; 765  : 	int		nMininumData = 6;	// Bear Isosceles Triangles    
; 766  : 
; 767  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 768  : 	
; 769  : 	nPointCnt = paryHighLowPtData->GetSize();
; 770  : 
; 771  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 772  : 	{
; 773  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 774  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 775  : 
; 776  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 777  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 778  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 779  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 780  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 781  : 
; 782  : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 783  : 		{
; 784  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 785  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 786  : 			
; 787  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 788  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 789  : 			
; 790  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 791  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 792  : 
; 793  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 794  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 795  : 
; 796  : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 && (fabs(dGradient2)-fabs(dGradient3) < 0.3))
; 797  : 			{
; 798  : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) < 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 799  : 				{
; 800  : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 801  : 					{
; 802  : 						double dGradA, dGradB, dGradA_H, dGradB_H;
; 803  : 						double dYDrawPt1_1;
; 804  : 						double dYDrawPt2_1;
; 805  : 						double dXCrossPt1, dYCrossPt1;
; 806  : 						double dXNeckPt1, dYNeckPt1;
; 807  : 						double dXNeckPt2, dYNeckPt2;
; 808  : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 809  : 
; 810  : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 811  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 812  : 
; 813  : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 814  : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 815  : 
; 816  : 						dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 817  : 												pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 818  : 
; 819  : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 820  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 821  : 
; 822  : 						// First Draw Data
; 823  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 824  : 
; 825  : 						// Second Draw Data
; 826  : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 827  : 
; 828  : 						if ( (dGradA - dGradB) != 0)
; 829  : 						{
; 830  : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 831  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 832  : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 833  : 						}
; 834  : 
; 835  : 						// First Neck Data
; 836  : 						if ( (dGradA_H - dGradA) != 0)
; 837  : 						{
; 838  : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 839  : 											dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 840  : 							dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 841  : 						}
; 842  : 						// Second Neck Data
; 843  : 						if ( (dGradB_H - dGradB) != 0)
; 844  : 						{
; 845  : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 846  : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 847  : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 848  : 						}
; 849  : 
; 850  : 						// Neck Base Data1
; 851  : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 852  : 						// Neck Base Data2
; 853  : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 854  : 
; 855  : 
; 856  : 						AddNewWavePatternData(	pObjWavePatternData,
; 857  : 												PTN_BEAR_ISOTRIANGLE,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 858  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 859  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 860  : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 861  : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 862  : 
; 863  : 
; 864  : 					}
; 865  : 				}
; 866  : 			}
; 867  : 		}
; 868  : 	}
; 869  : 
; 870  : 	return TRUE;
; 871  : }
; 872  : 
; 873  : 
; 874  : // **********************************************
; 875  : // Bull Triangles				()
; 876  : // **********************************************
; 877  : BOOL CWavePattern::Find_Bull_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 878  : {
; 879  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 880  : 
; 881  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 882  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 883  : 	int		nPointCnt;
; 884  : 	int		nMininumData = 6;	// Bull Triangles    
; 885  : 
; 886  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 887  : 	
; 888  : 	nPointCnt = paryHighLowPtData->GetSize();
; 889  : 
; 890  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 891  : 	{
; 892  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 893  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 894  : 
; 895  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 896  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 897  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 898  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 899  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 900  : 
; 901  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 902  : 		{
; 903  : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 904  : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 905  : 			
; 906  : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 907  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 908  : 			
; 909  : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 910  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 911  : 
; 912  : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 913  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 914  : 
; 915  : 			if ( fabs(dGradient3) < 0.3 && dGradient2 > 0.3 )
; 916  : 			{
; 917  : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 918  : 				{
; 919  : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 920  : 					double dYDrawPt1_1;
; 921  : 					double dYDrawPt2_1;
; 922  : 					double dXCrossPt1, dYCrossPt1;
; 923  : 					double dXNeckPt1, dYNeckPt1;
; 924  : 					double dXNeckPt2, dYNeckPt2;
; 925  : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 926  : 
; 927  : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 928  : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 929  : 
; 930  : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 931  : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 932  : 
; 933  : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 934  : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 935  : 
; 936  : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 937  : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 938  : 
; 939  : 					// First Draw Data
; 940  : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 941  : 
; 942  : 					// Second Draw Data
; 943  : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 944  : 
; 945  : 					if ( (dGradA - dGradB) != 0)
; 946  : 					{
; 947  : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 948  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 949  : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 950  : 					}
; 951  : 
; 952  : 					// First Neck Data
; 953  : 					if ( (dGradB - dGradB_L) != 0)
; 954  : 					{
; 955  : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 956  : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 957  : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 958  : 					}
; 959  : 					// Second Neck Data
; 960  : 					if ( (dGradA - dGradA_L) != 0)
; 961  : 					{
; 962  : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 963  : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 964  : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 965  : 					}
; 966  : 
; 967  : 					// Neck Base Data1
; 968  : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 969  : 					// Neck Base Data2
; 970  : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 971  : 
; 972  : 
; 973  : 					AddNewWavePatternData(	pObjWavePatternData,
; 974  : 											PTN_BULL_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 975  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 976  : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 977  : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 978  : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 979  : 
; 980  : 				}
; 981  : 			}
; 982  : 		}
; 983  : 	}
; 984  : 
; 985  : 	return TRUE;
; 986  : }
; 987  : 
; 988  : // **********************************************
; 989  : // Bear Triangles				()
; 990  : // **********************************************
; 991  : BOOL CWavePattern::Find_Bear_Triangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 992  : {
; 993  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 994  : 
; 995  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 996  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 997  : 	int		nPointCnt;
; 998  : 	int		nMininumData = 6;	// Bear Triangles    
; 999  : 
; 1000 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1001 : 	
; 1002 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1003 : 
; 1004 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1005 : 	{
; 1006 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1007 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1008 : 
; 1009 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1010 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1011 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1012 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1013 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1014 : 
; 1015 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1016 : 		{
; 1017 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1018 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1019 : 			
; 1020 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1021 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1022 : 			
; 1023 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1024 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1025 : 
; 1026 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1027 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1028 : 
; 1029 : 			if ( dGradient2 < -0.3 && fabs(dGradient3) < 0.3 )
; 1030 : 			{
; 1031 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1032 : 				{
; 1033 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1034 : 					double dYDrawPt1_1;
; 1035 : 					double dYDrawPt2_1;
; 1036 : 					double dXCrossPt1, dYCrossPt1;
; 1037 : 					double dXNeckPt1, dYNeckPt1;
; 1038 : 					double dXNeckPt2, dYNeckPt2;
; 1039 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1040 : 
; 1041 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1042 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1043 : 
; 1044 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1045 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1046 : 
; 1047 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1048 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1049 : 
; 1050 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1051 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1052 : 
; 1053 : 					// First Draw Data
; 1054 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1055 : 
; 1056 : 					// Second Draw Data
; 1057 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1058 : 
; 1059 : 					if ( (dGradA - dGradB) != 0)
; 1060 : 					{
; 1061 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1062 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1063 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1064 : 					}
; 1065 : 
; 1066 : 					// First Neck Data
; 1067 : 					if ( (dGradA_H - dGradA) != 0)
; 1068 : 					{
; 1069 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1070 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1071 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1072 : 					}
; 1073 : 					// Second Neck Data
; 1074 : 					if ( (dGradB_H - dGradB) != 0)
; 1075 : 					{
; 1076 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1077 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1078 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1079 : 					}
; 1080 : 
; 1081 : 					// Neck Base Data1
; 1082 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1083 : 					// Neck Base Data2
; 1084 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1085 : 
; 1086 : 
; 1087 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1088 : 											PTN_BEAR_TRIANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1089 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1090 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1091 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1092 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1093 : 
; 1094 : 
; 1095 : 				}
; 1096 : 			}
; 1097 : 		}
; 1098 : 	}
; 1099 : 
; 1100 : 	return TRUE;
; 1101 : }
; 1102 : 
; 1103 : 
; 1104 : // **********************************************
; 1105 : // Bullish Wide Triangles		()
; 1106 : // **********************************************
; 1107 : BOOL CWavePattern::Find_Bullish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1108 : {
; 1109 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1110 : 
; 1111 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1112 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1113 : 	int		nPointCnt;
; 1114 : 	int		nMininumData = 7;	// Bullish Wide Triangles    
; 1115 : 
; 1116 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1117 : 	
; 1118 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1119 : 
; 1120 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1121 : 	{
; 1122 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1123 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1124 : 
; 1125 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1126 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1127 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1128 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1129 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1130 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1131 : 
; 1132 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))
; 1133 : 		{
; 1134 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1135 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1136 : 			
; 1137 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1138 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1139 : 
; 1140 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1141 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 1142 : 			
; 1143 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1144 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1145 : 
; 1146 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1147 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1148 : 
; 1149 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1150 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1151 : 
; 1152 : 			if ( dGradient4 > 0.3 && dGradient5 > 0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1153 : 			{
; 1154 : 				if ( dGradient2 < -0.3 && (fabs(dGradient6)-fabs(dGradient2) < 0.3) )
; 1155 : 				{
; 1156 : 					if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)
; 1157 : 					{
; 1158 : 						double dGradA, dGradB, dGradB_H;
; 1159 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1160 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1161 : 						double dXNeckPt1, dYNeckPt1;
; 1162 : 						double dXNeckPt2, dYNeckPt2;
; 1163 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1164 : 
; 1165 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1166 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 1167 : 
; 1168 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1169 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1170 : 
; 1171 : 						dGradB_H = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 1172 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 1173 : 
; 1174 : 						// First Draw Data
; 1175 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1176 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1177 : 
; 1178 : 						// Second Draw Data
; 1179 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1180 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1181 : 
; 1182 : 						// First Neck Data
; 1183 : 						if ( (dGradB_H - dGradB) != 0)
; 1184 : 						{
; 1185 : 							dXNeckPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 
; 1186 : 											dGradB_H*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1187 : 							dYNeckPt1 = dGradB_H*(dXNeckPt1-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;
; 1188 : 						}
; 1189 : 						// Senond Neck Data
; 1190 : 						dXNeckPt2 = dXNeckPt1;
; 1191 : 						dYNeckPt2 = dYNeckPt1;
; 1192 : 
; 1193 : 						// Neck Base Data1
; 1194 : 						dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1195 : 						// Neck Base Data2
; 1196 : 						dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1197 : 
; 1198 : 
; 1199 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1200 : 												PTN_BULLISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1201 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1202 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1203 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1204 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1205 : 
; 1206 : 					}
; 1207 : 				}
; 1208 : 			}
; 1209 : 		}
; 1210 : 	}
; 1211 : 
; 1212 : 	return TRUE;
; 1213 : }
; 1214 : 
; 1215 : // **********************************************
; 1216 : // Bearish Wide Triangles		()
; 1217 : // **********************************************
; 1218 : BOOL CWavePattern::Find_Bearish_WideTriangles( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1219 : {
; 1220 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1221 : 
; 1222 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 1223 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 1224 : 	int		nPointCnt;
; 1225 : 	int		nMininumData = 7;	// Bearish Wide Triangles    
; 1226 : 
; 1227 : 	double	dGradient1, dGradient2, dGradient3, dGradient4, dGradient5, dGradient6;		// 
; 1228 : 	
; 1229 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1230 : 
; 1231 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1232 : 	{
; 1233 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1234 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1235 : 
; 1236 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1237 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1238 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1239 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1240 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1241 : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;
; 1242 : 
; 1243 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData5->m_dHigh < pHighLowPtData7->m_dHigh))
; 1244 : 		{
; 1245 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1246 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1247 : 			
; 1248 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1249 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1250 : 
; 1251 : 			dGradient3 = GetModifyGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1252 : 											pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 5-7
; 1253 : 			
; 1254 : 			dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1255 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1256 : 
; 1257 : 			dGradient5 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1258 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1259 : 
; 1260 : 			dGradient6 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1261 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1262 : 
; 1263 : 			if ( dGradient4 < -0.3 && dGradient5 < -0.3 && (fabs(dGradient4-dGradient5) < 0.3) )
; 1264 : 			{
; 1265 : 				if ( dGradient2 > 0.3 && (fabs(dGradient2)-fabs(dGradient6) < 0.3) )
; 1266 : 				{
; 1267 : 					if ( dGradient1 < dGradient2 && dGradient2 < dGradient3)
; 1268 : 					{
; 1269 : 						double dGradA, dGradB, dGradA_L;
; 1270 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1271 : 						double dYDrawPt2_1, dYDrawPt2_2; 
; 1272 : 						double dXNeckPt1, dYNeckPt1;
; 1273 : 						double dXNeckPt2, dYNeckPt2;
; 1274 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1275 : 
; 1276 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1277 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1278 : 						
; 1279 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1280 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 2-6
; 1281 : 
; 1282 : 						dGradA_L = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 1283 : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 1284 : 
; 1285 : 						// First Draw Data
; 1286 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1287 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1288 : 
; 1289 : 						// Second Draw Data
; 1290 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1291 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1292 : 
; 1293 : 						// First Neck Data
; 1294 : 						if ( (dGradA - dGradA_L) != 0)
; 1295 : 						{
; 1296 : 							dXNeckPt1 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1297 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradA_L*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1298 : 							dYNeckPt1 = dGradA*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1299 : 						}
; 1300 : 						// Senond Neck Data
; 1301 : 						dXNeckPt2 = dXNeckPt1;
; 1302 : 						dYNeckPt2 = dYNeckPt1;
; 1303 : 
; 1304 : 						// Neck Base Data1
; 1305 : 						dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1306 : 						// Neck Base Data2
; 1307 : 						dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1308 : 
; 1309 : 
; 1310 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1311 : 												PTN_BEARISH_WIDETRIANGLE,		pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 1312 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 1313 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt2_2,
; 1314 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1315 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1316 : 
; 1317 : 					}
; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 
; 1323 : 	return TRUE;
; 1324 : }
; 1325 : 
; 1326 : 
; 1327 : // **********************************************
; 1328 : // Bull Wedge					()
; 1329 : // **********************************************
; 1330 : BOOL CWavePattern::Find_Bull_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1331 : {
; 1332 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1333 : 
; 1334 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1335 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1336 : 	int		nPointCnt;
; 1337 : 	int		nMininumData = 6;	// Bull Wedge    
; 1338 : 
; 1339 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1340 : 	
; 1341 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1342 : 
; 1343 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1344 : 	{
; 1345 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1346 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1347 : 
; 1348 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1349 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1350 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1351 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1352 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1353 : 
; 1354 : 		//if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1355 : 		{
; 1356 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1357 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1358 : 			
; 1359 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1360 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1361 : 			
; 1362 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1363 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1364 : 
; 1365 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1366 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1367 : 
; 1368 : 			if ( dGradient1 > 0.3 && dGradient2 < dGradient3 && (fabs(dGradient3-dGradient2) > 0.3))
; 1369 : 			{
; 1370 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1371 : 				{
; 1372 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 1373 : 					double dYDrawPt1_1;
; 1374 : 					double dYDrawPt2_1;
; 1375 : 					double dXCrossPt1, dYCrossPt1;
; 1376 : 					double dXNeckPt1, dYNeckPt1;
; 1377 : 					double dXNeckPt2, dYNeckPt2;
; 1378 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1379 : 
; 1380 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1381 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1382 : 
; 1383 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1384 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1385 : 
; 1386 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1387 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 1388 : 
; 1389 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1390 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1391 : 
; 1392 : 					// Compare Dimension of Gradient
; 1393 : 					if ( dGradA > dGradB)	continue;
; 1394 : 
; 1395 : 
; 1396 : 					// First Draw Data
; 1397 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1398 : 
; 1399 : 					// Second Draw Data
; 1400 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1401 : 
; 1402 : 					if ( (dGradA - dGradB) != 0)
; 1403 : 					{
; 1404 : 						dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1405 : 										dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1406 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1407 : 					}
; 1408 : 
; 1409 : 					// First Neck Data
; 1410 : 					if ( (dGradA_H - dGradA) != 0)
; 1411 : 					{
; 1412 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 1413 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 1414 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 1415 : 					}
; 1416 : 					// Second Neck Data
; 1417 : 					if ( (dGradB_H - dGradB) != 0)
; 1418 : 					{
; 1419 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1420 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1421 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1422 : 					}
; 1423 : 
; 1424 : 					// Neck Base Data1
; 1425 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1426 : 					// Neck Base Data2
; 1427 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1428 : 
; 1429 : 
; 1430 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1431 : 											PTN_BULL_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1432 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1433 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1434 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1435 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1436 : 
; 1437 : 				}
; 1438 : 			}
; 1439 : 		}
; 1440 : 	}
; 1441 : 
; 1442 : 	return TRUE;
; 1443 : }
; 1444 : 
; 1445 : // **********************************************
; 1446 : // Bear Wedge					()
; 1447 : // **********************************************
; 1448 : BOOL CWavePattern::Find_Bear_Wedge( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1449 : {
; 1450 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1451 : 
; 1452 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1453 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1454 : 	int		nPointCnt;
; 1455 : 	int		nMininumData = 6;	// Bear Wedge    
; 1456 : 
; 1457 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1458 : 	
; 1459 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1460 : 
; 1461 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1462 : 	{
; 1463 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1464 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1465 : 
; 1466 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1467 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1468 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1469 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1470 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1471 : 
; 1472 : 		//if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1473 : 		{
; 1474 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1475 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1476 : 			
; 1477 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1478 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1479 : 			
; 1480 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1481 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1482 : 
; 1483 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1484 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1485 : 
; 1486 : 			if ( dGradient1 < -0.3 && dGradient2 > dGradient3 && (fabs(dGradient2-dGradient3) > 0.3))
; 1487 : 			{
; 1488 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1489 : 				{
; 1490 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 1491 : 					double dYDrawPt1_1;
; 1492 : 					double dYDrawPt2_1;
; 1493 : 					double dXCrossPt1, dYCrossPt1;
; 1494 : 					double dXNeckPt1, dYNeckPt1;
; 1495 : 					double dXNeckPt2, dYNeckPt2;
; 1496 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 1497 : 
; 1498 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1499 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1500 : 					
; 1501 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1502 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1503 : 
; 1504 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1505 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1506 : 
; 1507 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1508 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 1509 : 
; 1510 : 					// Compare Dimension of Gradient
; 1511 : 					if ( dGradA > dGradB)	continue;
; 1512 : 
; 1513 : 
; 1514 : 					// First Draw Data
; 1515 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1516 : 
; 1517 : 					// Second Draw Data
; 1518 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1519 : 
; 1520 : 					if ( (dGradA - dGradB) != 0)
; 1521 : 					{
; 1522 : 						dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1523 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1524 : 						dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1525 : 					}
; 1526 : 
; 1527 : 					// First Neck Data
; 1528 : 					if ( (dGradB - dGradB_L) != 0)
; 1529 : 					{
; 1530 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 1531 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 1532 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1533 : 					}
; 1534 : 					// Second Neck Data
; 1535 : 					if ( (dGradA - dGradA_L) != 0)
; 1536 : 					{
; 1537 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1538 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1539 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1540 : 					}
; 1541 : 
; 1542 : 					// Neck Base Data1
; 1543 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1544 : 					// Neck Base Data2
; 1545 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1546 : 
; 1547 : 
; 1548 : 					AddNewWavePatternData(	pObjWavePatternData,
; 1549 : 											PTN_BEAR_WEDGE,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1550 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1551 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1552 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1553 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1554 : 
; 1555 : 				}
; 1556 : 			}
; 1557 : 		}
; 1558 : 	}
; 1559 : 
; 1560 : 	return TRUE;
; 1561 : }
; 1562 : 
; 1563 : 
; 1564 : // **********************************************
; 1565 : // Bull Square Flag				()
; 1566 : // **********************************************
; 1567 : BOOL CWavePattern::Find_Bull_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1568 : {
; 1569 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1570 : 
; 1571 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1572 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1573 : 	int		nPointCnt;
; 1574 : 	int		nMininumData = 6;	// Bull Square Flag    
; 1575 : 
; 1576 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1577 : 	
; 1578 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1579 : 
; 1580 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1581 : 	{
; 1582 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1583 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1584 : 
; 1585 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1586 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1587 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1588 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1589 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1590 : 
; 1591 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1592 : 		{
; 1593 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1594 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1595 : 			
; 1596 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1597 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1598 : 			
; 1599 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1600 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1601 : 
; 1602 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1603 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1604 : 
; 1605 : 			if ( dGradient3 <= 0 && dGradient2 <= 0 && (fabs(dGradient3-dGradient2) <= 0.3))
; 1606 : 			{
; 1607 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1608 : 				{
; 1609 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1610 : 					{
; 1611 : 						double dGradA, dGradB, dGradA_L;
; 1612 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1613 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1614 : 						double dXNeckPt1, dYNeckPt1;
; 1615 : 						double dXNeckPt2, dYNeckPt2;
; 1616 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1617 : 
; 1618 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1619 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1620 : 
; 1621 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1622 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1623 : 
; 1624 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1625 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1626 : 
; 1627 : 						// First Draw Data
; 1628 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1629 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1630 : 
; 1631 : 						// Second Draw Data
; 1632 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1633 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1634 : 
; 1635 : 						// First Neck Data
; 1636 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1637 : 						dYNeckPt1 = pHighLowPtData2->m_dHigh;
; 1638 : 						// Second Neck Data
; 1639 : 						if ( (dGradA - dGradA_L) != 0)
; 1640 : 						{
; 1641 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1642 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1643 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1644 : 						}
; 1645 : 
; 1646 : 						// Neck Base Data1
; 1647 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dHigh;
; 1648 : 						// Neck Base Data2
; 1649 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dLow;
; 1650 : 
; 1651 : 
; 1652 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1653 : 												PTN_BULL_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1654 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1655 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1656 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1657 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1658 : 
; 1659 : 					}
; 1660 : 				}
; 1661 : 			}
; 1662 : 		}
; 1663 : 	}
; 1664 : 
; 1665 : 	return TRUE;
; 1666 : }
; 1667 : 
; 1668 : 
; 1669 : // **********************************************
; 1670 : // Bear Square Flag				()
; 1671 : // **********************************************
; 1672 : BOOL CWavePattern::Find_Bear_SquareFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1673 : {
; 1674 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1675 : 
; 1676 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1677 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1678 : 	int		nPointCnt;
; 1679 : 	int		nMininumData = 6;	// Bear Square Flag    
; 1680 : 
; 1681 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1682 : 	
; 1683 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1684 : 
; 1685 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1686 : 	{
; 1687 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1688 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1689 : 
; 1690 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1691 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1692 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1693 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1694 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1695 : 
; 1696 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1697 : 		{
; 1698 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1699 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1700 : 			
; 1701 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1702 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1703 : 			
; 1704 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1705 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1706 : 
; 1707 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1708 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1709 : 
; 1710 : 			if ( dGradient2 >= 0 && dGradient3 >= 0 && (fabs(dGradient2-dGradient3) <= 0.3))
; 1711 : 			{
; 1712 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1713 : 				{
; 1714 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1715 : 					{
; 1716 : 						double dGradA, dGradB, dGradB_H;
; 1717 : 						double dYDrawPt1_1, dYDrawPt1_2;
; 1718 : 						double dYDrawPt2_1, dYDrawPt2_2;
; 1719 : 						double dXNeckPt1, dYNeckPt1;
; 1720 : 						double dXNeckPt2, dYNeckPt2;
; 1721 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1722 : 
; 1723 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1724 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1725 : 
; 1726 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1727 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1728 : 
; 1729 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1730 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1731 : 
; 1732 : 						// First Draw Data
; 1733 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1734 : 						dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1735 : 
; 1736 : 						// Second Draw Data
; 1737 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1738 : 						dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1739 : 
; 1740 : 						// First Neck Data
; 1741 : 						dXNeckPt1 = pHighLowPtData2->m_nDataSeq;
; 1742 : 						dYNeckPt1 = pHighLowPtData2->m_dLow;
; 1743 : 						// Second Neck Data
; 1744 : 						if ( (dGradB_H - dGradB) != 0)
; 1745 : 						{
; 1746 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1747 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1748 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1749 : 						}
; 1750 : 
; 1751 : 						// Neck Base Data1
; 1752 : 						dNeckBaseYPt1 = pHighLowPtData2->m_dLow;
; 1753 : 						// Neck Base Data2
; 1754 : 						dNeckBaseYPt2 = pHighLowPtData1->m_dHigh;
; 1755 : 
; 1756 : 
; 1757 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1758 : 												PTN_BEAR_SQUAREFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1759 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 1760 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 1761 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1762 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1763 : 
; 1764 : 					}
; 1765 : 				}
; 1766 : 			}
; 1767 : 		}
; 1768 : 	}
; 1769 : 
; 1770 : 	return TRUE;
; 1771 : }
; 1772 : 
; 1773 : 
; 1774 : // **********************************************
; 1775 : // Bull Triangle Flag			()
; 1776 : // **********************************************
; 1777 : BOOL CWavePattern::Find_Bull_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1778 : {
; 1779 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1780 : 
; 1781 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1782 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1783 : 	int		nPointCnt;
; 1784 : 	int		nMininumData = 6;	// Bull Triangle Flag    
; 1785 : 
; 1786 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1787 : 	
; 1788 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1789 : 
; 1790 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1791 : 	{
; 1792 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1793 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 1794 : 
; 1795 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1796 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1797 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1798 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1799 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1800 : 
; 1801 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 1802 : 		{
; 1803 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 1804 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 1805 : 			
; 1806 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1807 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1808 : 			
; 1809 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1810 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1811 : 
; 1812 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 1813 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 1814 : 
; 1815 : 			if ( dGradient3 < -0.3 && dGradient2 > 0.3 )
; 1816 : 			{
; 1817 : 				if ( (pHighLowPtData2->m_dHigh - pHighLowPtData1->m_dLow) > 2*(pHighLowPtData2->m_dHigh - pHighLowPtData3->m_dLow))
; 1818 : 				{
; 1819 : 					if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 1820 : 					{
; 1821 : 						double dGradA, dGradB, dGradA_L;
; 1822 : 						double dYDrawPt1_1;
; 1823 : 						double dYDrawPt2_1;
; 1824 : 						double dXCrossPt1, dYCrossPt1;
; 1825 : 						double dXNeckPt1, dYNeckPt1;
; 1826 : 						double dXNeckPt2, dYNeckPt2;
; 1827 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1828 : 
; 1829 : 						dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 1830 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 1831 : 
; 1832 : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 1833 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 1834 : 
; 1835 : 						dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 1836 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 1837 : 
; 1838 : 						// First Draw Data
; 1839 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1840 : 
; 1841 : 						// Second Draw Data
; 1842 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 1843 : 
; 1844 : 						if ( (dGradA - dGradB) != 0)
; 1845 : 						{
; 1846 : 							dXCrossPt1 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1847 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 1848 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1849 : 						}
; 1850 : 
; 1851 : 						// First Neck Data
; 1852 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1853 : 						dYNeckPt1 = pHighLowPtData1->m_dLow;
; 1854 : 						// Second Neck Data
; 1855 : 						if ( (dGradA - dGradA_L) != 0)
; 1856 : 						{
; 1857 : 							dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 1858 : 											dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 1859 : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1860 : 						}
; 1861 : 
; 1862 : 						// Neck Base Data1
; 1863 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dLow;
; 1864 : 						// Neck Base Data2
; 1865 : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 1866 : 
; 1867 : 
; 1868 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1869 : 												PTN_BULL_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1870 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1871 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1872 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1873 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1874 : 
; 1875 : 
; 1876 : 					}
; 1877 : 				}
; 1878 : 			}
; 1879 : 		}
; 1880 : 	}
; 1881 : 
; 1882 : 	return TRUE;
; 1883 : }
; 1884 : 
; 1885 : 
; 1886 : // **********************************************
; 1887 : // Bear Triangle Flag			()
; 1888 : // **********************************************
; 1889 : BOOL CWavePattern::Find_Bear_TriangleFlag( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 1890 : {
; 1891 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 1892 : 
; 1893 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 1894 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 1895 : 	int		nPointCnt;
; 1896 : 	int		nMininumData = 6;	// Bear Triangle Flag    
; 1897 : 
; 1898 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 1899 : 	
; 1900 : 	nPointCnt = paryHighLowPtData->GetSize();
; 1901 : 
; 1902 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 1903 : 	{
; 1904 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 1905 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 1906 : 
; 1907 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 1908 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 1909 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 1910 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 1911 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 1912 : 
; 1913 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 1914 : 		{
; 1915 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 1916 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 1917 : 			
; 1918 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1919 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1920 : 			
; 1921 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1922 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1923 : 
; 1924 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 1925 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 1926 : 
; 1927 : 			if ( dGradient2 < -0.3 && dGradient3 > 0.3 )
; 1928 : 			{
; 1929 : 				if ( (pHighLowPtData1->m_dHigh - pHighLowPtData2->m_dLow) > 2*(pHighLowPtData3->m_dHigh - pHighLowPtData2->m_dLow))
; 1930 : 				{
; 1931 : 					if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 1932 : 					{
; 1933 : 						double dGradA, dGradB, dGradB_H;
; 1934 : 						double dYDrawPt1_1;
; 1935 : 						double dYDrawPt2_1;
; 1936 : 						double dXCrossPt1, dYCrossPt1;
; 1937 : 						double dXNeckPt1, dYNeckPt1;
; 1938 : 						double dXNeckPt2, dYNeckPt2;
; 1939 : 						double dNeckBaseYPt1, dNeckBaseYPt2;
; 1940 : 
; 1941 : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 1942 : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 1943 : 
; 1944 : 						dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 1945 : 												pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 1946 : 
; 1947 : 						dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 1948 : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 1949 : 
; 1950 : 						// First Draw Data
; 1951 : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1952 : 
; 1953 : 						// Second Draw Data
; 1954 : 						dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1955 : 
; 1956 : 						if ( (dGradA - dGradB) != 0)
; 1957 : 						{
; 1958 : 							dXCrossPt1 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData3->m_dHigh) + 
; 1959 : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradA-dGradB);
; 1960 : 							dYCrossPt1 = dGradA*(dXCrossPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 1961 : 						}
; 1962 : 
; 1963 : 						// First Neck Data
; 1964 : 						dXNeckPt1 = pHighLowPtData1->m_nDataSeq;
; 1965 : 						dYNeckPt1 = pHighLowPtData1->m_dHigh;
; 1966 : 						// Second Neck Data
; 1967 : 						if ( (dGradB_H - dGradB) != 0)
; 1968 : 						{
; 1969 : 							dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 1970 : 											dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 1971 : 							dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 1972 : 						}
; 1973 : 
; 1974 : 						// Neck Base Data1
; 1975 : 						dNeckBaseYPt1 = pHighLowPtData1->m_dHigh;
; 1976 : 						// Neck Base Data2
; 1977 : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 1978 : 
; 1979 : 
; 1980 : 						AddNewWavePatternData(	pObjWavePatternData,
; 1981 : 												PTN_BEAR_TRIANGLEFLAG,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 1982 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					dXCrossPt1,						dYCrossPt1,
; 1983 : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					dXCrossPt1,						dYCrossPt1,
; 1984 : 												dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 1985 : 												dNeckBaseYPt1,					dNeckBaseYPt2	);
; 1986 : 
; 1987 : 					}
; 1988 : 				}
; 1989 : 			}
; 1990 : 		}
; 1991 : 	}
; 1992 : 
; 1993 : 	return TRUE;
; 1994 : }
; 1995 : 
; 1996 : 
; 1997 : // **********************************************
; 1998 : // Bull Rectangle				()
; 1999 : // **********************************************
; 2000 : BOOL CWavePattern::Find_Bull_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2001 : {
; 2002 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2003 : 
; 2004 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2005 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2006 : 	int		nPointCnt;
; 2007 : 	int		nMininumData = 6;	// Bull Rectangle    
; 2008 : 
; 2009 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2010 : 	
; 2011 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2012 : 
; 2013 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2014 : 	{
; 2015 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2016 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2017 : 
; 2018 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2019 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2020 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2021 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2022 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2023 : 
; 2024 : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData4->m_dHigh < pHighLowPtData6->m_dHigh))
; 2025 : 		{
; 2026 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2027 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 2028 : 			
; 2029 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2030 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2031 : 			
; 2032 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2033 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2034 : 
; 2035 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh, 
; 2036 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 4-6
; 2037 : 
; 2038 : 			if ( fabs(dGradient3) <= 0.3 && fabs(dGradient2) <= 0.3 && (fabs(fabs(dGradient3)-fabs(dGradient2)) <= 0.3) )
; 2039 : 			{
; 2040 : 				if ( dGradient1 > dGradient2 && dGradient3 < dGradient4)
; 2041 : 				{
; 2042 : 					double dGradA, dGradB, dGradA_L, dGradB_L;
; 2043 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2044 : 					double dYDrawPt2_1, dYDrawPt2_2;
; 2045 : 					double dXNeckPt1, dYNeckPt1;
; 2046 : 					double dXNeckPt2, dYNeckPt2;
; 2047 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2048 : 
; 2049 : 					dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2050 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2051 : 
; 2052 : 					dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2053 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 2054 : 
; 2055 : 					// First Draw Data
; 2056 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2057 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2058 : 
; 2059 : 					// Second Draw Data
; 2060 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2061 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2062 : 
; 2063 : 					dGradA_L = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 
; 2064 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 5-6
; 2065 : 
; 2066 : 					dGradB_L = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 
; 2067 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh);	// 1-2
; 2068 : 
; 2069 : 					// First Neck Data
; 2070 : 					if ( (dGradB - dGradB_L) != 0)
; 2071 : 					{
; 2072 : 						dXNeckPt1 = ( ( pHighLowPtData1->m_dLow - pHighLowPtData3->m_dLow) + 
; 2073 : 										dGradB*pHighLowPtData3->m_nDataSeq - dGradB_L*pHighLowPtData1->m_nDataSeq ) / ( dGradB-dGradB_L);
; 2074 : 						dYNeckPt1 = dGradB*(dXNeckPt1-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2075 : 					}
; 2076 : 					// Second Neck Data
; 2077 : 					if ( (dGradA - dGradA_L) != 0)
; 2078 : 					{
; 2079 : 						dXNeckPt2 = ( ( pHighLowPtData5->m_dLow - pHighLowPtData2->m_dHigh) + 
; 2080 : 										dGradA*pHighLowPtData2->m_nDataSeq - dGradA_L*pHighLowPtData5->m_nDataSeq ) / ( dGradA-dGradA_L);
; 2081 : 						dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2082 : 					}
; 2083 : 
; 2084 : 					// Neck Base Data1
; 2085 : 					dNeckBaseYPt1 = dGradB * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 2086 : 					// Neck Base Data2
; 2087 : 					dNeckBaseYPt2 = dGradA * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2088 : 
; 2089 : 
; 2090 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2091 : 											PTN_BULL_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2092 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2093 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2094 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2095 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2096 : 
; 2097 : 				}
; 2098 : 			}
; 2099 : 		}
; 2100 : 	}
; 2101 : 
; 2102 : 	return TRUE;
; 2103 : }
; 2104 : 
; 2105 : 
; 2106 : // **********************************************
; 2107 : // Bear Rectangle				()
; 2108 : // **********************************************
; 2109 : BOOL CWavePattern::Find_Bear_Rectangle( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2110 : {
; 2111 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2112 : 
; 2113 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6;
; 2114 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = NULL;
; 2115 : 	int		nPointCnt;
; 2116 : 	int		nMininumData = 6;	// Bear Rectangle    
; 2117 : 
; 2118 : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 2119 : 	
; 2120 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2121 : 
; 2122 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2123 : 	{
; 2124 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2125 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2126 : 
; 2127 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2128 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2129 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2130 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2131 : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;
; 2132 : 
; 2133 : 		if ( (pHighLowPtData1->m_dHigh > pHighLowPtData3->m_dHigh) && (pHighLowPtData4->m_dLow > pHighLowPtData6->m_dLow))
; 2134 : 		{
; 2135 : 			dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2136 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 1-3
; 2137 : 			
; 2138 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2139 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2140 : 			
; 2141 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2142 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2143 : 
; 2144 : 			dGradient4 = GetModifyGradient( pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow, 
; 2145 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 4-6
; 2146 : 
; 2147 : 			if ( fabs(dGradient2) <= 0.3 && fabs(dGradient3) <= 0.3 && (fabs(fabs(dGradient2)-fabs(dGradient3)) <= 0.3) )
; 2148 : 			{
; 2149 : 				if ( dGradient1 < dGradient2 && dGradient3 > dGradient4)
; 2150 : 				{
; 2151 : 					double dGradA, dGradB, dGradA_H, dGradB_H;
; 2152 : 					double dYDrawPt1_1, dYDrawPt1_2;
; 2153 : 					double dYDrawPt2_1, dYDrawPt2_2; 
; 2154 : 					double dXNeckPt1, dYNeckPt1;
; 2155 : 					double dXNeckPt2, dYNeckPt2;
; 2156 : 					double dNeckBaseYPt1, dNeckBaseYPt2;
; 2157 : 
; 2158 : 					dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2159 : 											pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 2160 : 
; 2161 : 					dGradB = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2162 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2163 : 
; 2164 : 					dGradA_H = GetGradient(	pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dHigh, 
; 2165 : 											pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow);	// 1-2
; 2166 : 
; 2167 : 					dGradB_H = GetGradient(	pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh, 
; 2168 : 											pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow);	// 5-6
; 2169 : 
; 2170 : 					// First Draw Data
; 2171 : 					dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2172 : 					dYDrawPt1_2 = dGradA * (pHighLowPtData6->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2173 : 
; 2174 : 					// Second Draw Data
; 2175 : 					dYDrawPt2_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2176 : 					dYDrawPt2_2 = dGradB * (pHighLowPtData6->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2177 : 
; 2178 : 					// First Neck Data
; 2179 : 					if ( (dGradA_H - dGradA) != 0)
; 2180 : 					{
; 2181 : 						dXNeckPt1 = ( ( pHighLowPtData3->m_dHigh - pHighLowPtData1->m_dHigh) + 
; 2182 : 										dGradA_H*pHighLowPtData1->m_nDataSeq - dGradA*pHighLowPtData3->m_nDataSeq ) / ( dGradA_H-dGradA);
; 2183 : 						dYNeckPt1 = dGradA_H*(dXNeckPt1-pHighLowPtData1->m_nDataSeq) + pHighLowPtData1->m_dHigh;
; 2184 : 					}
; 2185 : 					// Second Neck Data
; 2186 : 					if ( (dGradB_H - dGradB) != 0)
; 2187 : 					{
; 2188 : 						dXNeckPt2 = ( ( pHighLowPtData2->m_dLow - pHighLowPtData5->m_dHigh) + 
; 2189 : 										dGradB_H*pHighLowPtData5->m_nDataSeq - dGradB*pHighLowPtData2->m_nDataSeq ) / ( dGradB_H-dGradB);
; 2190 : 						dYNeckPt2 = dGradB_H*(dXNeckPt2-pHighLowPtData5->m_nDataSeq) + pHighLowPtData5->m_dHigh;
; 2191 : 					}
; 2192 : 
; 2193 : 					// Neck Base Data1
; 2194 : 					dNeckBaseYPt1 = dGradA * (dXNeckPt1 - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 2195 : 					// Neck Base Data2
; 2196 : 					dNeckBaseYPt2 = dGradB * (dXNeckPt1 - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2197 : 
; 2198 : 
; 2199 : 					AddNewWavePatternData(	pObjWavePatternData,
; 2200 : 											PTN_BEAR_RECTANGLE,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData6->m_nDataSeq,		
; 2201 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt1_2,
; 2202 : 											pHighLowPtData1->m_nDataSeq,	dYDrawPt2_1,					pHighLowPtData6->m_nDataSeq,	dYDrawPt2_2,
; 2203 : 											dXNeckPt1,						dYNeckPt1,						dXNeckPt2,						dYNeckPt2,
; 2204 : 											dNeckBaseYPt1,					dNeckBaseYPt2	);
; 2205 : 
; 2206 : 
; 2207 : 				}
; 2208 : 			}
; 2209 : 		}
; 2210 : 	}
; 2211 : 
; 2212 : 	return TRUE;
; 2213 : }
; 2214 : 
; 2215 : 
; 2216 : // **********************************************
; 2217 : // V Top
; 2218 : // **********************************************
; 2219 : BOOL CWavePattern::Find_V_Top( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2220 : {
; 2221 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2222 : 
; 2223 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2224 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2225 : 	int		nPointCnt;
; 2226 : 	int		nMininumData = 5;	// V Top    
; 2227 : 
; 2228 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2229 : 	
; 2230 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2231 : 
; 2232 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2233 : 	{
; 2234 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2235 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_HIGHTOLOW) continue;
; 2236 : 
; 2237 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2238 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2239 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2240 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2241 : 
; 2242 : 		if ( (pHighLowPtData1->m_dHigh < pHighLowPtData3->m_dHigh) && (pHighLowPtData3->m_dHigh > pHighLowPtData5->m_dHigh))
; 2243 : 		{
; 2244 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2245 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh);	// 2-3
; 2246 : 			
; 2247 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 2248 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 3-4
; 2249 : 			
; 2250 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2251 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2252 : 
; 2253 : 			if ( dGradient1 >= 0.6 && dGradient2 <= -0.6 && fabs(dGradient3) <= 0.1 )
; 2254 : 			{
; 2255 : 				double dGradA;
; 2256 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2257 : 
; 2258 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dLow, 
; 2259 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dLow);	// 2-4
; 2260 : 
; 2261 : 				// First Draw Data
; 2262 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2263 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dLow;
; 2264 : 
; 2265 : 
; 2266 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2267 : 										PTN_V_TOP,						pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2268 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2269 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2270 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2271 : 										ZERO,							ZERO	);
; 2272 : 
; 2273 : 			}
; 2274 : 		}
; 2275 : 	}
; 2276 : 
; 2277 : 	return TRUE;
; 2278 : }
; 2279 : 
; 2280 : 
; 2281 : // **********************************************
; 2282 : // V Bottom
; 2283 : // **********************************************
; 2284 : BOOL CWavePattern::Find_V_Bottom( CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2285 : {
; 2286 : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 2287 : 
; 2288 : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5;
; 2289 : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = NULL;
; 2290 : 	int		nPointCnt;
; 2291 : 	int		nMininumData = 5;	// V Bottom    
; 2292 : 
; 2293 : 	double	dGradient1, dGradient2, dGradient3;		// 
; 2294 : 	
; 2295 : 	nPointCnt = paryHighLowPtData->GetSize();
; 2296 : 
; 2297 : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)
; 2298 : 	{
; 2299 : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;
; 2300 : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;
; 2301 : 
; 2302 : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;
; 2303 : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;
; 2304 : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;
; 2305 : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;
; 2306 : 
; 2307 : 		if ( (pHighLowPtData1->m_dLow > pHighLowPtData3->m_dLow) && (pHighLowPtData3->m_dLow < pHighLowPtData5->m_dLow))
; 2308 : 		{
; 2309 : 			dGradient1 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2310 : 											pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 2-3
; 2311 : 			
; 2312 : 			dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 2313 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 3-4
; 2314 : 			
; 2315 : 			dGradient3 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2316 : 											pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2317 : 
; 2318 : 			if ( dGradient1 <= -0.6 && dGradient2 >= 0.6 && fabs(dGradient3) <= 0.1 )
; 2319 : 			{
; 2320 : 				double dGradA;
; 2321 : 				double dYDrawPt1_1, dYDrawPt1_2;
; 2322 : 
; 2323 : 				dGradA = GetGradient(	pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 
; 2324 : 										pHighLowPtData4->m_nDataSeq, pHighLowPtData4->m_dHigh);	// 2-4
; 2325 : 
; 2326 : 				// First Draw Data
; 2327 : 				dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2328 : 				dYDrawPt1_2 = dGradA * (pHighLowPtData5->m_nDataSeq - pHighLowPtData2->m_nDataSeq) + pHighLowPtData2->m_dHigh;
; 2329 : 
; 2330 : 
; 2331 : 				AddNewWavePatternData(	pObjWavePatternData,
; 2332 : 										PTN_V_BOTTOM,					pHighLowPtData1->m_nDataSeq,	pHighLowPtData5->m_nDataSeq,		
; 2333 : 										pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData5->m_nDataSeq,	dYDrawPt1_2,
; 2334 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2335 : 										ZERO,							ZERO,							ZERO,							ZERO,
; 2336 : 										ZERO,							ZERO	);
; 2337 : 
; 2338 : 			}
; 2339 : 		}
; 2340 : 	}
; 2341 : 
; 2342 : 	return TRUE;
; 2343 : }
; 2344 : 
; 2345 : // **********************************************
; 2346 : // Add Wave Pattern Data
; 2347 : // **********************************************
; 2348 : void CWavePattern::AddNewWavePatternData(	CObject* pObjWavePatternData,
; 2349 : 											int nPatternType,		int nStartSeq,			int nEndSeq,		
; 2350 : 											double dDrawSeq1_1,		double dDrawYPt1_1,		double dDrawSeq1_2,		double dDrawYPt1_2,	
; 2351 : 											double dDrawSeq2_1,		double dDrawYPt2_1,		double dDrawSeq2_2,		double dDrawYPt2_2,
; 2352 : 											double dNeckSeq1,		double dNeckYPt1,		double dNeckSeq2,		double dNeckYPt2,
; 2353 : 											double dNeckBaseYPt1,	double dNeckBaseYPt2	)
; 2354 : {
; 2355 : 	CArrayObjPt(CWavePatternData) paryWavePatternData = (CArrayObjPt(CWavePatternData))pObjWavePatternData;
; 2356 : 
; 2357 : 	CWavePatternData *pWavePatternData = NULL;
; 2358 : 	pWavePatternData = new CWavePatternData;
; 2359 : 	
; 2360 : 	pWavePatternData->m_nPatternType	=	nPatternType;		// Pattern Type
; 2361 : 	pWavePatternData->m_nStartSeq		=	nStartSeq;			// Start Sequence of a Pattern
; 2362 : 	pWavePatternData->m_nEndSeq			=	nEndSeq;			// End Sequence of a Pattern
; 2363 : 	
; 2364 : 	pWavePatternData->m_dDrawSeq1_1		=	dDrawSeq1_1;		// First Draw Data
; 2365 : 	pWavePatternData->m_dDrawYPt1_1		=	dDrawYPt1_1;
; 2366 : 	pWavePatternData->m_dDrawSeq1_2		=	dDrawSeq1_2;
; 2367 : 	pWavePatternData->m_dDrawYPt1_2		=	dDrawYPt1_2;
; 2368 : 	
; 2369 : 	pWavePatternData->m_dDrawSeq2_1		=	dDrawSeq2_1;		// Second Draw Data
; 2370 : 	pWavePatternData->m_dDrawYPt2_1		=	dDrawYPt2_1;
; 2371 : 	pWavePatternData->m_dDrawSeq2_2		=	dDrawSeq2_2;
; 2372 : 	pWavePatternData->m_dDrawYPt2_2		=	dDrawYPt2_2;
; 2373 : 	
; 2374 : 	pWavePatternData->m_dNeckSeq1		=	dNeckSeq1;			// First Neck Data
; 2375 : 	pWavePatternData->m_dNeckYPt1		=	dNeckYPt1;
; 2376 : 	pWavePatternData->m_dNeckSeq2		=	dNeckSeq2;			// Second Neck Data
; 2377 : 	pWavePatternData->m_dNeckYPt2		=	dNeckYPt2;
; 2378 : 	
; 2379 : 	pWavePatternData->m_dNeckBaseYPt1	=	dNeckBaseYPt1;
; 2380 : 	pWavePatternData->m_dNeckBaseYPt2	=	dNeckBaseYPt2;
; 2381 : 	
; 2382 : 	paryWavePatternData->Add(pWavePatternData);
; 2383 : }
; 2384 : 
; 2385 : // **********************************************
; 2386 : // Find All Wave Pattern
; 2387 : // **********************************************
; 2388 : void CWavePattern::Find_All_WavePattern(		CObject *pObjHighLowPtData, CObject *pObjWavePatternData)
; 2389 : {
; 2390 : 	// ## 1-1	Header & Shoulder
; 2391 : 	Find_HeaderNShoulders(		pObjHighLowPtData, pObjWavePatternData);
; 2392 : 	// ## 1-2	Reversal Header & Shoulder
; 2393 : 	Find_R_HeaderNShoulders(	pObjHighLowPtData, pObjWavePatternData);
; 2394 : 
; 2395 : 	// ## 2-1	DoubleTop					()
; 2396 : 	Find_DoubleTop(				pObjHighLowPtData, pObjWavePatternData);
; 2397 : 	// ## 2-2	Reversal DoubleTop			()
; 2398 : 	Find_R_DoubleTop(			pObjHighLowPtData, pObjWavePatternData);
; 2399 : 
; 2400 : 	// ## 3-1	Bull Isosceles Triangles	()
; 2401 : 	Find_Bull_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2402 : 	// ## 3-2	Bear Isosceles Triangles	()
; 2403 : 	Find_Bear_IsoTriangles(		pObjHighLowPtData, pObjWavePatternData);
; 2404 : 
; 2405 : 	// ## 4-1	Bull Triangles				()
; 2406 : 	Find_Bull_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2407 : 	// ## 4-2	Bear Triangles				()
; 2408 : 	Find_Bear_Triangles(		pObjHighLowPtData, pObjWavePatternData);
; 2409 : 
; 2410 : 	// ## 5-1	Bullish Wide Triangles		()
; 2411 : 	Find_Bullish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2412 : 	// ## 5-2	Bearish Wide Triangles		()
; 2413 : 	Find_Bearish_WideTriangles( pObjHighLowPtData, pObjWavePatternData);
; 2414 : 
; 2415 : 	// ## 6-1	Bull Wedge					()
; 2416 : 	Find_Bull_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2417 : 	// ## 6-2	Bear Wedge					()
; 2418 : 	Find_Bear_Wedge(			pObjHighLowPtData, pObjWavePatternData);
; 2419 : 
; 2420 : 	// ## 7-1	Bull Square Flag			()
; 2421 : 	Find_Bull_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2422 : 	// ## 7-2	Bear Square Flag			()
; 2423 : 	Find_Bear_SquareFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2424 : 
; 2425 : 	// ## 8-1	Bull Triangle Flag			()
; 2426 : 	Find_Bull_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2427 : 	// ## 8-2	Bear Triangle Flag			()
; 2428 : 	Find_Bear_TriangleFlag(		pObjHighLowPtData, pObjWavePatternData);
; 2429 : 
; 2430 : 	// ## 9-1	Bull Rectangle				()
; 2431 : 	Find_Bull_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2432 : 	// ## 9-2	Bear Rectangle				()
; 2433 : 	Find_Bear_Rectangle(		pObjHighLowPtData, pObjWavePatternData);
; 2434 : 
; 2435 : 	// ## 10-1	V Top
; 2436 : 	Find_V_Top(					pObjHighLowPtData, pObjWavePatternData);
; 2437 : 	// ## 10-2	V Bottom
; 2438 : 	Find_V_Bottom(				pObjHighLowPtData, pObjWavePatternData);
; 2439 : }
; 2440 : 
; 2441 : 
; 2442 : double CWavePattern::GetGradient(double dXPos1, double dYPos1, double dXPos2, double dYPos2)
; 2443 : {
; 2444 : 	double dGradient=0;
; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00340	f2 0f 10 65 cc	 movsd	 xmm4, QWORD PTR tv1140[ebp]
$LN62@Find_R_Hea:

; 410  : 					{
; 411  : 						double dGradA, dGradB;
; 412  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 413  : 						double dXNeckPt2, dYNeckPt2;
; 414  : 						double dNeckBaseYPt2;
; 415  : 						
; 416  : 						dGradA = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dHigh, 
; 417  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dHigh);	// 3-5
; 418  : 						
; 419  : 						dGradB = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dLow, 
; 420  : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dHigh);	// 6-7
; 421  : 						
; 422  : 						// First Draw Data
; 423  : 						dYDrawPt1_1 = dGradA * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  00345	8b 45 fc	 mov	 eax, DWORD PTR tv1251[ebp]

; 424  : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 425  : 
; 426  : 						// Second Neck Data
; 427  : 						if ( (dGradA - dGradB) != 0)

  00348	0f 28 e9	 movaps	 xmm5, xmm1
  0034b	8b 55 e4	 mov	 edx, DWORD PTR tv1250[ebp]
  0034e	f2 0f 5c ea	 subsd	 xmm5, xmm2
  00352	2b c2		 sub	 eax, edx
  00354	66 0f 6e f8	 movd	 xmm7, eax
  00358	8b c7		 mov	 eax, edi
  0035a	2b c2		 sub	 eax, edx
  0035c	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  00360	66 0f 6e c0	 movd	 xmm0, eax
  00364	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00368	66 0f 2e eb	 ucomisd xmm5, xmm3
  0036c	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00370	f2 0f 59 f9	 mulsd	 xmm7, xmm1
  00374	9f		 lahf
  00375	f2 0f 58 c6	 addsd	 xmm0, xmm6
  00379	f2 0f 58 fe	 addsd	 xmm7, xmm6
  0037d	f2 0f 11 45 cc	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  00382	f6 c4 44	 test	 ah, 68			; 00000044H
  00385	7b 46		 jnp	 SHORT $LN64@Find_R_Hea

; 428  : 						{
; 429  : 							dXNeckPt2 = ( ( pHighLowPtData6->m_dLow - pHighLowPtData3->m_dHigh) + 

  00387	0f 57 c0	 xorps	 xmm0, xmm0
  0038a	f2 0f 5c e6	 subsd	 xmm4, xmm6
  0038e	f2 0f 2a c2	 cvtsi2sd xmm0, edx
  00392	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  00396	f2 0f 58 e0	 addsd	 xmm4, xmm0
  0039a	f2 0f 10 45 f0	 movsd	 xmm0, QWORD PTR tv1200[ebp]
  0039f	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  003a3	0f 57 d2	 xorps	 xmm2, xmm2

; 430  : 											dGradA*pHighLowPtData3->m_nDataSeq - dGradB*pHighLowPtData6->m_nDataSeq ) / ( dGradA-dGradB);
; 431  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003a6	f2 0f 2a d2	 cvtsi2sd xmm2, edx
  003aa	f2 0f 5c e0	 subsd	 xmm4, xmm0
  003ae	f2 0f 5e e5	 divsd	 xmm4, xmm5
  003b2	0f 28 c4	 movaps	 xmm0, xmm4
  003b5	f2 0f 11 65 c4	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm4
  003ba	f2 0f 5c c2	 subsd	 xmm0, xmm2
  003be	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003c2	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003c6	f2 0f 11 45 bc	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm0
  003cb	eb 05		 jmp	 SHORT $LN17@Find_R_Hea
$LN64@Find_R_Hea:

; 424  : 						dYDrawPt1_2 = dGradA * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;
; 425  : 
; 426  : 						// Second Neck Data
; 427  : 						if ( (dGradA - dGradB) != 0)

  003cd	f2 0f 10 65 c4	 movsd	 xmm4, QWORD PTR _dXNeckPt2$2[ebp]
$LN17@Find_R_Hea:

; 432  : 						}
; 433  : 
; 434  : 						// Neck Base Data2
; 435  : 						dNeckBaseYPt2 = dGradA * (pHighLowPtData4->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dHigh;

  003d2	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]

; 436  : 
; 437  : 
; 438  : 						AddNewWavePatternData(	pObjWavePatternData,

  003d5	83 ec 70	 sub	 esp, 112		; 00000070H
  003d8	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  003db	8b c1		 mov	 eax, ecx
  003dd	2b c2		 sub	 eax, edx
  003df	66 0f 6e c0	 movd	 xmm0, eax
  003e3	8b 45 f8	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  003e6	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003ea	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003ee	f2 0f 10 48 28	 movsd	 xmm1, QWORD PTR [eax+40]
  003f3	8b 45 fc	 mov	 eax, DWORD PTR tv1251[ebp]
  003f6	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003fa	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00400	f2 0f 10 45 bc	 movsd	 xmm0, QWORD PTR _dYNeckPt2$1[ebp]
  00405	f2 0f 11 4c 24
	60		 movsd	 QWORD PTR [esp+96], xmm1
  0040b	f2 0f 11 44 24
	58		 movsd	 QWORD PTR [esp+88], xmm0
  00411	f2 0f 11 64 24
	50		 movsd	 QWORD PTR [esp+80], xmm4
  00417	f2 0f 11 4c 24
	48		 movsd	 QWORD PTR [esp+72], xmm1
  0041d	66 0f 6e c1	 movd	 xmm0, ecx
  00421	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00425	8b 4d e0	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00428	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  0042e	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00433	0f 11 5c 24 30	 movups	 XMMWORD PTR [esp+48], xmm3
  00438	0f 11 5c 24 20	 movups	 XMMWORD PTR [esp+32], xmm3
  0043d	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00443	66 0f 6e c7	 movd	 xmm0, edi
  00447	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0044b	f2 0f 11 44 24
	10		 movsd	 QWORD PTR [esp+16], xmm0
  00451	66 0f 6e c0	 movd	 xmm0, eax
  00455	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00459	f2 0f 11 7c 24
	08		 movsd	 QWORD PTR [esp+8], xmm7
  0045f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00464	57		 push	 edi
  00465	50		 push	 eax
  00466	68 a2 0f 00 00	 push	 4002			; 00000fa2H
  0046b	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  0046e	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
$LN79@Find_R_Hea:

; 378  : 
; 379  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00473	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
$LN2@Find_R_Hea:
  00476	46		 inc	 esi
  00477	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  0047a	3b 45 dc	 cmp	 eax, DWORD PTR $T3[ebp]
  0047d	0f 8e 9f fb ff
	ff		 jle	 $LL4@Find_R_Hea
  00483	5f		 pop	 edi
  00484	5e		 pop	 esi
$LN3@Find_R_Hea:

; 439  : 												PTN_R_HEADNSHOULDER,			pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 440  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 441  : 												ZERO,							ZERO,							ZERO,							ZERO,
; 442  : 												pHighLowPtData4->m_nDataSeq,	pHighLowPtData4->m_dLow,		dXNeckPt2,						dYNeckPt2,
; 443  : 												pHighLowPtData4->m_dLow,		dNeckBaseYPt2	);
; 444  : 
; 445  : 					}
; 446  : 				}
; 447  : 			}
; 448  : 		}
; 449  : 	}
; 450  : 
; 451  : 	return TRUE;

  00485	b8 01 00 00 00	 mov	 eax, 1

; 452  : }

  0048a	8b e5		 mov	 esp, ebp
  0048c	5d		 pop	 ebp
  0048d	c2 08 00	 ret	 8
$LN20@Find_R_Hea:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00490	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN80@Find_R_Hea:
  00495	cc		 int	 3
?Find_R_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_R_HeaderNShoulders
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Find_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z
_TEXT	SEGMENT
_dYNeckPt2$1 = -72					; size = 8
_dXNeckPt2$2 = -64					; size = 8
tv1235 = -56						; size = 8
_dYDrawPt1_2$1$ = -48					; size = 8
tv1226 = -48						; size = 8
tv1252 = -40						; size = 8
$T3 = -32						; size = 4
_this$1$ = -28						; size = 4
tv1285 = -24						; size = 4
_pHighLowPtData5$1$ = -24				; size = 4
tv1211 = -20						; size = 8
_pHighLowPtData2$1$ = -16				; size = 4
_pHighLowPtData6$1$ = -12				; size = 4
tv1286 = -8						; size = 4
_pHighLowPtData7$1$ = -8				; size = 4
_pHighLowPtData4$1$ = -4				; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjWavePatternData$ = 12				; size = 4
?Find_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z PROC ; CWavePattern::Find_HeaderNShoulders, COMDAT
; _this$ = ecx

; 266  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H

; 277  : 
; 278  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00006	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
  00009	89 4d e4	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000c	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0000f	83 e8 07	 sub	 eax, 7
  00012	89 45 e0	 mov	 DWORD PTR $T3[ebp], eax
  00015	0f 88 71 04 00
	00		 js	 $LN3@Find_Heade

; 267  : 	CArrayObjPt(CHighLowPtData) paryHighLowPtData = (CArrayObjPt(CHighLowPtData))pObjHighLowPtData;
; 268  : 
; 269  : 	CHighLowPtData *pHighLowPtData1, *pHighLowPtData2, *pHighLowPtData3, *pHighLowPtData4, *pHighLowPtData5, *pHighLowPtData6, *pHighLowPtData7;
; 270  : 	pHighLowPtData1 = pHighLowPtData2 = pHighLowPtData3 = pHighLowPtData4 = pHighLowPtData5 = pHighLowPtData6 = pHighLowPtData7 = NULL;
; 271  : 	int		nPointCnt;
; 272  : 	int		nMininumData = 7;	// Head & Shoulder    
; 273  : 
; 274  : 	double	dGradient1, dGradient2, dGradient3, dGradient4;		// 
; 275  : 	
; 276  : 	nPointCnt = paryHighLowPtData->GetSize();

  0001b	f2 0f 10 2d 00
	00 00 00	 movsd	 xmm5, QWORD PTR __real@4059000000000000
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	be 02 00 00 00	 mov	 esi, 2
  0002a	66 0f 1f 44 00
	00		 npad	 6
$LL4@Find_Heade:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00030	8d 4e fe	 lea	 ecx, DWORD PTR [esi-2]
  00033	85 c9		 test	 ecx, ecx
  00035	0f 88 5c 04 00
	00		 js	 $LN23@Find_Heade
  0003b	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0003e	3b c8		 cmp	 ecx, eax
  00040	0f 8d 51 04 00
	00		 jge	 $LN23@Find_Heade

; 289  : 		return m_pData[nIndex];

  00046	8b 4a 04	 mov	 ecx, DWORD PTR [edx+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 280  : 		pHighLowPtData1 = paryHighLowPtData->GetAt(i);		if ( !pHighLowPtData1 ) continue;

  00049	8b 7c b1 f8	 mov	 edi, DWORD PTR [ecx+esi*4-8]
  0004d	85 ff		 test	 edi, edi
  0004f	0f 84 28 04 00
	00		 je	 $LN2@Find_Heade

; 281  : 		if ( pHighLowPtData1->m_nPointType != CHANGINGPT_LOWTOHIGH) continue;

  00055	81 7f 04 ea 03
	00 00		 cmp	 DWORD PTR [edi+4], 1002	; 000003eaH
  0005c	0f 85 1b 04 00
	00		 jne	 $LN2@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00062	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  00065	85 d2		 test	 edx, edx
  00067	0f 88 2a 04 00
	00		 js	 $LN23@Find_Heade
  0006d	3b d0		 cmp	 edx, eax
  0006f	0f 8d 22 04 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 283  : 		pHighLowPtData2 = paryHighLowPtData->GetAt(i+1);	if ( !pHighLowPtData2 ) continue;

  00075	8b 54 b1 fc	 mov	 edx, DWORD PTR [ecx+esi*4-4]
  00079	89 55 f0	 mov	 DWORD PTR _pHighLowPtData2$1$[ebp], edx
  0007c	85 d2		 test	 edx, edx
  0007e	0f 84 f6 03 00
	00		 je	 $LN81@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00084	85 f6		 test	 esi, esi
  00086	0f 88 0b 04 00
	00		 js	 $LN23@Find_Heade
  0008c	3b f0		 cmp	 esi, eax
  0008e	0f 8d 03 04 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 284  : 		pHighLowPtData3 = paryHighLowPtData->GetAt(i+2);	if ( !pHighLowPtData3 ) continue;

  00094	83 3c b1 00	 cmp	 DWORD PTR [ecx+esi*4], 0
  00098	0f 84 dc 03 00
	00		 je	 $LN81@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  0009e	8d 56 01	 lea	 edx, DWORD PTR [esi+1]
  000a1	85 d2		 test	 edx, edx
  000a3	0f 88 ee 03 00
	00		 js	 $LN23@Find_Heade
  000a9	3b d0		 cmp	 edx, eax
  000ab	0f 8d e6 03 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 285  : 		pHighLowPtData4 = paryHighLowPtData->GetAt(i+3);	if ( !pHighLowPtData4 ) continue;

  000b1	8b 54 b1 04	 mov	 edx, DWORD PTR [ecx+esi*4+4]
  000b5	89 55 fc	 mov	 DWORD PTR _pHighLowPtData4$1$[ebp], edx
  000b8	85 d2		 test	 edx, edx
  000ba	0f 84 ba 03 00
	00		 je	 $LN81@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000c0	8d 56 02	 lea	 edx, DWORD PTR [esi+2]
  000c3	85 d2		 test	 edx, edx
  000c5	0f 88 cc 03 00
	00		 js	 $LN23@Find_Heade
  000cb	3b d0		 cmp	 edx, eax
  000cd	0f 8d c4 03 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 286  : 		pHighLowPtData5 = paryHighLowPtData->GetAt(i+4);	if ( !pHighLowPtData5 ) continue;

  000d3	8b 54 b1 08	 mov	 edx, DWORD PTR [ecx+esi*4+8]
  000d7	89 55 e8	 mov	 DWORD PTR _pHighLowPtData5$1$[ebp], edx
  000da	85 d2		 test	 edx, edx
  000dc	0f 84 98 03 00
	00		 je	 $LN81@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000e2	8d 56 03	 lea	 edx, DWORD PTR [esi+3]
  000e5	85 d2		 test	 edx, edx
  000e7	0f 88 aa 03 00
	00		 js	 $LN23@Find_Heade
  000ed	3b d0		 cmp	 edx, eax
  000ef	0f 8d a2 03 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 287  : 		pHighLowPtData6 = paryHighLowPtData->GetAt(i+5);	if ( !pHighLowPtData6 ) continue;

  000f5	8b 54 b1 0c	 mov	 edx, DWORD PTR [ecx+esi*4+12]
  000f9	89 55 f4	 mov	 DWORD PTR _pHighLowPtData6$1$[ebp], edx
  000fc	85 d2		 test	 edx, edx
  000fe	0f 84 76 03 00
	00		 je	 $LN81@Find_Heade
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00104	8d 56 04	 lea	 edx, DWORD PTR [esi+4]
  00107	85 d2		 test	 edx, edx
  00109	0f 88 88 03 00
	00		 js	 $LN23@Find_Heade
  0010f	3b d0		 cmp	 edx, eax
  00111	0f 8d 80 03 00
	00		 jge	 $LN23@Find_Heade
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 288  : 		pHighLowPtData7 = paryHighLowPtData->GetAt(i+6);	if ( !pHighLowPtData7 ) continue;

  00117	8b 54 b1 10	 mov	 edx, DWORD PTR [ecx+esi*4+16]
  0011b	89 55 f8	 mov	 DWORD PTR _pHighLowPtData7$1$[ebp], edx
  0011e	85 d2		 test	 edx, edx
  00120	0f 84 54 03 00
	00		 je	 $LN81@Find_Heade

; 289  : 
; 290  : 		if ( (pHighLowPtData1->m_dLow < pHighLowPtData3->m_dLow) && (pHighLowPtData5->m_dLow > pHighLowPtData7->m_dLow))

  00126	8b 04 b1	 mov	 eax, DWORD PTR [ecx+esi*4]
  00129	f2 0f 10 47 28	 movsd	 xmm0, QWORD PTR [edi+40]
  0012e	f2 0f 10 70 28	 movsd	 xmm6, QWORD PTR [eax+40]
  00133	66 0f 2f f0	 comisd	 xmm6, xmm0
  00137	0f 86 3d 03 00
	00		 jbe	 $LN81@Find_Heade
  0013d	8b 4d e8	 mov	 ecx, DWORD PTR _pHighLowPtData5$1$[ebp]
  00140	f2 0f 10 79 28	 movsd	 xmm7, QWORD PTR [ecx+40]
  00145	66 0f 2f 7a 28	 comisd	 xmm7, QWORD PTR [edx+40]
  0014a	0f 86 2a 03 00
	00		 jbe	 $LN81@Find_Heade

; 291  : 		{
; 292  : 			if ( (pHighLowPtData2->m_dHigh < pHighLowPtData4->m_dHigh) && (pHighLowPtData4->m_dHigh > pHighLowPtData6->m_dHigh))

  00150	8b 55 fc	 mov	 edx, DWORD PTR _pHighLowPtData4$1$[ebp]
  00153	f2 0f 10 4a 20	 movsd	 xmm1, QWORD PTR [edx+32]
  00158	8b 55 f0	 mov	 edx, DWORD PTR _pHighLowPtData2$1$[ebp]
  0015b	66 0f 2f 4a 20	 comisd	 xmm1, QWORD PTR [edx+32]
  00160	0f 86 14 03 00
	00		 jbe	 $LN81@Find_Heade
  00166	8b 55 f4	 mov	 edx, DWORD PTR _pHighLowPtData6$1$[ebp]
  00169	66 0f 2f 4a 20	 comisd	 xmm1, QWORD PTR [edx+32]
  0016e	8b 55 f8	 mov	 edx, DWORD PTR _pHighLowPtData7$1$[ebp]
  00171	0f 86 03 03 00
	00		 jbe	 $LN81@Find_Heade

; 293  : 			{
; 294  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  00177	8b 7f 08	 mov	 edi, DWORD PTR [edi+8]
  0017a	0f 57 db	 xorps	 xmm3, xmm3
  0017d	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00180	0f 57 e4	 xorps	 xmm4, xmm4
  00183	89 45 e8	 mov	 DWORD PTR tv1285[ebp], eax
  00186	89 7d f8	 mov	 DWORD PTR tv1286[ebp], edi
  00189	66 0f 6e cf	 movd	 xmm1, edi
  0018d	66 0f 6e d0	 movd	 xmm2, eax
  00191	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00195	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00199	f2 0f 11 4d d8	 movsd	 QWORD PTR tv1252[ebp], xmm1

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0019e	0f 28 ca	 movaps	 xmm1, xmm2

; 293  : 			{
; 294  : 				dGradient1 = GetModifyGradient( pHighLowPtData1->m_nDataSeq, pHighLowPtData1->m_dLow, 

  001a1	f2 0f 11 55 c8	 movsd	 QWORD PTR tv1235[ebp], xmm2

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001a6	f2 0f 5c 4d d8	 subsd	 xmm1, QWORD PTR tv1252[ebp]
  001ab	66 0f 2e cb	 ucomisd xmm1, xmm3
  001af	9f		 lahf
  001b0	f6 c4 44	 test	 ah, 68			; 00000044H
  001b3	7b 1d		 jnp	 SHORT $LN45@Find_Heade
  001b5	66 0f 2e c3	 ucomisd xmm0, xmm3
  001b9	9f		 lahf
  001ba	f6 c4 44	 test	 ah, 68			; 00000044H
  001bd	7b 13		 jnp	 SHORT $LN45@Find_Heade

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001bf	0f 28 e6	 movaps	 xmm4, xmm6
  001c2	f2 0f 5c e0	 subsd	 xmm4, xmm0
  001c6	f2 0f 5e e0	 divsd	 xmm4, xmm0
  001ca	f2 0f 5e e1	 divsd	 xmm4, xmm1
  001ce	f2 0f 59 e5	 mulsd	 xmm4, xmm5
$LN45@Find_Heade:
  001d2	66 0f 6e 41 08	 movd	 xmm0, DWORD PTR [ecx+8]
  001d7	0f 57 c9	 xorps	 xmm1, xmm1

; 295  : 												pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow);	// 1-3
; 296  : 				
; 297  : 				dGradient2 = GetModifyGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 

  001da	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  001de	f2 0f 5c c2	 subsd	 xmm0, xmm2
  001e2	66 0f 2e c3	 ucomisd xmm0, xmm3
  001e6	f2 0f 11 45 d0	 movsd	 QWORD PTR tv1226[ebp], xmm0
  001eb	9f		 lahf
  001ec	f6 c4 44	 test	 ah, 68			; 00000044H
  001ef	7b 1d		 jnp	 SHORT $LN48@Find_Heade
  001f1	66 0f 2e f3	 ucomisd xmm6, xmm3
  001f5	9f		 lahf
  001f6	f6 c4 44	 test	 ah, 68			; 00000044H
  001f9	7b 13		 jnp	 SHORT $LN48@Find_Heade

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  001fb	0f 28 cf	 movaps	 xmm1, xmm7
  001fe	f2 0f 5c ce	 subsd	 xmm1, xmm6
  00202	f2 0f 5e ce	 divsd	 xmm1, xmm6
  00206	f2 0f 5e c8	 divsd	 xmm1, xmm0
  0020a	f2 0f 59 cd	 mulsd	 xmm1, xmm5
$LN48@Find_Heade:
  0020e	66 0f 6e 42 08	 movd	 xmm0, DWORD PTR [edx+8]
  00213	0f 57 ed	 xorps	 xmm5, xmm5
  00216	66 0f 6e 51 08	 movd	 xmm2, DWORD PTR [ecx+8]

; 298  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 299  : 				
; 300  : 				dGradient3 = GetModifyGradient( pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow, 

  0021b	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0021f	f3 0f e6 d2	 cvtdq2pd xmm2, xmm2
  00223	f2 0f 5c c2	 subsd	 xmm0, xmm2
  00227	66 0f 2e c3	 ucomisd xmm0, xmm3
  0022b	9f		 lahf
  0022c	f6 c4 44	 test	 ah, 68			; 00000044H
  0022f	7b 23		 jnp	 SHORT $LN51@Find_Heade
  00231	66 0f 2e fb	 ucomisd xmm7, xmm3
  00235	9f		 lahf
  00236	f6 c4 44	 test	 ah, 68			; 00000044H
  00239	7b 19		 jnp	 SHORT $LN51@Find_Heade

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  0023b	f2 0f 10 6a 28	 movsd	 xmm5, QWORD PTR [edx+40]
  00240	f2 0f 5c ef	 subsd	 xmm5, xmm7
  00244	f2 0f 5e ef	 divsd	 xmm5, xmm7
  00248	f2 0f 5e e8	 divsd	 xmm5, xmm0
  0024c	f2 0f 59 2d 00
	00 00 00	 mulsd	 xmm5, QWORD PTR __real@4059000000000000
$LN51@Find_Heade:

; 301  : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 5-7
; 302  : 
; 303  : 				dGradient4 = GetModifyGradient( pHighLowPtData2->m_nDataSeq, pHighLowPtData2->m_dHigh, 

  00254	8b 7d f0	 mov	 edi, DWORD PTR _pHighLowPtData2$1$[ebp]
  00257	0f 57 d2	 xorps	 xmm2, xmm2
  0025a	8b 4d f4	 mov	 ecx, DWORD PTR _pHighLowPtData6$1$[ebp]
  0025d	66 0f 6e 47 08	 movd	 xmm0, DWORD PTR [edi+8]
  00262	66 0f 6e 59 08	 movd	 xmm3, DWORD PTR [ecx+8]
  00267	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0

; 2458 : 	if( (dXPos2 - dXPos1) != 0 && (dYPos1 != 0))

  0026b	f3 0f e6 db	 cvtdq2pd xmm3, xmm3
  0026f	f2 0f 5c d8	 subsd	 xmm3, xmm0
  00273	f2 0f 11 5d ec	 movsd	 QWORD PTR tv1211[ebp], xmm3
  00278	0f 57 db	 xorps	 xmm3, xmm3
  0027b	f2 0f 10 45 ec	 movsd	 xmm0, QWORD PTR tv1211[ebp]
  00280	66 0f 2e c3	 ucomisd xmm0, xmm3
  00284	9f		 lahf
  00285	f6 c4 44	 test	 ah, 68			; 00000044H
  00288	7b 29		 jnp	 SHORT $LN54@Find_Heade
  0028a	f2 0f 10 47 20	 movsd	 xmm0, QWORD PTR [edi+32]
  0028f	66 0f 2e c3	 ucomisd xmm0, xmm3
  00293	9f		 lahf
  00294	f6 c4 44	 test	 ah, 68			; 00000044H
  00297	7b 1a		 jnp	 SHORT $LN54@Find_Heade

; 2459 : 	{
; 2460 : 		dGradient = (dYPos2 - dYPos1) / dYPos1 / (dXPos2 - dXPos1) * 100;

  00299	f2 0f 10 51 20	 movsd	 xmm2, QWORD PTR [ecx+32]
  0029e	f2 0f 5c d0	 subsd	 xmm2, xmm0
  002a2	f2 0f 5e d0	 divsd	 xmm2, xmm0
  002a6	f2 0f 5e 55 ec	 divsd	 xmm2, QWORD PTR tv1211[ebp]
  002ab	f2 0f 59 15 00
	00 00 00	 mulsd	 xmm2, QWORD PTR __real@4059000000000000
$LN54@Find_Heade:

; 304  : 												pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh);	// 2-6
; 305  : 
; 306  : 				if ( dGradient1 > dGradient2 && dGradient2 > dGradient3)

  002b3	66 0f 2f e1	 comisd	 xmm4, xmm1
  002b7	0f 86 b5 01 00
	00		 jbe	 $LN71@Find_Heade
  002bd	66 0f 2f cd	 comisd	 xmm1, xmm5
  002c1	0f 86 ab 01 00
	00		 jbe	 $LN71@Find_Heade

; 307  : 				{
; 308  : 					if ( fabs(dGradient2) <= 0.3 && fabs(dGradient4) <= 0.3)

  002c7	f2 0f 10 05 00
	00 00 00	 movsd	 xmm0, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
  002cf	f2 0f 10 25 00
	00 00 00	 movsd	 xmm4, QWORD PTR __real@3fd3333333333333
  002d7	0f 54 c8	 andps	 xmm1, xmm0
  002da	66 0f 2f e1	 comisd	 xmm4, xmm1
  002de	0f 82 8e 01 00
	00		 jb	 $LN71@Find_Heade
  002e4	0f 54 d0	 andps	 xmm2, xmm0
  002e7	66 0f 2f e2	 comisd	 xmm4, xmm2
  002eb	0f 82 81 01 00
	00		 jb	 $LN71@Find_Heade

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  002f1	8b 7a 08	 mov	 edi, DWORD PTR [edx+8]
  002f4	0f 57 d2	 xorps	 xmm2, xmm2
  002f7	66 0f 6e 49 08	 movd	 xmm1, DWORD PTR [ecx+8]
  002fc	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1
  00300	66 0f 6e c7	 movd	 xmm0, edi
  00304	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00308	f2 0f 5c c1	 subsd	 xmm0, xmm1
  0030c	66 0f 2e c3	 ucomisd xmm0, xmm3
  00310	9f		 lahf
  00311	f6 c4 44	 test	 ah, 68			; 00000044H
  00314	7b 0e		 jnp	 SHORT $LN65@Find_Heade

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00316	f2 0f 10 52 28	 movsd	 xmm2, QWORD PTR [edx+40]
  0031b	f2 0f 5c 51 20	 subsd	 xmm2, QWORD PTR [ecx+32]
  00320	f2 0f 5e d0	 divsd	 xmm2, xmm0
$LN65@Find_Heade:

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00324	f2 0f 10 45 d0	 movsd	 xmm0, QWORD PTR tv1226[ebp]
  00329	0f 57 c9	 xorps	 xmm1, xmm1
  0032c	66 0f 2e c3	 ucomisd xmm0, xmm3
  00330	9f		 lahf
  00331	f6 c4 44	 test	 ah, 68			; 00000044H
  00334	7b 0b		 jnp	 SHORT $LN60@Find_Heade

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00336	0f 28 cf	 movaps	 xmm1, xmm7
  00339	f2 0f 5c ce	 subsd	 xmm1, xmm6
  0033d	f2 0f 5e c8	 divsd	 xmm1, xmm0
$LN60@Find_Heade:

; 309  : 					{
; 310  : 						double dGradA, dGradB;
; 311  : 						double dYDrawPt1_1, dYDrawPt1_2;
; 312  : 						double dXNeckPt2, dYNeckPt2;
; 313  : 						double dNeckBaseYPt2;
; 314  : 						
; 315  : 						dGradA = GetGradient(	pHighLowPtData6->m_nDataSeq, pHighLowPtData6->m_dHigh, 
; 316  : 												pHighLowPtData7->m_nDataSeq, pHighLowPtData7->m_dLow);	// 6-7
; 317  : 						
; 318  : 						dGradB = GetGradient(	pHighLowPtData3->m_nDataSeq, pHighLowPtData3->m_dLow, 
; 319  : 												pHighLowPtData5->m_nDataSeq, pHighLowPtData5->m_dLow);	// 3-5
; 320  : 
; 321  : 						// First Draw Data
; 322  : 						dYDrawPt1_1 = dGradB * (pHighLowPtData1->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  00341	8b 45 f8	 mov	 eax, DWORD PTR tv1286[ebp]

; 323  : 						dYDrawPt1_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 324  : 
; 325  : 						// Second Neck Data
; 326  : 						if ( (dGradA - dGradB) != 0)

  00344	0f 28 ea	 movaps	 xmm5, xmm2
  00347	8b 55 e8	 mov	 edx, DWORD PTR tv1285[ebp]
  0034a	f2 0f 5c e9	 subsd	 xmm5, xmm1
  0034e	2b c2		 sub	 eax, edx
  00350	66 0f 6e f8	 movd	 xmm7, eax
  00354	8b c7		 mov	 eax, edi
  00356	2b c2		 sub	 eax, edx
  00358	f3 0f e6 ff	 cvtdq2pd xmm7, xmm7
  0035c	66 0f 6e c0	 movd	 xmm0, eax
  00360	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00364	66 0f 2e eb	 ucomisd xmm5, xmm3
  00368	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  0036c	f2 0f 59 f9	 mulsd	 xmm7, xmm1
  00370	9f		 lahf
  00371	f2 0f 58 c6	 addsd	 xmm0, xmm6
  00375	f2 0f 58 fe	 addsd	 xmm7, xmm6
  00379	f2 0f 11 45 d0	 movsd	 QWORD PTR _dYDrawPt1_2$1$[ebp], xmm0
  0037e	f6 c4 44	 test	 ah, 68			; 00000044H
  00381	7b 4d		 jnp	 SHORT $LN67@Find_Heade

; 327  : 						{
; 328  : 							dXNeckPt2 = ( ( pHighLowPtData3->m_dLow - pHighLowPtData6->m_dHigh) + 

  00383	0f 57 c0	 xorps	 xmm0, xmm0
  00386	0f 28 e6	 movaps	 xmm4, xmm6
  00389	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  0038e	f2 0f 5c 61 20	 subsd	 xmm4, QWORD PTR [ecx+32]
  00393	f2 0f 59 c2	 mulsd	 xmm0, xmm2
  00397	f2 0f 58 e0	 addsd	 xmm4, xmm0
  0039b	f2 0f 10 45 c8	 movsd	 xmm0, QWORD PTR tv1235[ebp]
  003a0	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003a4	f2 0f 5c e0	 subsd	 xmm4, xmm0
  003a8	0f 57 c0	 xorps	 xmm0, xmm0

; 329  : 											dGradA*pHighLowPtData6->m_nDataSeq - dGradB*pHighLowPtData3->m_nDataSeq ) / ( dGradA-dGradB);
; 330  : 							dYNeckPt2 = dGradA*(dXNeckPt2-pHighLowPtData6->m_nDataSeq) + pHighLowPtData6->m_dHigh;

  003ab	f2 0f 2a 41 08	 cvtsi2sd xmm0, DWORD PTR [ecx+8]
  003b0	f2 0f 5e e5	 divsd	 xmm4, xmm5
  003b4	0f 28 ec	 movaps	 xmm5, xmm4
  003b7	f2 0f 11 65 c0	 movsd	 QWORD PTR _dXNeckPt2$2[ebp], xmm4
  003bc	f2 0f 5c e8	 subsd	 xmm5, xmm0
  003c0	f2 0f 59 ea	 mulsd	 xmm5, xmm2
  003c4	f2 0f 58 69 20	 addsd	 xmm5, QWORD PTR [ecx+32]
  003c9	f2 0f 11 6d b8	 movsd	 QWORD PTR _dYNeckPt2$1[ebp], xmm5
  003ce	eb 0a		 jmp	 SHORT $LN17@Find_Heade
$LN67@Find_Heade:

; 323  : 						dYDrawPt1_2 = dGradB * (pHighLowPtData7->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;
; 324  : 
; 325  : 						// Second Neck Data
; 326  : 						if ( (dGradA - dGradB) != 0)

  003d0	f2 0f 10 65 c0	 movsd	 xmm4, QWORD PTR _dXNeckPt2$2[ebp]
  003d5	f2 0f 10 6d b8	 movsd	 xmm5, QWORD PTR _dYNeckPt2$1[ebp]
$LN17@Find_Heade:

; 331  : 						}
; 332  : 
; 333  : 						// Neck Base Data2
; 334  : 						dNeckBaseYPt2 = dGradB * (pHighLowPtData4->m_nDataSeq - pHighLowPtData3->m_nDataSeq) + pHighLowPtData3->m_dLow;

  003da	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]

; 335  : 
; 336  : 						// Next HighLow Changing Point
; 337  : 						double dNextChangingYPt = ZERO;
; 338  : 						if ( pHighLowPtData7)
; 339  : 						{
; 340  : 							if ( pHighLowPtData7->m_nPointType == CHANGINGPT_HIGHTOLOW)
; 341  : 								dNextChangingYPt = pHighLowPtData7->m_dHigh;
; 342  : 							else
; 343  : 								dNextChangingYPt = pHighLowPtData7->m_dLow;
; 344  : 						}
; 345  : 
; 346  : 
; 347  : 						AddNewWavePatternData(	pObjWavePatternData,

  003dd	83 ec 70	 sub	 esp, 112		; 00000070H
  003e0	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  003e3	8b c1		 mov	 eax, ecx
  003e5	2b c2		 sub	 eax, edx
  003e7	66 0f 6e c0	 movd	 xmm0, eax
  003eb	8b 45 fc	 mov	 eax, DWORD PTR _pHighLowPtData4$1$[ebp]
  003ee	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  003f2	f2 0f 59 c1	 mulsd	 xmm0, xmm1
  003f6	f2 0f 58 c6	 addsd	 xmm0, xmm6
  003fa	f2 0f 11 44 24
	68		 movsd	 QWORD PTR [esp+104], xmm0
  00400	f2 0f 10 40 20	 movsd	 xmm0, QWORD PTR [eax+32]
  00405	f2 0f 11 44 24
	60		 movsd	 QWORD PTR [esp+96], xmm0
  0040b	f2 0f 11 6c 24
	58		 movsd	 QWORD PTR [esp+88], xmm5
  00411	f2 0f 11 64 24
	50		 movsd	 QWORD PTR [esp+80], xmm4
  00417	f2 0f 11 44 24
	48		 movsd	 QWORD PTR [esp+72], xmm0
  0041d	66 0f 6e c1	 movd	 xmm0, ecx
  00421	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00425	8b 4d e4	 mov	 ecx, DWORD PTR _this$1$[ebp]
  00428	f2 0f 11 44 24
	40		 movsd	 QWORD PTR [esp+64], xmm0
  0042e	f2 0f 10 45 d0	 movsd	 xmm0, QWORD PTR _dYDrawPt1_2$1$[ebp]
  00433	0f 11 5c 24 30	 movups	 XMMWORD PTR [esp+48], xmm3
  00438	0f 11 5c 24 20	 movups	 XMMWORD PTR [esp+32], xmm3
  0043d	f2 0f 11 44 24
	18		 movsd	 QWORD PTR [esp+24], xmm0
  00443	66 0f 6e c7	 movd	 xmm0, edi
  00447	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  0044b	f2 0f 11 44 24
	10		 movsd	 QWORD PTR [esp+16], xmm0
  00451	f2 0f 10 45 d8	 movsd	 xmm0, QWORD PTR tv1252[ebp]
  00456	f2 0f 11 7c 24
	08		 movsd	 QWORD PTR [esp+8], xmm7
  0045c	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00461	57		 push	 edi
  00462	ff 75 f8	 push	 DWORD PTR tv1286[ebp]
  00465	68 a1 0f 00 00	 push	 4001			; 00000fa1H
  0046a	ff 75 0c	 push	 DWORD PTR _pObjWavePatternData$[ebp]
  0046d	e8 00 00 00 00	 call	 ?AddNewWavePatternData@CWavePattern@@QAEXPAVCObject@@HHHNNNNNNNNNNNNNN@Z ; CWavePattern::AddNewWavePatternData
$LN71@Find_Heade:

; 277  : 
; 278  : 	for(int i = 0; i <= nPointCnt-nMininumData; i++)

  00472	f2 0f 10 2d 00
	00 00 00	 movsd	 xmm5, QWORD PTR __real@4059000000000000
$LN81@Find_Heade:
  0047a	8b 55 08	 mov	 edx, DWORD PTR _pObjHighLowPtData$[ebp]
$LN2@Find_Heade:
  0047d	46		 inc	 esi
  0047e	8d 46 fe	 lea	 eax, DWORD PTR [esi-2]
  00481	3b 45 e0	 cmp	 eax, DWORD PTR $T3[ebp]
  00484	0f 8e a6 fb ff
	ff		 jle	 $LL4@Find_Heade
  0048a	5f		 pop	 edi
  0048b	5e		 pop	 esi
$LN3@Find_Heade:

; 348  : 												PTN_HEADNSHOULDER,				pHighLowPtData1->m_nDataSeq,	pHighLowPtData7->m_nDataSeq,		
; 349  : 												pHighLowPtData1->m_nDataSeq,	dYDrawPt1_1,					pHighLowPtData7->m_nDataSeq,	dYDrawPt1_2,
; 350  : 												ZERO,							ZERO,							ZERO,							ZERO,
; 351  : 												pHighLowPtData4->m_nDataSeq,	pHighLowPtData4->m_dHigh,		dXNeckPt2,						dYNeckPt2,
; 352  : 												pHighLowPtData4->m_dHigh,		dNeckBaseYPt2	);
; 353  : 
; 354  : 					}
; 355  : 				}
; 356  : 			}
; 357  : 		}
; 358  : 	}
; 359  : 
; 360  : 	return TRUE;

  0048c	b8 01 00 00 00	 mov	 eax, 1

; 361  : }

  00491	8b e5		 mov	 esp, ebp
  00493	5d		 pop	 ebp
  00494	c2 08 00	 ret	 8
$LN23@Find_Heade:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  00497	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN82@Find_Heade:
  0049c	cc		 int	 3
?Find_HeaderNShoulders@CWavePattern@@QAEHPAVCObject@@0@Z ENDP ; CWavePattern::Find_HeaderNShoulders
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z
_TEXT	SEGMENT
_dYFirst$2$ = -60					; size = 8
_dYFirst$1$ = -60					; size = 8
_dYSecond$1$ = -52					; size = 8
_dGradient$1$ = -44					; size = 8
$T2 = -36						; size = 4
$T3 = -36						; size = 4
_bSatisfyCond$2$ = -32					; size = 4
_nSeq1$1$ = -32						; size = 4
_bSatisfyCond$1$ = -28					; size = 4
_nSeq1$2$ = -28						; size = 4
_i$2$ = -24						; size = 4
_nPointCnt$1$ = -20					; size = 4
_nSeq2$1$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
_nSeq2$ = 8						; size = 4
_pObjHighLowPtData$ = 8					; size = 4
_pObjRegistNSupportData$ = 12				; size = 4
_dGradient$ = 16					; size = 8
_dNextPtAllowableError$ = 16				; size = 8
?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z PROC ; CWavePattern::Get_RegistNSupportLine, COMDAT
; _this$ = ecx

; 54   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 30	 sub	 esp, 48			; 00000030H
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00028	8b 75 08	 mov	 esi, DWORD PTR _pObjHighLowPtData$[ebp]
  0002b	0f 57 c0	 xorps	 xmm0, xmm0
  0002e	0f 57 f6	 xorps	 xmm6, xmm6
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 64   : 	double	dYFirst = 0, dYSecond = 0, dValTemp = 0;

  00031	f2 0f 11 45 cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm0
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00036	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  00039	89 4d ec	 mov	 DWORD PTR _nPointCnt$1$[ebp], ecx
  0003c	85 c9		 test	 ecx, ecx
  0003e	0f 8e b0 04 00
	00		 jle	 $LN48@Get_Regist

; 289  : 		return m_pData[nIndex];

  00044	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 71   : 	if ( pHighLowPtData ) 

  00047	f2 0f 10 6d 10	 movsd	 xmm5, QWORD PTR _dNextPtAllowableError$[ebp]
  0004c	8b 00		 mov	 eax, DWORD PTR [eax]
  0004e	85 c0		 test	 eax, eax
  00050	74 33		 je	 SHORT $LN14@Get_Regist

; 72   : 	{
; 73   : 		if ( pHighLowPtData->m_nPointType == CHANGINGPT_HIGHTOLOW)

  00052	8b 40 04	 mov	 eax, DWORD PTR [eax+4]

; 74   : 		{
; 75   : 			nHigh = 0;
; 76   : 			nLow  = 1;	
; 77   : 		}
; 78   : 		else
; 79   : 		{
; 80   : 			nHigh = 1;
; 81   : 			nLow  = 0;
; 82   : 		}
; 83   : 	}

  00055	33 d2		 xor	 edx, edx
  00057	3d e9 03 00 00	 cmp	 eax, 1001		; 000003e9H
  0005c	0f 95 c2	 setne	 dl
  0005f	33 db		 xor	 ebx, ebx
  00061	3d e9 03 00 00	 cmp	 eax, 1001		; 000003e9H
  00066	0f 94 c3	 sete	 bl
  00069	89 5d e8	 mov	 DWORD PTR _i$2$[ebp], ebx

; 94   : 	for( i = nHigh; i < nPointCnt; i+=2)

  0006c	3b d1		 cmp	 edx, ecx
  0006e	7c 22		 jl	 SHORT $LN126@Get_Regist
  00070	f2 0f 10 45 10	 movsd	 xmm0, QWORD PTR _dGradient$[ebp]
  00075	8b 5d 08	 mov	 ebx, DWORD PTR _nSeq2$[ebp]
  00078	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx
  0007b	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0
  00080	e9 2e 02 00 00	 jmp	 $LN3@Get_Regist
$LN14@Get_Regist:

; 84   : 	else
; 85   : 	{
; 86   : 		nHigh = 0;
; 87   : 		nLow  = 0;

  00085	33 f6		 xor	 esi, esi
  00087	89 4d ec	 mov	 DWORD PTR _nPointCnt$1$[ebp], ecx
  0008a	89 75 e8	 mov	 DWORD PTR _i$2$[ebp], esi
  0008d	33 d2		 xor	 edx, edx
  0008f	8b 75 08	 mov	 esi, DWORD PTR _pObjHighLowPtData$[ebp]
$LN126@Get_Regist:
  00092	f2 0f 10 45 10	 movsd	 xmm0, QWORD PTR _dGradient$[ebp]
  00097	8b 5d 08	 mov	 ebx, DWORD PTR _nSeq2$[ebp]
  0009a	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx
  0009d	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0
$LL122@Get_Regist:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000a2	85 d2		 test	 edx, edx
  000a4	0f 88 4a 04 00
	00		 js	 $LN48@Get_Regist
  000aa	3b 56 08	 cmp	 edx, DWORD PTR [esi+8]
  000ad	0f 8d 41 04 00
	00		 jge	 $LN48@Get_Regist

; 289  : 		return m_pData[nIndex];

  000b3	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 96   : 		pHighLowPtData = paryHighLowPtData->GetAt(i);

  000b6	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]

; 97   : 		if ( !pHighLowPtData ) continue;

  000b9	85 c0		 test	 eax, eax
  000bb	0f 84 e1 01 00
	00		 je	 $LN2@Get_Regist

; 98   : 		
; 99   : 		if ( pHighLowPtData->m_nPointType == CHANGINGPT_HIGHTOLOW)

  000c1	81 78 04 e9 03
	00 00		 cmp	 DWORD PTR [eax+4], 1001	; 000003e9H
  000c8	0f 85 d4 01 00
	00		 jne	 $LN2@Get_Regist

; 100  : 		{
; 101  : 			nSeq1	= pHighLowPtData->m_nDataSeq;

  000ce	8b 70 08	 mov	 esi, DWORD PTR [eax+8]

; 102  : 			dYFirst	= pHighLowPtData->m_dHigh;
; 103  : 			bFirstGradient	= TRUE;

  000d1	bf 01 00 00 00	 mov	 edi, 1
  000d6	f2 0f 10 78 20	 movsd	 xmm7, QWORD PTR [eax+32]

; 104  : 			bSatisfyCond	= FALSE;

  000db	33 c0		 xor	 eax, eax
  000dd	89 75 e0	 mov	 DWORD PTR _nSeq1$1$[ebp], esi

; 105  : 			
; 106  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  000e0	8d 72 02	 lea	 esi, DWORD PTR [edx+2]
  000e3	f2 0f 11 7d c4	 movsd	 QWORD PTR _dYFirst$1$[ebp], xmm7
  000e8	89 45 e4	 mov	 DWORD PTR _bSatisfyCond$1$[ebp], eax
  000eb	3b 75 ec	 cmp	 esi, DWORD PTR _nPointCnt$1$[ebp]
  000ee	0f 8d ab 01 00
	00		 jge	 $LN135@Get_Regist

; 100  : 		{
; 101  : 			nSeq1	= pHighLowPtData->m_nDataSeq;

  000f4	8d 0c b1	 lea	 ecx, DWORD PTR [ecx+esi*4]
$LL7@Get_Regist:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  000f7	85 f6		 test	 esi, esi
  000f9	0f 88 f5 03 00
	00		 js	 $LN48@Get_Regist
  000ff	8b 45 08	 mov	 eax, DWORD PTR _pObjHighLowPtData$[ebp]
  00102	3b 70 08	 cmp	 esi, DWORD PTR [eax+8]
  00105	0f 8d e9 03 00
	00		 jge	 $LN48@Get_Regist
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 109  : 				if ( !pHighLowPtTemp) continue;

  0010b	8b 01		 mov	 eax, DWORD PTR [ecx]
  0010d	85 c0		 test	 eax, eax
  0010f	0f 84 ee 00 00
	00		 je	 $LN5@Get_Regist

; 110  : 				
; 111  : 				if ( pHighLowPtTemp->m_nPointType == CHANGINGPT_HIGHTOLOW)

  00115	81 78 04 e9 03
	00 00		 cmp	 DWORD PTR [eax+4], 1001	; 000003e9H
  0011c	0f 85 e1 00 00
	00		 jne	 $LN5@Get_Regist

; 112  : 				{
; 113  : 					dValTemp = pHighLowPtTemp->m_dHigh;

  00122	66 0f 6e 5d e0	 movd	 xmm3, DWORD PTR _nSeq1$1$[ebp]
  00127	f2 0f 10 50 20	 movsd	 xmm2, QWORD PTR [eax+32]
  0012c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0012f	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 114  : 					
; 115  : 					if ( bFirstGradient)	// 

  00133	85 ff		 test	 edi, edi
  00135	74 43		 je	 SHORT $LN22@Get_Regist

; 116  : 					{
; 117  : 						nSeq2	 = pHighLowPtTemp->m_nDataSeq;

  00137	8b d8		 mov	 ebx, eax

; 118  : 						dYSecond = dValTemp;

  00139	f2 0f 11 55 cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm2

; 119  : 						bFirstGradient = FALSE;

  0013e	33 ff		 xor	 edi, edi
  00140	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx

; 2444 : 	double dGradient=0;

  00143	0f 28 c6	 movaps	 xmm0, xmm6
  00146	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0
  0014b	66 0f 6e cb	 movd	 xmm1, ebx

; 120  : 						
; 121  : 						// (Gradient) .
; 122  : 						dGradient = GetGradient(nSeq1, dYFirst, nSeq2, dYSecond);

  0014f	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00153	f2 0f 5c cb	 subsd	 xmm1, xmm3
  00157	66 0f 2e ce	 ucomisd xmm1, xmm6
  0015b	9f		 lahf
  0015c	f6 c4 44	 test	 ah, 68			; 00000044H
  0015f	0f 8b 9e 00 00
	00		 jnp	 $LN5@Get_Regist

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00165	0f 28 c2	 movaps	 xmm0, xmm2
  00168	f2 0f 5c c7	 subsd	 xmm0, xmm7
  0016c	f2 0f 5e c1	 divsd	 xmm0, xmm1
  00170	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0

; 123  : 					}

  00175	e9 89 00 00 00	 jmp	 $LN5@Get_Regist
$LN22@Get_Regist:
  0017a	0f 57 e4	 xorps	 xmm4, xmm4

; 124  : 					else
; 125  : 					{
; 126  : 						// Point2 Temp
; 127  : 						dXNext = pHighLowPtTemp->m_nDataSeq;

  0017d	f2 0f 2a e0	 cvtsi2sd xmm4, eax

; 128  : 						dYNext = dGradient * (dXNext - nSeq1) + dYFirst;

  00181	f2 0f 5c e3	 subsd	 xmm4, xmm3
  00185	0f 28 dc	 movaps	 xmm3, xmm4
  00188	f2 0f 59 d8	 mulsd	 xmm3, xmm0
  0018c	f2 0f 58 df	 addsd	 xmm3, xmm7

; 129  : 						
; 130  : 						dPermitHigh = dYNext + dYNext * dNextPtAllowableError / 100;

  00190	0f 28 cb	 movaps	 xmm1, xmm3
  00193	f2 0f 59 cd	 mulsd	 xmm1, xmm5

; 131  : 						dPermitLow	= dYNext - dYNext * dNextPtAllowableError / 100;

  00197	0f 28 eb	 movaps	 xmm5, xmm3
  0019a	f2 0f 5e 0d 00
	00 00 00	 divsd	 xmm1, QWORD PTR __real@4059000000000000
  001a2	0f 28 c1	 movaps	 xmm0, xmm1
  001a5	f2 0f 5c e9	 subsd	 xmm5, xmm1
  001a9	f2 0f 58 c3	 addsd	 xmm0, xmm3

; 132  : 						
; 133  : 						if (dValTemp <= dPermitHigh && dValTemp >= dPermitLow)

  001ad	66 0f 2f c2	 comisd	 xmm0, xmm2
  001b1	72 61		 jb	 SHORT $LN24@Get_Regist
  001b3	66 0f 2f d5	 comisd	 xmm2, xmm5
  001b7	72 5b		 jb	 SHORT $LN24@Get_Regist

; 134  : 						{
; 135  : 							nSeq2	= pHighLowPtTemp->m_nDataSeq;
; 136  : 							bSatisfyCond = TRUE;
; 137  : 							
; 138  : 							if ( dValTemp > dYNext)

  001b9	66 0f 2f d3	 comisd	 xmm2, xmm3
  001bd	8b d8		 mov	 ebx, eax
  001bf	c7 45 e4 01 00
	00 00		 mov	 DWORD PTR _bSatisfyCond$1$[ebp], 1
  001c6	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx
  001c9	76 29		 jbe	 SHORT $LN26@Get_Regist

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  001cb	66 0f 2e e6	 ucomisd xmm4, xmm6

; 139  : 							{
; 140  : 								dYSecond = dValTemp;

  001cf	f2 0f 11 55 cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm2

; 2444 : 	double dGradient=0;

  001d4	0f 28 c6	 movaps	 xmm0, xmm6
  001d7	f2 0f 11 75 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm6

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  001dc	9f		 lahf
  001dd	f6 c4 44	 test	 ah, 68			; 00000044H
  001e0	7b 1c		 jnp	 SHORT $LN61@Get_Regist

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  001e2	0f 28 c2	 movaps	 xmm0, xmm2
  001e5	f2 0f 5c c7	 subsd	 xmm0, xmm7
  001e9	f2 0f 5e c4	 divsd	 xmm0, xmm4
  001ed	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0

; 141  : 								
; 142  : 								// (Gradient) .
; 143  : 								dGradient = GetGradient(nSeq1, dYFirst, nSeq2, dYSecond);
; 144  : 							}

  001f2	eb 0a		 jmp	 SHORT $LN61@Get_Regist
$LN26@Get_Regist:
  001f4	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR _dGradient$1$[ebp]

; 145  : 							else
; 146  : 							{
; 147  : 								dYSecond = dYNext;

  001f9	f2 0f 11 5d cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm3
$LN61@Get_Regist:

; 105  : 			
; 106  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  001fe	f2 0f 10 6d 10	 movsd	 xmm5, QWORD PTR _dNextPtAllowableError$[ebp]
$LN5@Get_Regist:
  00203	83 c6 02	 add	 esi, 2
  00206	83 c1 08	 add	 ecx, 8
  00209	3b 75 ec	 cmp	 esi, DWORD PTR _nPointCnt$1$[ebp]
  0020c	0f 8c e5 fe ff
	ff		 jl	 $LL7@Get_Regist
  00212	eb 03		 jmp	 SHORT $LN116@Get_Regist
$LN24@Get_Regist:

; 148  : 							}
; 149  : 						}
; 150  : 						else
; 151  : 						{
; 152  : 							i = k-4;

  00214	8d 56 fc	 lea	 edx, DWORD PTR [esi-4]
$LN116@Get_Regist:

; 153  : 							break;
; 154  : 						}
; 155  : 					}
; 156  : 				}
; 157  : 			} // for-end
; 158  : 			
; 159  : 			if ( bSatisfyCond)

  00217	83 7d e4 00	 cmp	 DWORD PTR _bSatisfyCond$1$[ebp], 0
  0021b	74 78		 je	 SHORT $LN131@Get_Regist
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl

; 116  : 	{ return ::operator new(nSize); }

  0021d	6a 28		 push	 40			; 00000028H
  0021f	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  00224	83 c4 04	 add	 esp, 4
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 161  : 				pRegistNSupportData = new CRegistNSupportData;

  00227	89 45 dc	 mov	 DWORD PTR $T3[ebp], eax
  0022a	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00231	85 c0		 test	 eax, eax
  00233	74 0b		 je	 SHORT $LN41@Get_Regist
  00235	8b c8		 mov	 ecx, eax
  00237	e8 00 00 00 00	 call	 ??0CRegistNSupportData@@QAE@XZ ; CRegistNSupportData::CRegistNSupportData
  0023c	8b f8		 mov	 edi, eax
  0023e	eb 02		 jmp	 SHORT $LN42@Get_Regist
$LN41@Get_Regist:
  00240	33 ff		 xor	 edi, edi
$LN42@Get_Regist:

; 164  : 				pRegistNSupportData->m_dYPoint1		= dYFirst;

  00242	f2 0f 10 45 c4	 movsd	 xmm0, QWORD PTR _dYFirst$1$[ebp]
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  00247	8b 4d 0c	 mov	 ecx, DWORD PTR _pObjRegistNSupportData$[ebp]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 163  : 				pRegistNSupportData->m_nDataSeq1	= nSeq1;		// 

  0024a	8b 45 e0	 mov	 eax, DWORD PTR _nSeq1$1$[ebp]

; 164  : 				pRegistNSupportData->m_dYPoint1		= dYFirst;

  0024d	f2 0f 11 47 10	 movsd	 QWORD PTR [edi+16], xmm0

; 165  : 				pRegistNSupportData->m_nDataSeq2	= nSeq2;		// 
; 166  : 				pRegistNSupportData->m_dYPoint2		= dYSecond;

  00252	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dYSecond$1$[ebp]
  00257	c7 47 04 d1 07
	00 00		 mov	 DWORD PTR [edi+4], 2001	; 000007d1H
  0025e	89 47 08	 mov	 DWORD PTR [edi+8], eax
  00261	89 5f 18	 mov	 DWORD PTR [edi+24], ebx
  00264	f2 0f 11 47 20	 movsd	 QWORD PTR [edi+32], xmm0
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  00269	8b 59 08	 mov	 ebx, DWORD PTR [ecx+8]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 161  : 				pRegistNSupportData = new CRegistNSupportData;

  0026c	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 538  : 	if(nIndex < 0)

  00273	85 db		 test	 ebx, ebx
  00275	0f 88 79 02 00
	00		 js	 $LN48@Get_Regist

; 539  : 		AfxThrowInvalidArgException();
; 540  : 
; 541  : 	if (nIndex >= m_nSize)
; 542  : 		SetSize(nIndex+1, -1);

  0027b	6a ff		 push	 -1
  0027d	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  00280	50		 push	 eax
  00281	e8 00 00 00 00	 call	 ?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize

; 543  : 	m_pData[nIndex] = newElement;

  00286	8b 4d 0c	 mov	 ecx, DWORD PTR _pObjRegistNSupportData$[ebp]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 169  : 				i = k-4;

  00289	8d 56 fc	 lea	 edx, DWORD PTR [esi-4]
  0028c	0f 57 f6	 xorps	 xmm6, xmm6
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 543  : 	m_pData[nIndex] = newElement;

  0028f	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00292	89 3c 98	 mov	 DWORD PTR [eax+ebx*4], edi
$LN131@Get_Regist:
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 94   : 	for( i = nHigh; i < nPointCnt; i+=2)

  00295	f2 0f 10 6d 10	 movsd	 xmm5, QWORD PTR _dNextPtAllowableError$[ebp]
  0029a	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR _dGradient$1$[ebp]
$LN135@Get_Regist:
  0029f	8b 75 08	 mov	 esi, DWORD PTR _pObjHighLowPtData$[ebp]
$LN2@Get_Regist:
  002a2	8b 4d ec	 mov	 ecx, DWORD PTR _nPointCnt$1$[ebp]
  002a5	83 c2 02	 add	 edx, 2
  002a8	8b 5d f0	 mov	 ebx, DWORD PTR _nSeq2$1$[ebp]
  002ab	3b d1		 cmp	 edx, ecx
  002ad	0f 8c ef fd ff
	ff		 jl	 $LL122@Get_Regist
$LN3@Get_Regist:

; 170  : 			}
; 171  : 		}
; 172  : 	} // for-end
; 173  : 	// -----------------------------------------------------------------------------(1)
; 174  : 	
; 175  : 	
; 176  : 	//   -----------------------------------------------------------------(2)
; 177  : 	for( i = nLow; i < nPointCnt; i+=2)

  002b3	8b 55 e8	 mov	 edx, DWORD PTR _i$2$[ebp]
  002b6	3b d1		 cmp	 edx, ecx
  002b8	0f 8d 1d 02 00
	00		 jge	 $LN9@Get_Regist
  002be	66 90		 npad	 2
$LL10@Get_Regist:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  002c0	85 d2		 test	 edx, edx
  002c2	0f 88 2c 02 00
	00		 js	 $LN48@Get_Regist
  002c8	8b 7e 08	 mov	 edi, DWORD PTR [esi+8]
  002cb	3b d7		 cmp	 edx, edi
  002cd	0f 8d 21 02 00
	00		 jge	 $LN48@Get_Regist

; 289  : 		return m_pData[nIndex];

  002d3	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 179  : 		pHighLowPtData = paryHighLowPtData->GetAt(i);

  002d6	8b 04 91	 mov	 eax, DWORD PTR [ecx+edx*4]

; 180  : 		if ( !pHighLowPtData ) continue;

  002d9	85 c0		 test	 eax, eax
  002db	0f 84 db 01 00
	00		 je	 $LN8@Get_Regist

; 181  : 		
; 182  : 		if ( pHighLowPtData->m_nPointType == CHANGINGPT_LOWTOHIGH)

  002e1	81 78 04 ea 03
	00 00		 cmp	 DWORD PTR [eax+4], 1002	; 000003eaH
  002e8	0f 85 ce 01 00
	00		 jne	 $LN8@Get_Regist

; 183  : 		{
; 184  : 			nSeq1	= pHighLowPtData->m_nDataSeq;

  002ee	8b 50 08	 mov	 edx, DWORD PTR [eax+8]

; 189  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  002f1	8b 75 e8	 mov	 esi, DWORD PTR _i$2$[ebp]
  002f4	f2 0f 10 78 28	 movsd	 xmm7, QWORD PTR [eax+40]
  002f9	83 c6 02	 add	 esi, 2
  002fc	33 c0		 xor	 eax, eax
  002fe	89 55 e4	 mov	 DWORD PTR _nSeq1$2$[ebp], edx
  00301	ba 01 00 00 00	 mov	 edx, 1
  00306	f2 0f 11 7d c4	 movsd	 QWORD PTR _dYFirst$2$[ebp], xmm7
  0030b	89 45 e0	 mov	 DWORD PTR _bSatisfyCond$2$[ebp], eax
  0030e	3b 75 ec	 cmp	 esi, DWORD PTR _nPointCnt$1$[ebp]
  00311	0f 8d 9f 01 00
	00		 jge	 $LN132@Get_Regist

; 183  : 		{
; 184  : 			nSeq1	= pHighLowPtData->m_nDataSeq;

  00317	8d 0c b1	 lea	 ecx, DWORD PTR [ecx+esi*4]
  0031a	66 0f 1f 44 00
	00		 npad	 6
$LL13@Get_Regist:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 288  : 	if(nIndex >= 0 && nIndex < m_nSize)

  00320	85 f6		 test	 esi, esi
  00322	0f 88 cc 01 00
	00		 js	 $LN48@Get_Regist
  00328	3b f7		 cmp	 esi, edi
  0032a	0f 8d c4 01 00
	00		 jge	 $LN48@Get_Regist
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 192  : 				if ( !pHighLowPtTemp) continue;

  00330	8b 01		 mov	 eax, DWORD PTR [ecx]
  00332	85 c0		 test	 eax, eax
  00334	0f 84 e1 00 00
	00		 je	 $LN11@Get_Regist

; 193  : 				
; 194  : 				if ( pHighLowPtTemp->m_nPointType == CHANGINGPT_LOWTOHIGH)

  0033a	81 78 04 ea 03
	00 00		 cmp	 DWORD PTR [eax+4], 1002	; 000003eaH
  00341	0f 85 d4 00 00
	00		 jne	 $LN11@Get_Regist

; 195  : 				{
; 196  : 					dValTemp = pHighLowPtTemp->m_dLow;

  00347	66 0f 6e 5d e4	 movd	 xmm3, DWORD PTR _nSeq1$2$[ebp]
  0034c	f2 0f 10 50 28	 movsd	 xmm2, QWORD PTR [eax+40]
  00351	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00354	f3 0f e6 db	 cvtdq2pd xmm3, xmm3

; 197  : 					
; 198  : 					if ( bFirstGradient)	// 

  00358	85 d2		 test	 edx, edx
  0035a	74 40		 je	 SHORT $LN33@Get_Regist

; 199  : 					{
; 200  : 						nSeq2	 = pHighLowPtTemp->m_nDataSeq;

  0035c	8b d8		 mov	 ebx, eax

; 201  : 						dYSecond = dValTemp;

  0035e	f2 0f 11 55 cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm2

; 202  : 						bFirstGradient = FALSE;

  00363	33 d2		 xor	 edx, edx
  00365	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx

; 2444 : 	double dGradient=0;

  00368	0f 28 c6	 movaps	 xmm0, xmm6
  0036b	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0
  00370	66 0f 6e cb	 movd	 xmm1, ebx

; 203  : 						
; 204  : 						// (Gradient) .
; 205  : 						dGradient = GetGradient(nSeq1, dYFirst, nSeq2, dYSecond);

  00374	f3 0f e6 c9	 cvtdq2pd xmm1, xmm1

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  00378	f2 0f 5c cb	 subsd	 xmm1, xmm3
  0037c	66 0f 2e ce	 ucomisd xmm1, xmm6
  00380	9f		 lahf
  00381	f6 c4 44	 test	 ah, 68			; 00000044H
  00384	0f 8b 91 00 00
	00		 jnp	 $LN11@Get_Regist

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  0038a	0f 28 c2	 movaps	 xmm0, xmm2
  0038d	f2 0f 5c c7	 subsd	 xmm0, xmm7
  00391	f2 0f 5e c1	 divsd	 xmm0, xmm1
  00395	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0

; 206  : 					}

  0039a	eb 7f		 jmp	 SHORT $LN11@Get_Regist
$LN33@Get_Regist:
  0039c	0f 57 e4	 xorps	 xmm4, xmm4

; 207  : 					else
; 208  : 					{
; 209  : 						// Point2 Temp
; 210  : 						dXNext = pHighLowPtTemp->m_nDataSeq;

  0039f	f2 0f 2a e0	 cvtsi2sd xmm4, eax

; 211  : 						dYNext = dGradient * (dXNext - nSeq1) + dYFirst;

  003a3	f2 0f 5c e3	 subsd	 xmm4, xmm3
  003a7	0f 28 dc	 movaps	 xmm3, xmm4
  003aa	f2 0f 59 d8	 mulsd	 xmm3, xmm0
  003ae	f2 0f 58 df	 addsd	 xmm3, xmm7

; 212  : 						
; 213  : 						dPermitHigh = dYNext + dYNext * dNextPtAllowableError / 100;

  003b2	0f 28 cb	 movaps	 xmm1, xmm3
  003b5	f2 0f 59 cd	 mulsd	 xmm1, xmm5

; 214  : 						dPermitLow	= dYNext - dYNext * dNextPtAllowableError / 100;

  003b9	0f 28 eb	 movaps	 xmm5, xmm3
  003bc	f2 0f 5e 0d 00
	00 00 00	 divsd	 xmm1, QWORD PTR __real@4059000000000000
  003c4	0f 28 c1	 movaps	 xmm0, xmm1
  003c7	f2 0f 5c e9	 subsd	 xmm5, xmm1
  003cb	f2 0f 58 c3	 addsd	 xmm0, xmm3

; 215  : 						
; 216  : 						if (dValTemp <= dPermitHigh && dValTemp >= dPermitLow)

  003cf	66 0f 2f c2	 comisd	 xmm0, xmm2
  003d3	72 60		 jb	 SHORT $LN35@Get_Regist
  003d5	66 0f 2f d5	 comisd	 xmm2, xmm5
  003d9	72 5a		 jb	 SHORT $LN35@Get_Regist

; 217  : 						{
; 218  : 							nSeq2	= pHighLowPtTemp->m_nDataSeq;
; 219  : 							bSatisfyCond = TRUE;
; 220  : 							
; 221  : 							if ( dValTemp < dYNext)

  003db	66 0f 2f da	 comisd	 xmm3, xmm2
  003df	8b d8		 mov	 ebx, eax
  003e1	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bSatisfyCond$2$[ebp], 1
  003e8	89 5d f0	 mov	 DWORD PTR _nSeq2$1$[ebp], ebx
  003eb	76 29		 jbe	 SHORT $LN37@Get_Regist

; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003ed	66 0f 2e e6	 ucomisd xmm4, xmm6
  003f1	0f 28 c6	 movaps	 xmm0, xmm6

; 222  : 							{
; 223  : 								dYSecond = dValTemp;

  003f4	f2 0f 11 55 cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm2

; 2444 : 	double dGradient=0;

  003f9	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0

; 2445 : 
; 2446 : 	if( (dXPos2 - dXPos1) != 0)

  003fe	9f		 lahf
  003ff	f6 c4 44	 test	 ah, 68			; 00000044H
  00402	7b 17		 jnp	 SHORT $LN11@Get_Regist

; 2447 : 	{
; 2448 : 		dGradient = (dYPos2 - dYPos1) / (dXPos2 - dXPos1);

  00404	0f 28 c2	 movaps	 xmm0, xmm2
  00407	f2 0f 5c c7	 subsd	 xmm0, xmm7
  0040b	f2 0f 5e c4	 divsd	 xmm0, xmm4
  0040f	f2 0f 11 45 d4	 movsd	 QWORD PTR _dGradient$1$[ebp], xmm0

; 224  : 								
; 225  : 								// (Gradient) .
; 226  : 								dGradient = GetGradient(nSeq1, dYFirst, nSeq2, dYSecond);
; 227  : 							}

  00414	eb 05		 jmp	 SHORT $LN11@Get_Regist
$LN37@Get_Regist:

; 228  : 							else
; 229  : 							{
; 230  : 								dYSecond = dYNext;

  00416	f2 0f 11 5d cc	 movsd	 QWORD PTR _dYSecond$1$[ebp], xmm3
$LN11@Get_Regist:

; 189  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  0041b	83 c6 02	 add	 esi, 2
  0041e	83 c1 08	 add	 ecx, 8
  00421	3b 75 ec	 cmp	 esi, DWORD PTR _nPointCnt$1$[ebp]
  00424	7d 14		 jge	 SHORT $LN133@Get_Regist
  00426	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR _dGradient$1$[ebp]
  0042b	f2 0f 10 6d 10	 movsd	 xmm5, QWORD PTR _dNextPtAllowableError$[ebp]
  00430	e9 eb fe ff ff	 jmp	 $LL13@Get_Regist
$LN35@Get_Regist:

; 231  : 							}
; 232  : 						}
; 233  : 						else
; 234  : 						{
; 235  : 							i = k-4;

  00435	8d 56 fc	 lea	 edx, DWORD PTR [esi-4]
  00438	eb 03		 jmp	 SHORT $LN117@Get_Regist
$LN133@Get_Regist:

; 189  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  0043a	8b 55 e8	 mov	 edx, DWORD PTR _i$2$[ebp]
$LN117@Get_Regist:

; 236  : 							break;
; 237  : 						}
; 238  : 					}
; 239  : 				}
; 240  : 			} // for-end
; 241  : 			
; 242  : 			if ( bSatisfyCond)

  0043d	83 7d e0 00	 cmp	 DWORD PTR _bSatisfyCond$2$[ebp], 0
  00441	74 76		 je	 SHORT $LN134@Get_Regist
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl

; 116  : 	{ return ::operator new(nSize); }

  00443	6a 28		 push	 40			; 00000028H
  00445	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  0044a	83 c4 04	 add	 esp, 4
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 244  : 				pRegistNSupportData = new CRegistNSupportData;

  0044d	89 45 dc	 mov	 DWORD PTR $T2[ebp], eax
  00450	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 1
  00457	85 c0		 test	 eax, eax
  00459	74 0b		 je	 SHORT $LN43@Get_Regist
  0045b	8b c8		 mov	 ecx, eax
  0045d	e8 00 00 00 00	 call	 ??0CRegistNSupportData@@QAE@XZ ; CRegistNSupportData::CRegistNSupportData
  00462	8b f8		 mov	 edi, eax
  00464	eb 02		 jmp	 SHORT $LN44@Get_Regist
$LN43@Get_Regist:
  00466	33 ff		 xor	 edi, edi
$LN44@Get_Regist:

; 247  : 				pRegistNSupportData->m_dYPoint1		= dYFirst;

  00468	f2 0f 10 45 c4	 movsd	 xmm0, QWORD PTR _dYFirst$2$[ebp]
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  0046d	8b 4d 0c	 mov	 ecx, DWORD PTR _pObjRegistNSupportData$[ebp]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 246  : 				pRegistNSupportData->m_nDataSeq1	= nSeq1;		// 

  00470	8b 45 e4	 mov	 eax, DWORD PTR _nSeq1$2$[ebp]

; 247  : 				pRegistNSupportData->m_dYPoint1		= dYFirst;

  00473	f2 0f 11 47 10	 movsd	 QWORD PTR [edi+16], xmm0

; 248  : 				pRegistNSupportData->m_nDataSeq2	= nSeq2;		// 
; 249  : 				pRegistNSupportData->m_dYPoint2		= dYSecond;

  00478	f2 0f 10 45 cc	 movsd	 xmm0, QWORD PTR _dYSecond$1$[ebp]
  0047d	c7 47 04 d2 07
	00 00		 mov	 DWORD PTR [edi+4], 2002	; 000007d2H
  00484	89 47 08	 mov	 DWORD PTR [edi+8], eax
  00487	89 5f 18	 mov	 DWORD PTR [edi+24], ebx
  0048a	f2 0f 11 47 20	 movsd	 QWORD PTR [edi+32], xmm0
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 333  : 	{ INT_PTR nIndex = m_nSize;

  0048f	8b 59 08	 mov	 ebx, DWORD PTR [ecx+8]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 244  : 				pRegistNSupportData = new CRegistNSupportData;

  00492	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 538  : 	if(nIndex < 0)

  00499	85 db		 test	 ebx, ebx
  0049b	78 57		 js	 SHORT $LN48@Get_Regist

; 539  : 		AfxThrowInvalidArgException();
; 540  : 
; 541  : 	if (nIndex >= m_nSize)
; 542  : 		SetSize(nIndex+1, -1);

  0049d	6a ff		 push	 -1
  0049f	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  004a2	50		 push	 eax
  004a3	e8 00 00 00 00	 call	 ?SetSize@?$CArray@PAVCRegistNSupportData@@PAV1@@@QAEXHH@Z ; CArray<CRegistNSupportData *,CRegistNSupportData *>::SetSize

; 543  : 	m_pData[nIndex] = newElement;

  004a8	8b 4d 0c	 mov	 ecx, DWORD PTR _pObjRegistNSupportData$[ebp]
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 252  : 				i = k-4;

  004ab	8d 56 fc	 lea	 edx, DWORD PTR [esi-4]
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 543  : 	m_pData[nIndex] = newElement;

  004ae	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  004b1	89 3c 98	 mov	 DWORD PTR [eax+ebx*4], edi
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp

; 189  : 			for ( k=i+2; k < nPointCnt; k+=2)		//  

  004b4	eb 03		 jmp	 SHORT $LN134@Get_Regist
$LN132@Get_Regist:
  004b6	8b 55 e8	 mov	 edx, DWORD PTR _i$2$[ebp]
$LN134@Get_Regist:

; 170  : 			}
; 171  : 		}
; 172  : 	} // for-end
; 173  : 	// -----------------------------------------------------------------------------(1)
; 174  : 	
; 175  : 	
; 176  : 	//   -----------------------------------------------------------------(2)
; 177  : 	for( i = nLow; i < nPointCnt; i+=2)

  004b9	8b 75 08	 mov	 esi, DWORD PTR _pObjHighLowPtData$[ebp]
$LN8@Get_Regist:
  004bc	f2 0f 10 45 d4	 movsd	 xmm0, QWORD PTR _dGradient$1$[ebp]
  004c1	83 c2 02	 add	 edx, 2
  004c4	0f 57 f6	 xorps	 xmm6, xmm6
  004c7	f2 0f 10 6d 10	 movsd	 xmm5, QWORD PTR _dNextPtAllowableError$[ebp]
  004cc	8b 5d f0	 mov	 ebx, DWORD PTR _nSeq2$1$[ebp]
  004cf	89 55 e8	 mov	 DWORD PTR _i$2$[ebp], edx
  004d2	3b 55 ec	 cmp	 edx, DWORD PTR _nPointCnt$1$[ebp]
  004d5	0f 8c e5 fd ff
	ff		 jl	 $LL10@Get_Regist
$LN9@Get_Regist:

; 253  : 			}
; 254  : 		}
; 255  : 	} // for-end
; 256  : 	// -----------------------------------------------------------------------------(2)
; 257  : 
; 258  : 	return TRUE;

  004db	b8 01 00 00 00	 mov	 eax, 1

; 259  : }

  004e0	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  004e3	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  004ea	59		 pop	 ecx
  004eb	5f		 pop	 edi
  004ec	5e		 pop	 esi
  004ed	5b		 pop	 ebx
  004ee	8b e5		 mov	 esp, ebp
  004f0	5d		 pop	 ebp
  004f1	c2 10 00	 ret	 16			; 00000010H
$LN48@Get_Regist:
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afxtempl.h

; 290  : 	AfxThrowInvalidArgException();

  004f4	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN137@Get_Regist:
  004f9	cc		 int	 3
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z$0:
  00000	8b 45 dc	 mov	 eax, DWORD PTR $T3[ebp]
  00003	50		 push	 eax
  00004	e8 00 00 00 00	 call	 ??3CObject@@SGXPAX@Z	; CObject::operator delete
  00009	c3		 ret	 0
__unwindfunclet$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z$1:
  0000a	8b 45 dc	 mov	 eax, DWORD PTR $T2[ebp]
  0000d	50		 push	 eax
  0000e	e8 00 00 00 00	 call	 ??3CObject@@SGXPAX@Z	; CObject::operator delete
  00013	c3		 ret	 0
  00014	cc		 int	 3
  00015	cc		 int	 3
  00016	cc		 int	 3
  00017	cc		 int	 3
  00018	cc		 int	 3
__ehhandler$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z:
  00019	90		 npad	 1
  0001a	90		 npad	 1
  0001b	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0001f	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00022	8b 4a c0	 mov	 ecx, DWORD PTR [edx-64]
  00025	33 c8		 xor	 ecx, eax
  00027	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002c	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z
  00031	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?Get_RegistNSupportLine@CWavePattern@@QAEHPAVCObject@@0N@Z ENDP ; CWavePattern::Get_RegistNSupportLine
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ??1CWavePattern@@UAE@XZ
_TEXT	SEGMENT
??1CWavePattern@@UAE@XZ PROC				; CWavePattern::~CWavePattern, COMDAT
; _this$ = ecx

; 45   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CWavePattern@@6B@

; 46   : }

  00006	c3		 ret	 0
??1CWavePattern@@UAE@XZ ENDP				; CWavePattern::~CWavePattern
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ??0CWavePattern@@QAE@XZ
_TEXT	SEGMENT
??0CWavePattern@@QAE@XZ PROC				; CWavePattern::CWavePattern, COMDAT
; _this$ = ecx

; 38   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CWavePattern@@6B@

; 39   : // 2008.02.20 by LYH >>
; 40   : 	m_hOcxWnd = NULL;
; 41   : // 2008.02.20 by LYH <<
; 42   : }

  00006	8b c1		 mov	 eax, ecx
  00008	c7 41 04 00 00
	00 00		 mov	 DWORD PTR [ecx+4], 0
  0000f	c3		 ret	 0
??0CWavePattern@@QAE@XZ ENDP				; CWavePattern::CWavePattern
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ?Dump@CObject@@UBEXAAVCDumpContext@@@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?Dump@CObject@@UBEXAAVCDumpContext@@@Z PROC		; CObject::Dump, COMDAT
; _this$ = ecx

; 122  : 	{ /* no dumping in release builds */ }

  00000	c2 04 00	 ret	 4
?Dump@CObject@@UBEXAAVCDumpContext@@@Z ENDP		; CObject::Dump
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ?AssertValid@CObject@@UBEXXZ
_TEXT	SEGMENT
?AssertValid@CObject@@UBEXXZ PROC			; CObject::AssertValid, COMDAT
; _this$ = ecx

; 120  : 	{ /* no asserts in release builds */ }

  00000	c2 00 00	 ret	 0
?AssertValid@CObject@@UBEXXZ ENDP			; CObject::AssertValid
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ?Serialize@CObject@@UAEXAAVCArchive@@@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?Serialize@CObject@@UAEXAAVCArchive@@@Z PROC		; CObject::Serialize, COMDAT
; _this$ = ecx

; 106  : 	{ /* CObject does not serialize anything by default */ }

  00000	c2 04 00	 ret	 4
?Serialize@CObject@@UAEXAAVCArchive@@@Z ENDP		; CObject::Serialize
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ??3CObject@@SGXPAX@Z
_TEXT	SEGMENT
_p$ = 8							; size = 4
??3CObject@@SGXPAX@Z PROC				; CObject::operator delete, COMDAT

; 112  : 	{ ::operator delete(p); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	ff 75 08	 push	 DWORD PTR _p$[ebp]
  00006	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  0000b	83 c4 04	 add	 esp, 4
  0000e	5d		 pop	 ebp
  0000f	c2 04 00	 ret	 4
??3CObject@@SGXPAX@Z ENDP				; CObject::operator delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\atlmfc\include\afx.inl
;	COMDAT ??1CObject@@UAE@XZ
_TEXT	SEGMENT
??1CObject@@UAE@XZ PROC					; CObject::~CObject, COMDAT
; _this$ = ecx

; 104  : 	{ }

  00000	c2 00 00	 ret	 0
??1CObject@@UAE@XZ ENDP					; CObject::~CObject
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c2 00 00	 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcChartEx\ChartAddIn\ChartPatternAddIn\WavePattern.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	c2 00 00	 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
