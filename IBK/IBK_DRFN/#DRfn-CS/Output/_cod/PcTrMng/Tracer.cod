; Listing generated by Microsoft (R) Optimizing Compiler Version 19.29.30145.0 

	TITLE	D:\git\src\IBK\IBK_DRFN\#DRfn-CS\_Obj\PcTrMng\Tracer.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	?sPipeName@@3PBDB				; sPipeName
PUBLIC	??_C@_0BE@PNGGGEBF@?2?2?4?2pipe?2DRFNTracer@	; `string'
;	COMDAT ??_C@_0BE@PNGGGEBF@?2?2?4?2pipe?2DRFNTracer@
CONST	SEGMENT
??_C@_0BE@PNGGGEBF@?2?2?4?2pipe?2DRFNTracer@ DB '\\.\pipe\DRFNTracer', 00H ; `string'
CONST	ENDS
_DATA	SEGMENT
?sPipeName@@3PBDB DD FLAT:??_C@_0BE@PNGGGEBF@?2?2?4?2pipe?2DRFNTracer@ ; sPipeName
_DATA	ENDS
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	___local_stdio_printf_options
PUBLIC	??0CTracer@@QAE@XZ				; CTracer::CTracer
PUBLIC	??1CTracer@@UAE@XZ				; CTracer::~CTracer
PUBLIC	?Connect@CTracer@@QAE_NXZ			; CTracer::Connect
PUBLIC	?DisConnect@CTracer@@QAEXXZ			; CTracer::DisConnect
PUBLIC	?MakeTrace@CTracer@@QBA_NPBDZZ			; CTracer::MakeTrace
PUBLIC	??_GCTracer@@UAEPAXI@Z				; CTracer::`scalar deleting destructor'
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	??_7CTracer@@6B@				; CTracer::`vftable'
PUBLIC	??_R4CTracer@@6B@				; CTracer::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCTracer@@@8				; CTracer `RTTI Type Descriptor'
PUBLIC	??_R3CTracer@@8					; CTracer::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CTracer@@8					; CTracer::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CTracer@@8			; CTracer::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	__imp__CreateFileA@28:PROC
EXTRN	__imp__WriteFile@20:PROC
EXTRN	__imp__CloseHandle@4:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	??_ECTracer@@UAEPAXI@Z:PROC			; CTracer::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	___security_cookie:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
;	COMDAT ??_R1A@?0A@EA@CTracer@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CTracer@@8 DD FLAT:??_R0?AVCTracer@@@8	; CTracer::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CTracer@@8
rdata$r	ENDS
;	COMDAT ??_R2CTracer@@8
rdata$r	SEGMENT
??_R2CTracer@@8 DD FLAT:??_R1A@?0A@EA@CTracer@@8	; CTracer::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CTracer@@8
rdata$r	SEGMENT
??_R3CTracer@@8 DD 00H					; CTracer::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CTracer@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCTracer@@@8
data$rs	SEGMENT
??_R0?AVCTracer@@@8 DD FLAT:??_7type_info@@6B@		; CTracer `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCTracer@@', 00H
data$rs	ENDS
;	COMDAT ??_R4CTracer@@6B@
rdata$r	SEGMENT
??_R4CTracer@@6B@ DD 00H				; CTracer::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCTracer@@@8
	DD	FLAT:??_R3CTracer@@8
rdata$r	ENDS
;	COMDAT ??_7CTracer@@6B@
CONST	SEGMENT
??_7CTracer@@6B@ DD FLAT:??_R4CTracer@@6B@		; CTracer::`vftable'
	DD	FLAT:??_ECTracer@@UAEPAXI@Z
CONST	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ??_GCTracer@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCTracer@@UAEPAXI@Z PROC				; CTracer::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 30   : {

  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx

; 31   : 	if (m_hPipe != INVALID_HANDLE_VALUE)

  00006	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00009	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CTracer@@6B@
  0000f	83 f8 ff	 cmp	 eax, -1
  00012	74 07		 je	 SHORT $LN5@scalar

; 32   : 		CloseHandle(m_hPipe);

  00014	50		 push	 eax
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
$LN5@scalar:
  0001b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0001f	74 0b		 je	 SHORT $LN7@scalar
  00021	6a 08		 push	 8
  00023	56		 push	 esi
  00024	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00029	83 c4 08	 add	 esp, 8
$LN7@scalar:
  0002c	8b c6		 mov	 eax, esi
  0002e	5e		 pop	 esi
  0002f	5d		 pop	 ebp
  00030	c2 04 00	 ret	 4
??_GCTracer@@UAEPAXI@Z ENDP				; CTracer::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\stdio.h
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ?MakeTrace@CTracer@@QBA_NPBDZZ
_TEXT	SEGMENT
_nWritten$ = -1032					; size = 4
_buffer$ = -1028					; size = 1024
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_pStr$ = 12						; size = 4
?MakeTrace@CTracer@@QBA_NPBDZZ PROC			; CTracer::MakeTrace, COMDAT

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 04 00
	00		 sub	 esp, 1032		; 00000408H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _this$[ebp]

; 51   : 	if (m_hPipe == INVALID_HANDLE_VALUE)

  00018	83 7f 04 ff	 cmp	 DWORD PTR [edi+4], -1
  0001c	74 7c		 je	 SHORT $LN11@MakeTrace
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\stdio.h

; 1392 :         int const _Result = __stdio_common_vsprintf(

  0001e	8d 45 10	 lea	 eax, DWORD PTR _pStr$[ebp+4]
  00021	50		 push	 eax
  00022	6a 00		 push	 0
  00024	ff 75 0c	 push	 DWORD PTR _pStr$[ebp]
  00027	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _buffer$[ebp]
  0002d	68 00 04 00 00	 push	 1024			; 00000400H
  00032	50		 push	 eax
  00033	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00038	8b 08		 mov	 ecx, DWORD PTR [eax]
  0003a	ff 70 04	 push	 DWORD PTR [eax+4]
  0003d	83 c9 01	 or	 ecx, 1
  00040	51		 push	 ecx
  00041	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00047	8b f0		 mov	 esi, eax
  00049	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1393 :             _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1394 :             _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1395 : 
; 1396 :         return _Result < 0 ? -1 : _Result;

  0004c	83 c8 ff	 or	 eax, -1
  0004f	85 f6		 test	 esi, esi
  00051	0f 48 f0	 cmovs	 esi, eax
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp

; 63   : 	if (nCount <= 0)

  00054	85 f6		 test	 esi, esi
  00056	74 42		 je	 SHORT $LN11@MakeTrace

; 64   : 		return false;
; 65   : 
; 66   : 	DWORD nWritten = 0;
; 67   : 	return WriteFile(m_hPipe, (BYTE*)buffer, nCount, &nWritten, NULL) != FALSE && nWritten == nCount;

  00058	6a 00		 push	 0
  0005a	8d 85 f8 fb ff
	ff		 lea	 eax, DWORD PTR _nWritten$[ebp]
  00060	c7 85 f8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _nWritten$[ebp], 0
  0006a	50		 push	 eax
  0006b	56		 push	 esi
  0006c	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _buffer$[ebp]
  00072	50		 push	 eax
  00073	ff 77 04	 push	 DWORD PTR [edi+4]
  00076	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WriteFile@20
  0007c	85 c0		 test	 eax, eax
  0007e	74 1a		 je	 SHORT $LN11@MakeTrace
  00080	39 b5 f8 fb ff
	ff		 cmp	 DWORD PTR _nWritten$[ebp], esi
  00086	75 12		 jne	 SHORT $LN11@MakeTrace
  00088	5f		 pop	 edi
  00089	b0 01		 mov	 al, 1

; 68   : }

  0008b	5e		 pop	 esi
  0008c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0008f	33 cd		 xor	 ecx, ebp
  00091	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00096	8b e5		 mov	 esp, ebp
  00098	5d		 pop	 ebp
  00099	c3		 ret	 0
$LN11@MakeTrace:
  0009a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0009d	32 c0		 xor	 al, al
  0009f	5f		 pop	 edi
  000a0	33 cd		 xor	 ecx, ebp
  000a2	5e		 pop	 esi
  000a3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000a8	8b e5		 mov	 esp, ebp
  000aa	5d		 pop	 ebp
  000ab	c3		 ret	 0
?MakeTrace@CTracer@@QBA_NPBDZZ ENDP			; CTracer::MakeTrace
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ?DisConnect@CTracer@@QAEXXZ
_TEXT	SEGMENT
?DisConnect@CTracer@@QAEXXZ PROC			; CTracer::DisConnect, COMDAT
; _this$ = ecx

; 43   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 44   : 	if (m_hPipe != INVALID_HANDLE_VALUE)

  00003	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00006	83 f8 ff	 cmp	 eax, -1
  00009	74 07		 je	 SHORT $LN4@DisConnect

; 45   : 		CloseHandle(m_hPipe);

  0000b	50		 push	 eax
  0000c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
$LN4@DisConnect:

; 46   : 	m_hPipe = INVALID_HANDLE_VALUE;
; 47   : }

  00012	c7 46 04 ff ff
	ff ff		 mov	 DWORD PTR [esi+4], -1
  00019	5e		 pop	 esi
  0001a	c3		 ret	 0
?DisConnect@CTracer@@QAEXXZ ENDP			; CTracer::DisConnect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ?Connect@CTracer@@QAE_NXZ
_TEXT	SEGMENT
?Connect@CTracer@@QAE_NXZ PROC				; CTracer::Connect, COMDAT
; _this$ = ecx

; 37   : {

  00000	56		 push	 esi

; 38   : 	m_hPipe = CreateFile(sPipeName, GENERIC_WRITE, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);

  00001	6a 00		 push	 0
  00003	68 80 00 00 00	 push	 128			; 00000080H
  00008	6a 03		 push	 3
  0000a	6a 00		 push	 0
  0000c	6a 00		 push	 0
  0000e	68 00 00 00 40	 push	 1073741824		; 40000000H
  00013	ff 35 00 00 00
	00		 push	 DWORD PTR ?sPipeName@@3PBDB ; sPipeName
  00019	8b f1		 mov	 esi, ecx
  0001b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateFileA@28

; 39   : 	return m_hPipe != INVALID_HANDLE_VALUE;

  00021	83 f8 ff	 cmp	 eax, -1
  00024	89 46 04	 mov	 DWORD PTR [esi+4], eax
  00027	5e		 pop	 esi
  00028	0f 95 c0	 setne	 al

; 40   : }

  0002b	c3		 ret	 0
?Connect@CTracer@@QAE_NXZ ENDP				; CTracer::Connect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ??1CTracer@@UAE@XZ
_TEXT	SEGMENT
??1CTracer@@UAE@XZ PROC					; CTracer::~CTracer, COMDAT
; _this$ = ecx

; 31   : 	if (m_hPipe != INVALID_HANDLE_VALUE)

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00003	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CTracer@@6B@
  00009	83 f8 ff	 cmp	 eax, -1
  0000c	74 07		 je	 SHORT $LN2@CTracer

; 32   : 		CloseHandle(m_hPipe);

  0000e	50		 push	 eax
  0000f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
$LN2@CTracer:

; 33   : 
; 34   : }

  00015	c3		 ret	 0
??1CTracer@@UAE@XZ ENDP					; CTracer::~CTracer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ??0CTracer@@QAE@XZ
_TEXT	SEGMENT
??0CTracer@@QAE@XZ PROC					; CTracer::CTracer, COMDAT
; _this$ = ecx

; 25   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CTracer@@6B@

; 26   : 	m_hPipe = INVALID_HANDLE_VALUE;
; 27   : }

  00006	8b c1		 mov	 eax, ecx
  00008	c7 41 04 ff ff
	ff ff		 mov	 DWORD PTR [ecx+4], -1
  0000f	c3		 ret	 0
??0CTracer@@QAE@XZ ENDP					; CTracer::CTracer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\Program Files (x86)\Windows Kits\10\Include\10.0.22000.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 91   :         static unsigned __int64 _OptionsStorage;
; 92   :         return &_OptionsStorage;

  00000	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 93   :     }

  00005	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c2 00 00	 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File D:\git\src\IBK\IBK_DRFN\ProjSrc\SrcDrfn\DrCommon\PcTrMng\Tracer.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	c2 00 00	 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
